{
    "componentChunkName": "component---src-templates-blog-template-js",
    "path": "/profile-active-profile/",
    "result": {"data":{"cur":{"id":"d5d76813-7bae-5b9a-b7c6-1a21a2637ac2","html":"<h2 id=\"intro\" style=\"position:relative;\"><a href=\"#intro\" aria-label=\"intro permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Intro</h2>\n<ul>\n<li>í”„ë¡œì íŠ¸ë¥¼ ì§„í–‰í•˜ë‹¤ ë³´ë©´ ìƒí™©ì— ë”°ë¼ ê°ê¸° ë‹¤ë¥¸ ìš´ì˜í™˜ê²½ì„ ì„¤ì •í•´ì•¼í• ë•Œê°€ ìˆë‹¤. ê·¸ë•Œë§ˆë‹¤ properties ì„¤ì • íŒŒì¼ì— ê°€ì„œ ì„¤ì •ë˜ì–´ìˆëŠ” ìš´ì˜ í™˜ê²½ì„ ë°”ê¾¸ê³  ëŒë¦¬ê¸°ëŠ” ì–´ë µë‹¤.</li>\n<li>ì´ë•Œ ê°ê¸° ë‹¤ë¥¸ <code class=\"language-text\">Profile</code>ë¥¼ ì ìš©í•´ì„œ ìƒí™©ì— ë”°ë¼ ì í•©í•œ <code class=\"language-text\">Profile</code> ì„¤ì •ì„ ë”°ë¥´ë„ë¡ í•  ìˆ˜ ìˆë‹¤.</li>\n</ul>\n<br>\n<h2 id=\"yml-íŒŒì¼ë¡œ-ì„¤ì •-ë‚˜ëˆ„ê¸°---ê°„ë‹¨í•˜ê²Œ\" style=\"position:relative;\"><a href=\"#yml-%ED%8C%8C%EC%9D%BC%EB%A1%9C-%EC%84%A4%EC%A0%95-%EB%82%98%EB%88%84%EA%B8%B0---%EA%B0%84%EB%8B%A8%ED%95%98%EA%B2%8C\" aria-label=\"yml íŒŒì¼ë¡œ ì„¤ì • ë‚˜ëˆ„ê¸°   ê°„ë‹¨í•˜ê²Œ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>yml íŒŒì¼ë¡œ ì„¤ì • ë‚˜ëˆ„ê¸° - ê°„ë‹¨í•˜ê²Œ</h2>\n<ul>\n<li>\n<p><code class=\"language-text\">yml</code> ë˜ëŠ” <code class=\"language-text\">properties</code>ë¥¼ í†µí•´ì„œ profile ì„¤ì •ì„ ë‚˜ëˆŒ ìˆ˜ ìˆë‹¤.</p>\n</li>\n<li>\n<p>ê°ê° ì›í•˜ëŠ” í™˜ê²½ì— ëŒ€í•œ ì„¤ì •ì •ë³´ë¥¼ <code class=\"language-text\">yml</code>, <code class=\"language-text\">properties</code>ì— ê¸°ì¬í•œ í›„ <code class=\"language-text\">application-{profile-name}.yml</code> ë˜ëŠ” <code class=\"language-text\">application-{profile-name}.properties</code>ë¡œ ì§€ì •í•œë‹¤.</p>\n<p align=\"center\"><img width=\"317\" alt=\"á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2021-08-17 á„‹á…©á„’á…® 8 42 39\" src=\"https://user-images.githubusercontent.com/63405904/129719783-aeb9d93e-4c22-473e-9221-0b553393287d.png\"><br>resources í•˜ìœ„ì— ë‚˜ëˆ„ì–´ì§„ profiles ì„¤ì •ë“¤</p>\n</li>\n<li>\n<p>ì—¬ëŸ¬ profile í™˜ê²½ìœ¼ë¡œ ë‚˜ëˆ ì ¸ ìˆì„ ê²½ìš° ì–´ë–¤ profileì„ ê¸°ë³¸ì ìœ¼ë¡œ ì‹¤í–‰í•  ê²ƒì¸ì§€ <code class=\"language-text\">application.properties</code>ì— ì§€ì •í•´ ì£¼ì–´ì•¼ í•œë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"properties\"><pre class=\"language-properties\"><code class=\"language-properties\">    spring.\n        profiles.\n<span class=\"token attr-name\">            active</span> <span class=\"token punctuation\">=</span> <span class=\"token attr-value\">local</span></code></pre></div>\n</li>\n<li>\n<p>ë‚˜ëˆ„ì–´ì§„ profileì„ ì ìš©í•˜ê¸° ìœ„í•´ì„œëŠ” <code class=\"language-text\">$ java -jar -Dspring.profiles.active={profile-name} [jaríŒŒì¼ëª…]</code>ë¡œ ì ìš©í•˜ê³ ìí•˜ëŠ” í”„ë¡œí•„ì„ ì§€ì •í•˜ì—¬ ì‹¤í–‰í•˜ê±°ë‚˜ <code class=\"language-text\">@ActiveProfile</code> ì–´ë…¸í…Œì´ì…˜ì„ í™œìš©í•  ìˆ˜ ìˆë‹¤.</p>\n</li>\n</ul>\n<br>\n<h3 id=\"ì‚¬ìš©-ì˜ˆì‹œ\" style=\"position:relative;\"><a href=\"#%EC%82%AC%EC%9A%A9-%EC%98%88%EC%8B%9C\" aria-label=\"ì‚¬ìš© ì˜ˆì‹œ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ì‚¬ìš© ì˜ˆì‹œ</h3>\n<ul>\n<li>ë³¸ì¸ì€ í”„ë¡œì íŠ¸ ì§„í–‰ ì‹œ ë‹¤ìŒê³¼ ê°™ì´ local, prod, testë¡œ í™˜ê²½ì„ ë‚˜ëˆ„ì—ˆë‹¤.</li>\n</ul>\n<ol>\n<li>\n<p>application-local.yml</p>\n<div class=\"gatsby-highlight\" data-language=\"yml\"><pre class=\"language-yml\"><code class=\"language-yml\"><span class=\"token key atrule\">spring</span><span class=\"token punctuation\">:</span>\n<span class=\"token key atrule\">datasource</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">url</span><span class=\"token punctuation\">:</span> jdbc<span class=\"token punctuation\">:</span>mariadb<span class=\"token punctuation\">:</span>//localhost<span class=\"token punctuation\">:</span>3306/pickgit<span class=\"token punctuation\">?</span>serverTimezone=UTC<span class=\"token important\">&amp;characterEncoding=UTF-</span><span class=\"token number\">8</span>\n    <span class=\"token key atrule\">username</span><span class=\"token punctuation\">:</span> <span class=\"token important\">***</span>\n    <span class=\"token key atrule\">password</span><span class=\"token punctuation\">:</span> <span class=\"token important\">***</span>\n<span class=\"token key atrule\">jpa</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">show-sql</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span>\n    <span class=\"token key atrule\">properties</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">hibernate</span><span class=\"token punctuation\">:</span>\n        <span class=\"token key atrule\">dialects</span><span class=\"token punctuation\">:</span> org.hibernate.dialect.MySQL57Dialect\n        <span class=\"token key atrule\">format_sql</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span>\n        <span class=\"token key atrule\">default_batch_fetch_size</span><span class=\"token punctuation\">:</span> <span class=\"token number\">1000</span>\n    <span class=\"token key atrule\">generate-ddl</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span>\n    <span class=\"token key atrule\">hibernate</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">ddl-auto</span><span class=\"token punctuation\">:</span> none</code></pre></div>\n</li>\n<li>\n<p>application-prod.yml</p>\n<div class=\"gatsby-highlight\" data-language=\"yml\"><pre class=\"language-yml\"><code class=\"language-yml\"><span class=\"token key atrule\">spring</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">datasource</span><span class=\"token punctuation\">:</span>\n        <span class=\"token key atrule\">url</span><span class=\"token punctuation\">:</span> jdbc<span class=\"token punctuation\">:</span>mariadb<span class=\"token punctuation\">:</span>//localhost<span class=\"token punctuation\">:</span>13306/pickgit<span class=\"token punctuation\">?</span>serverTimezone=UTC<span class=\"token important\">&amp;characterEncoding=UTF-</span><span class=\"token number\">8</span>\n        <span class=\"token key atrule\">username</span><span class=\"token punctuation\">:</span> <span class=\"token important\">***</span>\n        <span class=\"token key atrule\">password</span><span class=\"token punctuation\">:</span> <span class=\"token important\">***</span>\n        <span class=\"token key atrule\">driver-class-name</span><span class=\"token punctuation\">:</span> org.mariadb.jdbc.Driver\n<span class=\"token key atrule\">jpa</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">show-sql</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span>\n    <span class=\"token key atrule\">properties</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">hibernate</span><span class=\"token punctuation\">:</span>\n        <span class=\"token key atrule\">dialects</span><span class=\"token punctuation\">:</span> org.hibernate.dialect.MySQL57InnoDBDialect\n        <span class=\"token key atrule\">format_sql</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span>\n        <span class=\"token key atrule\">default_batch_fetch_size</span><span class=\"token punctuation\">:</span> <span class=\"token number\">1000</span>\n    <span class=\"token key atrule\">generate-ddl</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span>\n    <span class=\"token key atrule\">hibernate</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">ddl-auto</span><span class=\"token punctuation\">:</span> validate</code></pre></div>\n</li>\n<li>\n<p>application-test.yml</p>\n<div class=\"gatsby-highlight\" data-language=\"yml\"><pre class=\"language-yml\"><code class=\"language-yml\"><span class=\"token key atrule\">spring</span><span class=\"token punctuation\">:</span>\n<span class=\"token key atrule\">datasource</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">url</span><span class=\"token punctuation\">:</span> jdbc<span class=\"token punctuation\">:</span>h2<span class=\"token punctuation\">:</span>mem<span class=\"token punctuation\">:</span>~/test;MODE=MySQL;DB_CLOSE_DELAY=<span class=\"token punctuation\">-</span>1;DB_CLOSE_ON_EXIT=FALSE\n    <span class=\"token key atrule\">username</span><span class=\"token punctuation\">:</span> <span class=\"token important\">**</span>\n    <span class=\"token key atrule\">password</span><span class=\"token punctuation\">:</span> <span class=\"token important\">**</span>\n<span class=\"token key atrule\">jpa</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">show-sql</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span>\n    <span class=\"token key atrule\">properties</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">hibernate</span><span class=\"token punctuation\">:</span>\n        <span class=\"token key atrule\">dialects</span><span class=\"token punctuation\">:</span> org.hibernate.dialect.MySQL57Dialect\n        <span class=\"token key atrule\">format_sql</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span>\n        <span class=\"token key atrule\">default_batch_fetch_size</span><span class=\"token punctuation\">:</span> <span class=\"token number\">1000</span>\n    <span class=\"token key atrule\">generate-ddl</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span>\n    <span class=\"token key atrule\">hibernate</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">ddl-auto</span><span class=\"token punctuation\">:</span> create<span class=\"token punctuation\">-</span>drop</code></pre></div>\n</li>\n<li>\n<p>application.yml</p>\n<ul>\n<li><code class=\"language-text\">spring.profiles.active:</code> ë¡œ ê¸°ë³¸ profile í™˜ê²½ì„ ì„¸íŒ…í•  ìˆ˜ ìˆë‹¤. <br></li>\n<li><code class=\"language-text\">spring.profiles.include:</code> ë¡œ í¬í•¨í•  ë‹¤ë¥¸ profile ì„¤ì •ì„ ì§€ì •í•  ìˆ˜ ìˆë‹¤. (ì£¼ë¡œ ê³µí†µìœ¼ë¡œ ì ìš©ë ë§Œí•œ ë³´ì•ˆ ê´€ë ¨ profile, aws ê´€ë ¨ ì„¤ì • ë“±ì„ includeë¡œ í¬í•¨í•œë‹¤.)</li>\n</ul>\n</li>\n</ol>\n<br>\n<h2 id=\"profile-ì–´ë…¸í…Œì´ì…˜ìœ¼ë¡œ-í™˜ê²½ë³„-ì„¤ì •-ë‹¤ë¥´ê²Œ-í•˜ê¸°\" style=\"position:relative;\"><a href=\"#profile-%EC%96%B4%EB%85%B8%ED%85%8C%EC%9D%B4%EC%85%98%EC%9C%BC%EB%A1%9C-%ED%99%98%EA%B2%BD%EB%B3%84-%EC%84%A4%EC%A0%95-%EB%8B%A4%EB%A5%B4%EA%B2%8C-%ED%95%98%EA%B8%B0\" aria-label=\"profile ì–´ë…¸í…Œì´ì…˜ìœ¼ë¡œ í™˜ê²½ë³„ ì„¤ì • ë‹¤ë¥´ê²Œ í•˜ê¸° permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>@Profile ì–´ë…¸í…Œì´ì…˜ìœ¼ë¡œ í™˜ê²½ë³„ ì„¤ì • ë‹¤ë¥´ê²Œ í•˜ê¸°</h2>\n<ul>\n<li>\n<p><code class=\"language-text\">@Profile</code>ì„ ì‚¬ìš©í•˜ë©´ í•´ë‹¹ ì–´ë…¸í…Œì´ì…˜ì—ì„œ ì§€ì •í•œ í™˜ê²½ìœ¼ë¡œ ì–´í”Œë¦¬ì¼€ì´ì…˜ ì‹¤í–‰ ì‹œ configurationì„ ì„¤ì •í•  ìˆ˜ ìˆë‹¤.</p>\n</li>\n<li>\n<p><code class=\"language-text\">@Profile</code> ì–´ë…¸í…Œì´ì…˜ì€ ë‹¤ìŒê³¼ ê°™ì´ 3ê°€ì§€ ë°©ë²•ìœ¼ë¡œ (ë” ìˆì„ ìˆ˜ë„ ìˆë‹¤) ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.</p>\n<ol>\n<li>\n<p>@Configuration í´ë˜ìŠ¤ ì•ˆì— method ìœ„ì—</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@Configuration</span>\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">InfrastructureConfiguration</span> <span class=\"token punctuation\">{</span>\n\n    <span class=\"token annotation punctuation\">@Bean</span>\n    <span class=\"token annotation punctuation\">@Profile</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"test\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token class-name\">OAuthClient</span> <span class=\"token function\">mockGithubOAuthClient</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">return</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">MockGithubOAuthClient</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token annotation punctuation\">@Bean</span>\n    <span class=\"token annotation punctuation\">@Profile</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"prod\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token class-name\">OAuthClient</span> <span class=\"token function\">githubOAuthClient</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">return</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">GithubOAuthClient</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<ul>\n<li>OAuthClient ì£¼ì…í•  ë•Œ â€œtestâ€ profile í™˜ê²½ì´ë©´ <code class=\"language-text\">MockGithubOAuthClient</code>ê°€ ì£¼ì…ë˜ê³  â€œprodâ€ profile í™˜ê²½ì´ë©´ <code class=\"language-text\">GithubOAuthClient</code>ê°€ ì£¼ì…ëœë‹¤.</li>\n</ul>\n</li>\n<li>\n<p>@Configuration í´ë˜ìŠ¤ ì•ˆì— static class ìœ„ì—</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@Configuration</span>\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">InfrastructureConfiguration</span> <span class=\"token punctuation\">{</span>\n\n    <span class=\"token annotation punctuation\">@Configuration</span>\n    <span class=\"token annotation punctuation\">@Profile</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"test\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">static</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">MockOAuthClient</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        \n        <span class=\"token annotation punctuation\">@Bean</span>\n        <span class=\"token class-name\">OAuthClient</span> <span class=\"token function\">mockGithubOAuthClient</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token keyword\">return</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">MockGithubOAuthClient</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token annotation punctuation\">@Configuration</span>\n    <span class=\"token annotation punctuation\">@Profile</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"prod\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">static</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">MockOAuthClient</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        \n        <span class=\"token annotation punctuation\">@Bean</span>\n        <span class=\"token class-name\">OAuthClient</span> <span class=\"token function\">githubOAuthClient</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token keyword\">return</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">GithubOAuthClient</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<ul>\n<li>ì¤‘ì²© í´ë˜ìŠ¤ë¡œë„ ì„¤ì •í•  ìˆ˜ ìˆë‹¤. ë³´ê¸°ì— ê°€ë…ì„±ì´ ì¢‹ì€ ê²ƒìœ¼ë¡œ ì„ íƒí•˜ë©´ ëœë‹¤.</li>\n</ul>\n</li>\n<li>\n<p>ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬í˜„í•˜ëŠ” êµ¬í˜„ì²´ class ìœ„ì— ì„¤ì •</p>\n<ul>\n<li>Beanìœ¼ë¡œ ë“±ë¡ë˜ì–´ ìˆëŠ” í´ë˜ìŠ¤ì— ì ìš©í•  ìˆ˜ ìˆë‹¤. (<code class=\"language-text\">@Configuration</code>, <code class=\"language-text\">@Component</code>)</li>\n<li>OAuthClient ë¼ëŠ” ì¸í„°í˜ì´ìŠ¤ê°€ ìˆì„ ë•Œ, í•´ë‹¹ ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬í˜„í•˜ëŠ” êµ¬í˜„ì²´ë¥¼ Profileì— ë”°ë¼ ë‚˜ëˆ„ì–´ì„œ ì ìš©í•  ìˆ˜ ìˆë‹¤.</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@Component</span>\n<span class=\"token annotation punctuation\">@Profile</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"!test\"</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">//profileì´ í…ŒìŠ¤íŠ¸ê°€ ì•„ë‹ ê²½ìš° ì ìš©ëœë‹¤. </span>\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">GithubOAuthClient</span> <span class=\"token keyword\">implements</span> <span class=\"token class-name\">OAuthClient</span> <span class=\"token punctuation\">{</span>\n\n    <span class=\"token comment\">//... í”„ë¡œí¼í‹° ìƒëµ</span>\n\n    <span class=\"token annotation punctuation\">@Override</span>\n    <span class=\"token keyword\">public</span> <span class=\"token class-name\">String</span> <span class=\"token function\">getLoginUrl</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">return</span> <span class=\"token class-name\">String</span><span class=\"token punctuation\">.</span><span class=\"token function\">format</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"https://github.com/login/oauth/authorize\"</span>\n                <span class=\"token operator\">+</span> <span class=\"token string\">\"?client_id=%s\"</span>\n                <span class=\"token operator\">+</span> <span class=\"token string\">\"&amp;redirect_uri=%s\"</span>\n                <span class=\"token operator\">+</span> <span class=\"token string\">\"&amp;scope=%s\"</span><span class=\"token punctuation\">,</span>\n            clientId<span class=\"token punctuation\">,</span> redirectUrl<span class=\"token punctuation\">,</span> scope<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token annotation punctuation\">@Override</span>\n    <span class=\"token keyword\">public</span> <span class=\"token class-name\">String</span> <span class=\"token function\">getAccessToken</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span> code<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token comment\">//... ì„¸ë¶€ ë¡œì§ ìƒëµ </span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token comment\">//... ìƒëµ </span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<ul>\n<li>ìœ„ ë¡œì§ì€ Github OAuthê´€ë ¨ ë¡œì§ì´ë¯€ë¡œ ì‚¬ìš©ì ë¡œê·¸ì¸ í–‰ìœ„ê°€ ì—†ëŠ” í…ŒìŠ¤íŠ¸ì—ì„œ ì‹¤í–‰í•˜ê¸° ì–´ë µê¸° ë•Œë¬¸ì— ì•„ë˜ì™€ ê°™ì´ Profileì´ â€œtestâ€ë¡œ ì„¤ì • ë˜ì—ˆì„ ê²½ìš° MockOAuthClientê°€ ì£¼ì…ë˜ë„ë¡ ì„¤ì •í•œë‹¤.</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@Component</span>\n<span class=\"token annotation punctuation\">@Profile</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"test\"</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">//profileì´ í…ŒìŠ¤íŠ¸ê°€ ì•„ë‹ ê²½ìš° ì ìš©ëœë‹¤. </span>\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">MockGithubOAuthClient</span> <span class=\"token keyword\">implements</span> <span class=\"token class-name\">OAuthClient</span> <span class=\"token punctuation\">{</span>\n\n    <span class=\"token comment\">//... í”„ë¡œí¼í‹° ìƒëµ</span>\n\n    <span class=\"token annotation punctuation\">@Override</span>\n    <span class=\"token keyword\">public</span> <span class=\"token class-name\">String</span> <span class=\"token function\">getLoginUrl</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">return</span> <span class=\"token class-name\">String</span><span class=\"token punctuation\">.</span><span class=\"token function\">format</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"https://github.com/login/oauth/authorize\"</span>\n                <span class=\"token operator\">+</span> <span class=\"token string\">\"?client_id=%s\"</span>\n                <span class=\"token operator\">+</span> <span class=\"token string\">\"&amp;redirect_uri=%s\"</span>\n                <span class=\"token operator\">+</span> <span class=\"token string\">\"&amp;scope=%s\"</span><span class=\"token punctuation\">,</span>\n            clientId<span class=\"token punctuation\">,</span> redirectUrl<span class=\"token punctuation\">,</span> scope<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token annotation punctuation\">@Override</span>\n    <span class=\"token keyword\">public</span> <span class=\"token class-name\">String</span> <span class=\"token function\">getAccessToken</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span> code<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">return</span> <span class=\"token string\">\"token\"</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token comment\">//... ìƒëµ </span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n</li>\n</ol>\n</li>\n</ul>\n<br>\n<h2 id=\"activeprofile-ì–´ë…¸í…Œì´ì…˜ìœ¼ë¡œ-profile-ì„¤ì •-ì ìš©í•˜ê¸°\" style=\"position:relative;\"><a href=\"#activeprofile-%EC%96%B4%EB%85%B8%ED%85%8C%EC%9D%B4%EC%85%98%EC%9C%BC%EB%A1%9C-profile-%EC%84%A4%EC%A0%95-%EC%A0%81%EC%9A%A9%ED%95%98%EA%B8%B0\" aria-label=\"activeprofile ì–´ë…¸í…Œì´ì…˜ìœ¼ë¡œ profile ì„¤ì • ì ìš©í•˜ê¸° permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>@ActiveProfile ì–´ë…¸í…Œì´ì…˜ìœ¼ë¡œ profile ì„¤ì • ì ìš©í•˜ê¸°</h2>\n<ul>\n<li>ì´ì „ì— ë§í•œëŒ€ë¡œ <code class=\"language-text\">yml</code> ë˜ëŠ” <code class=\"language-text\">properties</code> íŒŒì¼ì— profile ì„¤ì •ì„ ë‚˜ëˆ„ê³  <code class=\"language-text\">application.properties</code> ë“±ì˜ íŒŒì¼ì— profile ì„ ì§€ì •í•˜ê±°ë‚˜ jarë¥¼ ì‹¤í–‰í•˜ë©´ì„œ í™˜ê²½ì„ ì§€ì •í•  ìˆ˜ ìˆë‹¤.</li>\n<li>í•˜ì§€ë§Œ ì–´ë–¤ profile í™˜ê²½ì—ì„œë„ í•­ìƒ íŠ¹ì • profile í™˜ê²½ìœ¼ë¡œ ì‹¤í–‰ë˜ì–´ì•¼ í•  ë•Œê°€ ìˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´ì„œ test ì½”ë“œ ê°™ì€ ê²½ìš°ëŠ” í•­ìƒ test profile í™˜ê²½ìœ¼ë¡œ ëŒì•„ê°€ì•¼í•œë‹¤.</li>\n<li>ì´ë•Œ í•´ë‹¹ í´ë˜ìŠ¤ ìƒë‹¨ì— @ActiveProfile(â€œtestâ€) ë“±ìœ¼ë¡œ ì„¤ì •í•˜ë©´ í•´ë‹¹ profileì´ ì ìš©ë˜ì–´ ì‹¤í–‰ëœë‹¤.</li>\n<li>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@DataJpaTest</span>\n<span class=\"token annotation punctuation\">@ActiveProfiles</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"test\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">OAuthServiceIntegrationTest</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">//...í…ŒìŠ¤íŠ¸ ì½”ë“œ ìƒëµ </span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n</li>\n</ul>\n<br>\n<br>\n<p><strong>[ì¶œì²˜]</strong></p>\n<ul>\n<li><a href=\"http://wonwoo.ml/index.php/post/1933\">http://wonwoo.ml/index.php/post/1933</a></li>\n<li><a href=\"https://www.baeldung.com/spring-profiles\">https://www.baeldung.com/spring-profiles</a></li>\n<li><a href=\"https://umanking.github.io/2019/04/13/spring-profile/\">https://umanking.github.io/2019/04/13/spring-profile/</a></li>\n</ul>\n<div class=\"table-of-contents\">\n<ul>\n<li>\n<p><a href=\"#intro\">Intro</a></p>\n</li>\n<li>\n<p><a href=\"#yml-%ED%8C%8C%EC%9D%BC%EB%A1%9C-%EC%84%A4%EC%A0%95-%EB%82%98%EB%88%84%EA%B8%B0---%EA%B0%84%EB%8B%A8%ED%95%98%EA%B2%8C\">yml íŒŒì¼ë¡œ ì„¤ì • ë‚˜ëˆ„ê¸° - ê°„ë‹¨í•˜ê²Œ</a></p>\n<ul>\n<li><a href=\"#%EC%82%AC%EC%9A%A9-%EC%98%88%EC%8B%9C\">ì‚¬ìš© ì˜ˆì‹œ</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#profile-%EC%96%B4%EB%85%B8%ED%85%8C%EC%9D%B4%EC%85%98%EC%9C%BC%EB%A1%9C-%ED%99%98%EA%B2%BD%EB%B3%84-%EC%84%A4%EC%A0%95-%EB%8B%A4%EB%A5%B4%EA%B2%8C-%ED%95%98%EA%B8%B0\">@Profile ì–´ë…¸í…Œì´ì…˜ìœ¼ë¡œ í™˜ê²½ë³„ ì„¤ì • ë‹¤ë¥´ê²Œ í•˜ê¸°</a></p>\n</li>\n<li>\n<p><a href=\"#activeprofile-%EC%96%B4%EB%85%B8%ED%85%8C%EC%9D%B4%EC%85%98%EC%9C%BC%EB%A1%9C-profile-%EC%84%A4%EC%A0%95-%EC%A0%81%EC%9A%A9%ED%95%98%EA%B8%B0\">@ActiveProfile ì–´ë…¸í…Œì´ì…˜ìœ¼ë¡œ profile ì„¤ì • ì ìš©í•˜ê¸°</a></p>\n</li>\n</ul>\n</div>","excerpt":"Intro í”„ë¡œì íŠ¸ë¥¼ ì§„í–‰í•˜ë‹¤ ë³´ë©´ ìƒí™©ì— ë”°ë¼ ê°ê¸° ë‹¤ë¥¸ ìš´ì˜í™˜ê²½ì„ ì„¤ì •í•´ì•¼í• ë•Œê°€ ìˆë‹¤. ê·¸ë•Œë§ˆë‹¤ properties ì„¤ì • íŒŒì¼ì— ê°€ì„œ ì„¤ì •ë˜ì–´ìˆëŠ” ìš´ì˜ í™˜ê²½ì„ ë°”ê¾¸ê³  ëŒë¦¬ê¸°ëŠ” ì–´ë µë‹¤. ì´ë•Œ ê°ê¸° ë‹¤ë¥¸ ë¥¼ ì ìš©í•´ì„œ ìƒí™©ì— ë”°ë¼ ì í•©í•œ  ì„¤ì •ì„ ë”°ë¥´ë„ë¡ í•  ìˆ˜ ìˆë‹¤. yml íŒŒì¼ë¡œ ì„¤ì • ë‚˜ëˆ„ê¸° - ê°„ë‹¨í•˜ê²Œ  ë˜ëŠ” ë¥¼ í†µí•´ì„œ profile ì„¤ì •ì„ ë‚˜ëˆŒ ìˆ˜ ìˆë‹¤. ê°ê° ì›í•˜ëŠ” í™˜ê²½ì— ëŒ€í•œ ì„¤ì •ì •ë³´ë¥¼ , ì— ê¸°ì¬í•œ í›„  ë˜ëŠ” ë¡œ ì§€ì •í•œë‹¤. ì—¬ëŸ¬ profile í™˜ê²½ìœ¼ë¡œ ë‚˜ëˆ ì ¸ ìˆì„ ê²½ìš° ì–´ë–¤ profileì„ ê¸°ë³¸ì ìœ¼ë¡œ ì‹¤í–‰í•  ê²ƒì¸ì§€ ì— ì§€ì •í•´ ì£¼ì–´ì•¼ í•œë‹¤. ë‚˜ëˆ„ì–´ì§„ profileì„ ì ìš©í•˜ê¸° ìœ„í•´ì„œëŠ” ë¡œ ì ìš©í•˜ê³ ìí•˜ëŠ” í”„ë¡œí•„ì„ ì§€ì •í•˜ì—¬ ì‹¤í–‰í•˜ê±°ë‚˜  ì–´ë…¸í…Œì´ì…˜ì„ í™œìš©í•  ìˆ˜ ìˆë‹¤. ì‚¬ìš© ì˜ˆì‹œ ë³¸ì¸ì€ í”„ë¡œì íŠ¸ ì§„í–‰ ì‹œ ë‹¤ìŒê³¼ ê°™ì´ local, prod, testë¡œ í™˜ê²½ì„ ë‚˜ëˆ„ì—ˆë‹¤. application-local.yml application-prod.yml application-test.yml â€¦","frontmatter":{"date":"August 19, 2021","title":"ì›¹ ê°œë°œ ì‹œ Profile ì „ëµ - @Profile & @ActiveProfile","categories":"ìŠ¤í”„ë§ë¶€íŠ¸","author":"ì½”ë‹¤","emoji":"ğŸ–¥"},"fields":{"slug":"/profile-active-profile/"}},"next":{"id":"24937c05-73a7-52fc-9328-64c422c66fb2","html":"<h2 id=\"intro\" style=\"position:relative;\"><a href=\"#intro\" aria-label=\"intro permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Intro</h2>\n<ul>\n<li>ìŠ¤í”„ë§ë¶€íŠ¸ í”„ë¡œì íŠ¸ë¥¼ ì§„í–‰í•˜ë‹¤ë³´ë©´ ì›¹ mvcì— ëŒ€í•œ í…ŒìŠ¤íŠ¸ë¥¼ ì§„í–‰í•´ì•¼í•  ë•Œê°€ ìˆë‹¤.</li>\n<li>ë•Œë¡œëŠ” ê° layerì— ëŒ€í•œ ìŠ¬ë¼ì´ìŠ¤ í…ŒìŠ¤íŠ¸ë¥¼ ì‘ì„±í•˜ê±°ë‚˜, ì¼ë¶€ë¶„ì— ëŒ€í•œ í†µí•© í…ŒìŠ¤íŠ¸ë§Œì„ ì§„í–‰í•  ë•Œ Mock í…ŒìŠ¤íŠ¸ë¥¼ í•´ì•¼í•  ë•Œë„ ìˆë‹¤.</li>\n<li>í…ŒìŠ¤íŠ¸ ê´€ë ¨ annotationì— ëŒ€í•´ì„œ ì •ë¦¬í•˜ê³  ê° annotationì˜ ì°¨ì´ ë° ì–¸ì œ ë¬´ì—‡ì„ ì‚¬ìš©í•˜ë©´ ì¢‹ì„ì§€ ì •ë¦¬í•´ë³¸ë‹¤.</li>\n</ul>\n<br>\n<h2 id=\"code-classlanguage-textspringboottestcode\" style=\"position:relative;\"><a href=\"#code-classlanguage-textspringboottestcode\" aria-label=\"code classlanguage textspringboottestcode permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a><code class=\"language-text\">@SpringBootTest</code></h2>\n<ul>\n<li><code class=\"language-text\">@SpringBootTest</code> ì–´ë…¸í…Œì´ì…˜ì€ <code class=\"language-text\">@SpringBootApplication</code> ì„ ì°¾ì•„ í•´ë‹¹ configurationì— ë§ì¶”ì–´ ì‹¤ì œ Spring web contextë¥¼ ì‹¤í–‰í–”ë‹¤.</li>\n<li>Spring contextì˜ ì„¤ì •ìœ¼ë¡œ ê·¸ëŒ€ë¡œ ì ìš©í•´ì„œ í…ŒìŠ¤íŠ¸ë¥¼ ì§„í–‰í•´ì•¼ í•  ê²½ìš°ì— í•´ë‹¹ ì–´ë…¸í…Œì´ì…˜ì„ ë¶™ì—¬ì„œ í…ŒìŠ¤íŠ¸ë¥¼ í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤.</li>\n<li>í•˜ì§€ë§Œ ì „ì²´ ì»¨í…ìŠ¤íŠ¸ë¥¼ ë¡œë“œí•˜ëŠ” ë§Œí¼ êµ‰ì¥íˆ ì˜¤ëœ ì‹œê°„ì´ ê±¸ë¦°ë‹¤.</li>\n<li>ì‹¤ì œë¡œ <code class=\"language-text\">@SpringBootTest</code> ì–´ë…¸í…Œì´ì…˜ì´ ë¶™ì€ í…ŒìŠ¤íŠ¸ë¥¼ ëŒë ¤ë³¸ë‹¤ë©´ ë‹¤ìŒê³¼ ê°™ì€ ìŠ¤í”„ë§ ì»¨í…ìŠ¤íŠ¸ë¥´ ë¡œë”©í•˜ëŠ” ê¸´ ë¡œê·¸ê°€ ì°íˆëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤.</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">//... ì¼ë¶€ ìƒëµ\n20:37:26.255 [main] DEBUG org.springframework.test.context.support.TestPropertySourceUtils - Adding inlined properties to environment: {spring.jmx.enabled=false, org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true, server.port=0}\n\n  .   ____          _            __ _ _\n /\\\\ / ___'_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\n( ( )\\___ | '_ | '_| | '_ \\/ _` | \\ \\ \\ \\\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\n  '  |____| .__|_| |_|_| |_\\__, | / / / /\n =========|_|==============|___/=/_/_/_/\n :: Spring Boot ::                (v2.5.2)\n\n//... ì¼ë¶€ ìƒëµ \n > Running with Spring Boot v2.5.2, Spring v5.3.8\n2021-08-16 20:37:26.559 DEBUG 4487 --- [           main] c.w.p.a.user.UserAcceptanceTest          : Running with Spring Boot v2.5.2, Spring v5.3.8\n2021-08-16 20:37:26.560 INFO  main o.s.boot.SpringApplication.logStartupProfileInfo L:663 \n > The following profiles are active: security,test\n2021-08-16 20:37:26.560  INFO 4487 --- [           main] c.w.p.a.user.UserAcceptanceTest          : The following profiles are active: security,test\n2021-08-16 20:37:27.252  INFO 4487 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\n2021-08-16 20:37:27.328  INFO 4487 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 70 ms. Found 4 JPA repository interfaces.\n2021-08-16 20:37:28.062  INFO 4487 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 0 (http)\n2021-08-16 20:37:28.068  INFO 4487 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\n2021-08-16 20:37:28.068  INFO 4487 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.48]\n2021-08-16 20:37:28.115  INFO 4487 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\n2021-08-16 20:37:28.116  INFO 4487 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1379 ms</code></pre></div>\n<br>\n<h2 id=\"code-classlanguage-textautoconfiguremockmvccode\" style=\"position:relative;\"><a href=\"#code-classlanguage-textautoconfiguremockmvccode\" aria-label=\"code classlanguage textautoconfiguremockmvccode permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a><code class=\"language-text\">@AutoConfigureMockMvc</code></h2>\n<ul>\n<li>ìœ„ ì–´ë…¸í…Œì´ì…˜ì€ ë‹¤ìŒê³¼ ê°™ì´ <code class=\"language-text\">MockMvc</code>ë¥¼ ì£¼ì…ë°›ì•„ì„œ í†°ìº£ ì„œë²„ë¥¼ ë„ìš°ì§€ ì•Šì€ ìƒíƒœë¡œ API ìš”ì²­ ë¶€ë¶„ì„ Mocking í•´ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. í•˜ì§€ë§Œ ìŠ¤í”„ë§ ì»¨í…ìŠ¤íŠ¸ì˜ ë¹ˆì„ ëª¨ë‘ ë¡œë“œí•˜ëŠ” ê²ƒì€ <code class=\"language-text\">@SpringBootTest</code> ì™€ ë™ì¼í•˜ë‹¤.</li>\n<li><code class=\"language-text\">@SpringBootTest</code> ì™€ <code class=\"language-text\">@AutoConfigureMockMvc</code>ë¥¼ ì‚¬ìš©í•´ì„œ í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ ì‹¤í–‰í•´ë³´ë©´ ìœ„ <code class=\"language-text\">@SpringBootTest</code>ë¥¼ ì‚¬ìš©í–ˆì„ë•Œì™€ ë‹¤ë¥´ê²Œ Tomcatì„ ì‹œì‘í•˜ëŠ” ë¡œê·¸ê°€ ì°íˆì§€ ì•ŠëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤.</li>\n</ul>\n<blockquote>\n<p>í…ŒìŠ¤íŠ¸ ì½”ë“œ</p>\n</blockquote>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@SpringBootTest</span>\n<span class=\"token annotation punctuation\">@AutoConfigureMockMvc</span>\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">UserControllerTest</span> <span class=\"token punctuation\">{</span>\n\n    <span class=\"token annotation punctuation\">@Autowired</span>\n    <span class=\"token keyword\">private</span> <span class=\"token class-name\">MockMvc</span> mockMvc<span class=\"token punctuation\">;</span>\n\n    <span class=\"token annotation punctuation\">@DisplayName</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"ì‚¬ìš©ìëŠ” ë‚´ í”„ë¡œí•„ì„ ì¡°íšŒí•  ìˆ˜ ìˆë‹¤.\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token annotation punctuation\">@Test</span>\n    <span class=\"token keyword\">void</span> <span class=\"token function\">getAuthenticatedUserProfile_LoginUser_Success</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">throws</span> <span class=\"token class-name\">Exception</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token comment\">// given</span>\n        <span class=\"token class-name\">UserProfileResponseDto</span> responseDto <span class=\"token operator\">=</span> <span class=\"token class-name\">UserFactory</span><span class=\"token punctuation\">.</span><span class=\"token function\">mockLoginUserProfileResponseDto</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token comment\">// when</span>\n        <span class=\"token class-name\">ResultActions</span> perform <span class=\"token operator\">=</span> mockMvc<span class=\"token punctuation\">.</span><span class=\"token function\">perform</span><span class=\"token punctuation\">(</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"/api/profiles/me\"</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">header</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">HttpHeaders</span><span class=\"token punctuation\">.</span>AUTHORIZATION<span class=\"token punctuation\">,</span> <span class=\"token string\">\"Bearer testToken\"</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">contentType</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">MediaType</span><span class=\"token punctuation\">.</span>APPLICATION_JSON_VALUE<span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">accept</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">MediaType</span><span class=\"token punctuation\">.</span>ALL<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token comment\">//...ë’¤ ì½”ë“œ ìƒëµ</span>\n\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<blockquote>\n<p>ì‹¤í–‰ ì‹œ ë¡œê·¸</p>\n</blockquote>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">//...ì¼ë¶€ ìƒëµ \n21:41:00.201 [main] DEBUG org.springframework.test.context.support.TestPropertySourceUtils - Adding inlined properties to environment: {spring.jmx.enabled=false, org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}\n\n  .   ____          _            __ _ _\n /\\\\ / ___'_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\n( ( )\\___ | '_ | '_| | '_ \\/ _` | \\ \\ \\ \\\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\n  '  |____| .__|_| |_|_| |_\\__, | / / / /\n =========|_|==============|___/=/_/_/_/\n :: Spring Boot ::                (v2.5.2)\n\n//...ì¼ë¶€ ìƒëµ \n2021-08-16 21:41:03.332  INFO 4963 --- [           main] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''\n2021-08-16 21:41:03.333  INFO 4963 --- [           main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''\n2021-08-16 21:41:03.334  INFO 4963 --- [           main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 1 ms\n2021-08-16 21:41:03.349  INFO 4963 --- [           main] c.w.p.u.u.p.UserControllerTest           : Started UserControllerTest in 3.144 seconds (JVM running for 3.765)\n2021-08-16 21:41:03.524  INFO 4963 --- [ionShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'\n2021-08-16 21:41:03.525  INFO 4963 --- [ionShutdownHook] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'\n2021-08-16 21:41:03.532  INFO 4963 --- [ionShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...\n2021-08-16 21:41:03.537  INFO 4963 --- [ionShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.</code></pre></div>\n<h2 id=\"code-classlanguage-textwebmvctestcode\" style=\"position:relative;\"><a href=\"#code-classlanguage-textwebmvctestcode\" aria-label=\"code classlanguage textwebmvctestcode permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a><code class=\"language-text\">@WebMvcTest</code></h2>\n<ul>\n<li><code class=\"language-text\">@WebMvcTest</code>ì˜ ê²½ìš° <code class=\"language-text\">@AutoConfigureMockMvc</code>ì™€ ë¹„ìŠ·í•˜ê²Œ ì„œë²„ê°€ ëª¨í‚¹ì´ ë˜ì§€ë§Œ MVCì™€ ê´€ë ¨ëœ ë¹ˆë“¤ë§Œ ë¡œë“œí•œë‹¤. ê·¸ë ‡ê¸° ë•Œë¬¸ì— MVC ê´€ë ¨ ë¹ˆë“¤ë§Œ ì‚¬ìš©í•œë‹¤ë©´ ìœ„ ì–´ë…¸í…Œì´ì…˜ì„ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ë” ë¶€í™”ê°€ ì ë‹¤.</li>\n<li>í•´ë‹¹ ì–´ë…¸í…Œì´ì…˜ ì•ˆì— íŠ¹ì • í´ë˜ìŠ¤ë¥¼ ì§€ì •í•˜ë©´ í•´ë‹¹ í´ë˜ìŠ¤ì™€ ê´€ë ¨í•œ mvc ë¹ˆë“¤ì´ ì˜¬ë¼ê°€ë¯€ë¡œ ë” íš¨ìœ¨ì ìœ¼ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@AutoConfigureRestDocs</span>\n<span class=\"token annotation punctuation\">@WebMvcTest</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">UserController</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">)</span>\n<span class=\"token annotation punctuation\">@ActiveProfiles</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"test\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">UserControllerTest</span> <span class=\"token punctuation\">{</span>\n\n    <span class=\"token annotation punctuation\">@Autowired</span>\n    <span class=\"token keyword\">private</span> <span class=\"token class-name\">MockMvc</span> mockMvc<span class=\"token punctuation\">;</span>\n\n    <span class=\"token annotation punctuation\">@DisplayName</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"ì‚¬ìš©ìëŠ” ë‚´ í”„ë¡œí•„ì„ ì¡°íšŒí•  ìˆ˜ ìˆë‹¤.\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token annotation punctuation\">@Test</span>\n    <span class=\"token keyword\">void</span> <span class=\"token function\">getAuthenticatedUserProfile_LoginUser_Success</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">throws</span> <span class=\"token class-name\">Exception</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token comment\">// given</span>\n        <span class=\"token class-name\">UserProfileResponseDto</span> responseDto <span class=\"token operator\">=</span> <span class=\"token class-name\">UserFactory</span><span class=\"token punctuation\">.</span><span class=\"token function\">mockLoginUserProfileResponseDto</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token comment\">// when</span>\n        <span class=\"token class-name\">ResultActions</span> perform <span class=\"token operator\">=</span> mockMvc<span class=\"token punctuation\">.</span><span class=\"token function\">perform</span><span class=\"token punctuation\">(</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"/api/profiles/me\"</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">header</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">HttpHeaders</span><span class=\"token punctuation\">.</span>AUTHORIZATION<span class=\"token punctuation\">,</span> <span class=\"token string\">\"Bearer testToken\"</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">contentType</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">MediaType</span><span class=\"token punctuation\">.</span>APPLICATION_JSON_VALUE<span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">accept</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">MediaType</span><span class=\"token punctuation\">.</span>ALL<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token comment\">//...ë’¤ ì½”ë“œ ìƒëµ</span>\n\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<ul>\n<li>ìœ„ì™€ ë™ì¼í•˜ê²Œ Tomcat ê´€ë ¨ ë¡œê·¸ëŠ” ì°íˆì§€ ì•ŠëŠ”ë‹¤. ëŒ€ì‹  <code class=\"language-text\">SpringBootMockServletContext</code>ì´ ëª¨í‚¹ëœ ì„œë¸”ë¦¿ì„ ì´ˆê¸°í™” í•˜ëŠ” ë¡œê·¸ë¥¼ í™•ì¸í•  ìˆ˜ ìˆë‹¤.</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">2021-08-16 23:46:28.495  INFO 5504 --- [           main] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''\n2021-08-16 23:46:28.495  INFO 5504 --- [           main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''\n2021-08-16 23:46:28.496  INFO 5504 --- [           main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 1 ms</code></pre></div>\n<ul>\n<li>ì»¨íŠ¸ë¡¤ëŸ¬ ìŠ¬ë¼ì´ìŠ¤ í…ŒìŠ¤íŠ¸ 8ê°œì— ëŒ€í•œ ê° MockMvc í…ŒìŠ¤íŠ¸ë¥¼ ë¹„êµí–ˆì„ ë•Œ, ë¯¸ì„¸í•˜ì§€ë§Œ <code class=\"language-text\">@WebMvcTest</code>ê°€ ë” ë¹ ë¥¸ ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤. ë” ë§ì€ ìˆ«ìì˜ í…ŒìŠ¤íŠ¸ ì¼ ë•Œ ê·¸ ì°¨ì´ëŠ” ë” ì»¤ì§„ë‹¤.</li>\n</ul>\n<p align=\"center\"><img width=\"600\" alt=\"á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2021-08-16 á„‹á…©á„’á…® 11 48 46\" src=\"https://user-images.githubusercontent.com/63405904/129583308-1e306f3c-0b51-4c97-8606-ee810a739289.png\"><br>@WebMvcTest ì‚¬ìš©</p>\n<p align=\"center\"><img width=\"600\" alt=\"á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2021-08-16 á„‹á…©á„’á…® 11 50 11\" src=\"https://user-images.githubusercontent.com/63405904/129583673-8bd736da-f88d-407f-a894-40f1e29a94fa.png\"><br>@AutoConfigureMockMvc ì‚¬ìš©</p>\n<br>\n<h2 id=\"code-classlanguage-textextendwithmockitoextensionclasscode\" style=\"position:relative;\"><a href=\"#code-classlanguage-textextendwithmockitoextensionclasscode\" aria-label=\"code classlanguage textextendwithmockitoextensionclasscode permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a><code class=\"language-text\">@ExtendWith(MockitoExtension.class)</code></h2>\n<ul>\n<li><code class=\"language-text\">@ExtendWith</code>ëŠ” JUnitì—ì„œ ì œê³µí•˜ëŠ” ê¸°ëŠ¥ì´ë‹¤. (ìœ„ í…ŒìŠ¤íŠ¸ ì–´ë…¸í…Œì´ì…˜ì€ SpringBootì—ì„œ ì œê³µí•œë‹¤.)</li>\n<li>í”íˆ ì½”ë“œì—ì„œ <code class=\"language-text\">@ExtendWith(MockitoExtension.class)</code>ìœ¼ë¡œ ë§ì´ ì‚¬ìš©í•˜ê³  ìœ„ì˜ ëª¨í‚¹ê³¼ ì–´ë– í•œ ë¶€ë¶„ì´ ë‹¤ë¥¸ì§€ì— ëŒ€í•´ì„œ ë§ì´ í—·ê°ˆë ¤í•œë‹¤.</li>\n<li>ìœ„ ëª¨í‚¹ì€ ì„œë¸”ë¦¿ ì»¨í…Œì´ë„ˆì— ëŒ€í•œ ëª¨í‚¹ì„ ìŠ¤í”„ë§ ë¶€íŠ¸ ì—ì„œ ì œê³µí•˜ëŠ” ê²ƒì´ë‹¤.</li>\n<li><code class=\"language-text\">@ExtendWith(MockitoExtension.class)</code> ì€ Mockì´ë¼ëŠ” ê°€ì§œ ê°ì²´ë¥¼ ì§€ì›í•˜ëŠ” Mockito í…ŒìŠ¤íŠ¸ í”„ë ˆì„ì›Œí¬ë¥¼ JUnit5ì™€ ì—°ë™í•˜ì—¬ ì‚¬ìš©í•˜ë„ë¡ í•˜ëŠ” ê²ƒì´ë‹¤. (ë‘ ê°œì˜ í…ŒìŠ¤íŠ¸ í”„ë ˆì„ì›Œí¬ì˜ ê²°í•©)</li>\n<li>ì£¼ë¡œ í•˜ë‚˜ì˜ Layerì˜ ë‹¨ìœ„í…ŒìŠ¤íŠ¸ë¥¼ í•  ë•Œ ë‚˜ë¨¸ì§€ ê°ì²´ë“¤ì„ ëª¨í‚¹í•˜ë„ë¡ ì§€ì›í•œë‹¤.</li>\n<li>ì¦‰, ì„œë¸”ë¦¿ ì»¨í…Œì´ë„ˆì™€ ìƒê´€ì—†ì´ ì–´ëŠ í•œ ê°ì²´ì— ëŒ€í•œ ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ë¥¼ ì§„í–‰í•˜ë©´ì„œ ì˜ì¡´í•˜ê³  ìˆëŠ” ë‹¤ë¥¸ ê°ì²´ì˜ í–‰ë™ì„ stubí•˜ì—¬ ì œì–´í•  ë•Œ ì‚¬ìš©ëœë‹¤.</li>\n</ul>\n<br>\n<br>\n<p><strong>[ì¶œì²˜]</strong></p>\n<ul>\n<li><a href=\"https://spring.io/guides/gs/testing-web/\">https://spring.io/guides/gs/testing-web/</a></li>\n<li><a href=\"https://elevatingcodingclub.tistory.com/61\">https://elevatingcodingclub.tistory.com/61</a></li>\n<li><a href=\"https://meetup.toast.com/posts/124\">https://meetup.toast.com/posts/124</a></li>\n<li><a href=\"https://www.baeldung.com/spring-boot-testing\">https://www.baeldung.com/spring-boot-testing</a></li>\n<li><a href=\"https://junit.org/junit5/docs/current/user-guide/#extensions\">https://junit.org/junit5/docs/current/user-guide/#extensions</a></li>\n<li><a href=\"https://pinokio0702.tistory.com/143\">https://pinokio0702.tistory.com/143</a></li>\n</ul>\n<div class=\"table-of-contents\">\n<ul>\n<li><a href=\"#intro\">Intro</a></li>\n<li><a href=\"#springboottest\"><code class=\"language-text\">@SpringBootTest</code></a></li>\n<li><a href=\"#autoconfiguremockmvc\"><code class=\"language-text\">@AutoConfigureMockMvc</code></a></li>\n<li><a href=\"#webmvctest\"><code class=\"language-text\">@WebMvcTest</code></a></li>\n<li><a href=\"#extendwithmockitoextensionclass\"><code class=\"language-text\">@ExtendWith(MockitoExtension.class)</code></a></li>\n</ul>\n</div>","frontmatter":{"date":"August 17, 2021","title":"Springboot ì–¸ì œ ì–´ë–¤ í…ŒìŠ¤íŠ¸ë¥¼ ì‚¬ìš©í• ê¹Œ","categories":"ìŠ¤í”„ë§ë¶€íŠ¸ í…ŒìŠ¤íŠ¸","author":"ì½”ë‹¤","emoji":"ğŸ–¥"},"fields":{"slug":"/spring-boot-test/"}},"prev":{"id":"0bbf1a5f-5450-5c71-8533-7652d2132ffe","html":"<h2 id=\"intro\" style=\"position:relative;\"><a href=\"#intro\" aria-label=\"intro permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>INTRO</h2>\n<ul>\n<li>JPAëŠ” DBì˜ ë°ì´í„°ì™€ ê°ì²´ê°„ì˜ ëª¨ìˆœì„ í•´ê²°í•˜ê¸° ìœ„í•´ì„œ ë‚˜ì˜¨ ê²ƒì´ë‹¤.</li>\n<li>ê°ì²´ëŠ” ê°ì²´ ê·¸ë˜í”„ë¡œ íƒìƒ‰ì´ ê°€ëŠ¥í•˜ì§€ë§Œ ë°ì´í„°ë² ì´ìŠ¤ì— ì €ì¥ëœ ë°ì´í„°ëŠ” ê°ì²´ë¥¼ íƒìƒ‰í•˜ë“¯ì´ íƒìƒ‰í•˜ê¸°ê°€ ì–´ë µë‹¤.</li>\n<li>ë”°ë¼ì„œ ë°ì´í„°ë² ì´ìŠ¤ì— ì €ì¥ëœ ë°ì´í„°ë“¤ì„ ê°€ì§€ê³  ê°ì²´ ê·¸ë˜í”„ íƒìƒ‰ì´ ê°€ëŠ¥í•˜ê¸° ìœ„í•´ì„œ í”„ë¡ì‹œ ë¼ëŠ” ê¸°ìˆ ì´ ë‚˜ì™”ë‹¤.</li>\n<li>JPAì—ì„œëŠ” ì—°ê´€ëœ ê°ì²´ë¥¼ ë¡œë”©í•˜ëŠ”ë° ì§€ì—° ë¡œë”©ê³¼ ì¦‰ì‹œ ë¡œë”©ì´ë¼ëŠ” ë‘ê°€ì§€ ê¸°ë²•ì„ ì‚¬ìš©í•œë‹¤.</li>\n<li>ì—¬ê¸°ì„œ ì§€ì—° ë¡œë”©ì‹œ í”„ë¡ì‹œ ê¸°ìˆ ì´ ì‚¬ìš©ëœë‹¤.</li>\n</ul>\n<br>\n<br>\n<h2 id=\"ê¸°ë³¸-ì˜ˆì‹œ-entity\" style=\"position:relative;\"><a href=\"#%EA%B8%B0%EB%B3%B8-%EC%98%88%EC%8B%9C-entity\" aria-label=\"ê¸°ë³¸ ì˜ˆì‹œ entity permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ê¸°ë³¸ ì˜ˆì‹œ Entity</h2>\n<ol>\n<li>Member\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@Entity</span>\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">Member</span> <span class=\"token punctuation\">{</span>\n\n    <span class=\"token annotation punctuation\">@Id</span> <span class=\"token annotation punctuation\">@GeneratedValue</span><span class=\"token punctuation\">(</span>strategy <span class=\"token operator\">=</span> <span class=\"token class-name\">GenerationType</span><span class=\"token punctuation\">.</span>IDENTITY<span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">private</span> <span class=\"token class-name\">Long</span> id<span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">private</span> <span class=\"token class-name\">String</span> name<span class=\"token punctuation\">;</span>\n\n    <span class=\"token annotation punctuation\">@ManyToOne</span><span class=\"token punctuation\">(</span>cascade <span class=\"token operator\">=</span> <span class=\"token class-name\">CascadeType</span><span class=\"token punctuation\">.</span>PERSIST<span class=\"token punctuation\">)</span>\n    <span class=\"token annotation punctuation\">@JoinColumn</span><span class=\"token punctuation\">(</span>name <span class=\"token operator\">=</span> <span class=\"token string\">\"team_id\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">private</span> <span class=\"token class-name\">Team</span> team<span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">protected</span> <span class=\"token class-name\">Member</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">setTeam</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Team</span> team<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>team <span class=\"token operator\">=</span> team<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token comment\">//getter ë° ìƒì„±ì ìƒëµ</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n</li>\n</ol>\n<br>\n<ol start=\"2\">\n<li>Team\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@Entity</span>\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">Team</span> <span class=\"token punctuation\">{</span>\n\n    <span class=\"token annotation punctuation\">@Id</span> <span class=\"token annotation punctuation\">@GeneratedValue</span><span class=\"token punctuation\">(</span>strategy <span class=\"token operator\">=</span> <span class=\"token class-name\">GenerationType</span><span class=\"token punctuation\">.</span>IDENTITY<span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">private</span> <span class=\"token class-name\">Long</span> id<span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">private</span> <span class=\"token class-name\">String</span> name<span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">protected</span> <span class=\"token class-name\">Team</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token comment\">//getter ë° ìƒì„±ì ìƒëµ </span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n</li>\n</ol>\n<br>\n<br>\n<h2 id=\"í”„ë¡ì‹œ\" style=\"position:relative;\"><a href=\"#%ED%94%84%EB%A1%9D%EC%8B%9C\" aria-label=\"í”„ë¡ì‹œ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>í”„ë¡ì‹œ</h2>\n<ul>\n<li>ì§€ì—° ë¡œë”©ì„ ì„¤ì •ëœ ì—°ê´€ ê°ì²´ë¥¼ ê°€ì ¸ì˜¬ ë•Œ í”„ë¡ì‹œ ê°ì²´ë¥¼ ê°€ì ¸ì˜¨ë‹¤.</li>\n<li><code class=\"language-text\">em.find()</code>ë¥¼ ì‚¬ìš©í•˜ë©´ ì‹¤ì œ ê°ì²´ë¥¼ ê°€ì ¸ì˜¤ê³ , <code class=\"language-text\">em.getReference()</code>ë¥¼ ì‚¬ìš©í•˜ë©´ í”„ë¡ì‹œ ê°ì²´ë¥¼ ê°€ì ¸ì˜¨ë‹¤.\n<ul>\n<li>í”„ë¡ì‹œ ê°ì²´ë¥¼ ê°€ì ¸ì˜¨ë‹¤ëŠ” ê²ƒì€ queryëŠ” ì‹¤í–‰ë˜ì§€ ì•ŠëŠ” ê²ƒì´ë‹¤.</li>\n<li>íŠ¹ì • ê°ì²´ì— ëŒ€í•´ <code class=\"language-text\">em.find()</code>ë¥¼ í•˜ë©´ ì—°ê´€ëœ ê°ì²´ì— ëŒ€í•´ì„œëŠ” ì„¤ì •ë˜ì–´ ìˆëŠ” <code class=\"language-text\">fetch</code> ì¢…ë¥˜ì— ë”°ë¼ ì¦‰ì‹œë¡œë”© í˜¹ì€ ì§€ì—°ë¡œë”©í•œë‹¤.</li>\n</ul>\n</li>\n</ul>\n<br> \n<h3 id=\"ì‹¤ì œ-entity-ì¡°íšŒ---code-classlanguage-textfindcode\" style=\"position:relative;\"><a href=\"#%EC%8B%A4%EC%A0%9C-entity-%EC%A1%B0%ED%9A%8C---code-classlanguage-textfindcode\" aria-label=\"ì‹¤ì œ entity ì¡°íšŒ   code classlanguage textfindcode permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ì‹¤ì œ Entity ì¡°íšŒ - <code class=\"language-text\">find()</code></h3>\n<br>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@DisplayName</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"em.find()ëŠ” ì‹¤ì œ entityë¥¼ ì¡°íšŒí•˜ì—¬ ê°€ì ¸ì˜¨ë‹¤.\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token annotation punctuation\">@Test</span>\n<span class=\"token keyword\">void</span> <span class=\"token function\">find_actualEntity</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\n    <span class=\"token class-name\">Member</span> member <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Member</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"member1\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token class-name\">Team</span> team <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Team</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Team A\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    member<span class=\"token punctuation\">.</span><span class=\"token function\">setTeam</span><span class=\"token punctuation\">(</span>team<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token class-name\">Member</span> savedMember <span class=\"token operator\">=</span> memberRepository<span class=\"token punctuation\">.</span><span class=\"token function\">save</span><span class=\"token punctuation\">(</span>member<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    testEntityManager<span class=\"token punctuation\">.</span><span class=\"token function\">flush</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    testEntityManager<span class=\"token punctuation\">.</span><span class=\"token function\">clear</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token class-name\">EntityManager</span> em <span class=\"token operator\">=</span> testEntityManager<span class=\"token punctuation\">.</span><span class=\"token function\">getEntityManager</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token class-name\">Member</span> findMember <span class=\"token operator\">=</span> em<span class=\"token punctuation\">.</span><span class=\"token function\">find</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Member</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">,</span> savedMember<span class=\"token punctuation\">.</span><span class=\"token function\">getId</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">//select í€´ë¦¬ê°€ í˜¸ì¶œëœë‹¤.</span>\n\n    <span class=\"token function\">assertThat</span><span class=\"token punctuation\">(</span>findMember<span class=\"token punctuation\">.</span><span class=\"token function\">getId</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">isNotNull</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token function\">assertThat</span><span class=\"token punctuation\">(</span>findMember<span class=\"token punctuation\">.</span><span class=\"token function\">getName</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">isEqualTo</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"member1\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token function\">assertThat</span><span class=\"token punctuation\">(</span>findMember<span class=\"token punctuation\">.</span><span class=\"token function\">getClass</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">isEqualTo</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Member</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">//ì‹¤ì œ ì—”í‹°í‹° í´ë˜ìŠ¤ì„ì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤.</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<ul>\n<li>ìœ„ í…ŒìŠ¤íŠ¸ë¥¼ ì‹¤í–‰í•˜ë©´ ë‹¤ìŒê³¼ ê°™ì€ select ì¿¼ë¦¬ê°€ ì‹¤í–‰ëœë‹¤.</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token keyword\">select</span>\n    member0_<span class=\"token punctuation\">.</span>id <span class=\"token keyword\">as</span> id1_0_0_<span class=\"token punctuation\">,</span>\n    member0_<span class=\"token punctuation\">.</span>name <span class=\"token keyword\">as</span> name2_0_0_<span class=\"token punctuation\">,</span>\n    member0_<span class=\"token punctuation\">.</span>team_id <span class=\"token keyword\">as</span> team_id3_0_0_<span class=\"token punctuation\">,</span>\n    team1_<span class=\"token punctuation\">.</span>id <span class=\"token keyword\">as</span> id1_1_1_<span class=\"token punctuation\">,</span>\n    team1_<span class=\"token punctuation\">.</span>name <span class=\"token keyword\">as</span> name2_1_1_ \n<span class=\"token keyword\">from</span>\n    member member0_ \n<span class=\"token keyword\">left</span> <span class=\"token keyword\">outer</span> <span class=\"token keyword\">join</span> <span class=\"token comment\">#ManyToOne, OneToOne ê¸°ë³¸ fetch ì „ëµì€ EAGERì´ë¯€ë¡œ left joinì„ ì‹¤í–‰í•´ì„œ Teamê¹Œì§€ ì¦‰ì‹œë¡œë”©í•œë‹¤. </span>\n    team team1_ \n        <span class=\"token keyword\">on</span> member0_<span class=\"token punctuation\">.</span>team_id<span class=\"token operator\">=</span>team1_<span class=\"token punctuation\">.</span>id \n<span class=\"token keyword\">where</span>\n    member0_<span class=\"token punctuation\">.</span>id<span class=\"token operator\">=</span>?</code></pre></div>\n<br>\n<h3 id=\"í”„ë¡ì‹œ-entity-ì¡°íšŒ---code-classlanguage-textgetreferencecode\" style=\"position:relative;\"><a href=\"#%ED%94%84%EB%A1%9D%EC%8B%9C-entity-%EC%A1%B0%ED%9A%8C---code-classlanguage-textgetreferencecode\" aria-label=\"í”„ë¡ì‹œ entity ì¡°íšŒ   code classlanguage textgetreferencecode permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>í”„ë¡ì‹œ Entity ì¡°íšŒ - <code class=\"language-text\">getReference()</code></h3>\n<br>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@DisplayName</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"em.getReference()ëŠ” í•´ë‹¹ entityì— ëŒ€í•œ proxy ê°ì²´ë¥¼ ê°€ì ¸ì˜¨ë‹¤.\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token annotation punctuation\">@Test</span>\n<span class=\"token keyword\">void</span> <span class=\"token function\">getReference_proxyEntity</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\n    <span class=\"token class-name\">Member</span> member <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Member</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"member1\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token class-name\">Team</span> team <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Team</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Team A\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    member<span class=\"token punctuation\">.</span><span class=\"token function\">setTeam</span><span class=\"token punctuation\">(</span>team<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token class-name\">Member</span> savedMember <span class=\"token operator\">=</span> memberRepository<span class=\"token punctuation\">.</span><span class=\"token function\">save</span><span class=\"token punctuation\">(</span>member<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    testEntityManager<span class=\"token punctuation\">.</span><span class=\"token function\">flush</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    testEntityManager<span class=\"token punctuation\">.</span><span class=\"token function\">clear</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token class-name\">EntityManager</span> em <span class=\"token operator\">=</span> testEntityManager<span class=\"token punctuation\">.</span><span class=\"token function\">getEntityManager</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token class-name\">Member</span> findMember <span class=\"token operator\">=</span> em<span class=\"token punctuation\">.</span><span class=\"token function\">getReference</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Member</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">,</span> savedMember<span class=\"token punctuation\">.</span><span class=\"token function\">getId</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">//ì•„ë¬´ ì¿¼ë¦¬ê°€ í˜¸ì¶œë˜ì§€ ì•ŠëŠ”ë‹¤.</span>\n\n    <span class=\"token function\">assertThat</span><span class=\"token punctuation\">(</span>findMember<span class=\"token punctuation\">.</span><span class=\"token function\">getId</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">isNotNull</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">//getId()ëŠ” ì—¬ì „íˆ ì¿¼ë¦¬ëŠ” í˜¸ì¶œë˜ì§€ ì•ŠëŠ”ë‹¤.</span>\n\n    <span class=\"token function\">assertThat</span><span class=\"token punctuation\">(</span>findMember<span class=\"token punctuation\">.</span><span class=\"token function\">getClass</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">isNotEqualTo</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Member</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">//ì‹¤ì œ Entity í´ë˜ìŠ¤ê°€ ì•„ë‹ˆë‹¤.</span>\n\n    <span class=\"token function\">assertThat</span><span class=\"token punctuation\">(</span>findMember<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">isInstanceOf</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Member</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">//í”„ë¡ì‹œ ê°ì²´ëŠ” ì‹¤ì œ Entity ë¥¼ ìƒì†í•œë‹¤.</span>\n\n    <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span>findMember<span class=\"token punctuation\">.</span><span class=\"token function\">getClass</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">//ì¶œë ¥ : class com.example.jpastudy.domain.Member$HibernateProxy$VGt5eoXR</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<ul>\n<li>ìœ„ í…ŒìŠ¤íŠ¸ ì½”ë“œëŠ” select ì¿¼ë¦¬ë¥¼ í˜¸ì¶œí•˜ì§€ ì•ŠëŠ”ë‹¤.</li>\n<li><code class=\"language-text\">getId()</code>ëŠ” í•´ë‹¹ entityì— ëŒ€í•œ getterì´ê¸°ëŠ” í•˜ë‚˜, í”„ë¡ì‹œëŠ” í•´ë‹¹ entityì— ëŒ€í•œ ì‹ë³„ìë¥¼ ë³´ê´€í•˜ë¯€ë¡œ <code class=\"language-text\">getId()</code>ë¥¼ í˜¸ì¶œí•˜ë”ë¼ë„ entityë¥¼ ì´ˆê¸°í™”í•˜ì§€ ì•ŠëŠ”ë‹¤. (ì—¬ì§„íˆ ì¿¼ë¦¬ê°€ ì‹¤í–‰ë˜ì§€ ì•ŠëŠ”ë‹¤.)</li>\n<li>ìœ„ì—ì„œ <code class=\"language-text\">findMember.getClass()</code>ë¥¼ ì¶œë ¥í•´ë³´ë©´ <code class=\"language-text\">class com.example.jpastudy.domain.Member$HibernateProxy$VGt5eoXR</code> ì™€ ê°™ì´ í”„ë¡ì‹œ ê°ì²´ ì„ì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤.</li>\n</ul>\n<br>\n<br>\n<h2 id=\"í”„ë¡ì‹œ-ê°ì²´-íŠ¹ì§•-ë°-ì´ˆê¸°í™”\" style=\"position:relative;\"><a href=\"#%ED%94%84%EB%A1%9D%EC%8B%9C-%EA%B0%9D%EC%B2%B4-%ED%8A%B9%EC%A7%95-%EB%B0%8F-%EC%B4%88%EA%B8%B0%ED%99%94\" aria-label=\"í”„ë¡ì‹œ ê°ì²´ íŠ¹ì§• ë° ì´ˆê¸°í™” permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>í”„ë¡ì‹œ ê°ì²´ íŠ¹ì§• ë° ì´ˆê¸°í™”</h2>\n<ul>\n<li>ì´ˆê¸°í™”ëŠ” ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ì— ì‹¤ì œ ê°ì²´ê°€ ì—†ì„ ê²½ìš° ì—”í‹°í‹° ìƒì„±ì„ ìš”ì²­í•˜ì—¬ ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ì— ì‹¤ì œ entityë¥¼ ë¡œë“œí•˜ê³  ì°¸ì¡°ê°’ì„ ì €ì¥í•˜ëŠ” ê²ƒì´ë‹¤.</li>\n<li>í”„ë¡ì‹œ ê°ì²´ëŠ” ì‹¤ì œ ê°ì²´ë¥¼ ìƒì†í•œë‹¤. ë”°ë¼ì„œ ì‚¬ìš©í•  ë•ŒëŠ” ì‹¤ì œ Entityì²˜ëŸ¼ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.</li>\n</ul>\n<p align=\"center\"><img width=\"500\" alt=\"á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2021-08-15 á„‹á…©á„’á…® 3 58 10\" src=\"https://user-images.githubusercontent.com/63405904/129469950-dd48c26f-5554-4fdd-9e1f-5d38399ae46b.png\"><br>ì´ë¯¸ì§€ ì¶œì²˜ : ìë°” ORM í‘œì¤€ JPA í”„ë¡œê·¸ë˜ë° (ì €ì: ê¹€ì˜í•œ)</p>\n<br>\n<ul>\n<li>í”„ë¡ì‹œ ê°ì²´ëŠ” ì‹¤ì œ Entityì— ëŒ€í•œ ì‹ë³„ìì™€ í•´ë‹¹ Entityì˜ ì°¸ì¡°ê°’ì„ ì €ì¥í•˜ê³  ìˆë‹¤. ë”°ë¼ì„œ <code class=\"language-text\">getId()</code>ë¡œ ì‹ë³„ì ì¡°íšŒ ì‹œ ì´ˆê¸°í™” í•˜ì§€ ì•ŠëŠ”ë‹¤.</li>\n<li>ë”ë¶ˆì–´ í”„ë¡ì‹œ ê°ì²´ê°€ ì´ˆê¸°í™” ë  ë•Œ ì‹¤ì œ entity ê°ì²´ë¡œ ëŒ€ì²´ë˜ëŠ” ê²ƒì´ ì•„ë‹ˆë¼, í”„ë¡ì‹œì— ì €ì¥ë˜ì–´ ìˆëŠ” entity ì°¸ì¡°ê°’ìœ¼ë¡œ ì‹¤ì œ ê°ì²´ ë©”ì†Œë“œì— ìœ„ì„í•˜ì—¬ ë©”ì†Œë“œê°€ ì‹¤í–‰ëœë‹¤.</li>\n</ul>\n<p align=\"center\"><img width=\"500\" alt=\"á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2021-08-15 á„‹á…©á„’á…® 4 03 26\" src=\"https://user-images.githubusercontent.com/63405904/129470031-d0c8bcd1-ea2a-479c-a45f-bc3afa4f20de.png\"><br>ì´ë¯¸ì§€ ì¶œì²˜ : ìë°” ORM í‘œì¤€ JPA í”„ë¡œê·¸ë˜ë° (ì €ì: ê¹€ì˜í•œ)</p>\n<br>\n<h3 id=\"getter-í˜¸ì¶œì‹œ-code-classlanguage-textgetidcode-ì œì™¸-í”„ë¡ì‹œ-ê°ì²´-ì´ˆê¸°í™”---code-classlanguage-textgetreferencecode---code-classlanguage-textgetnamecode\" style=\"position:relative;\"><a href=\"#getter-%ED%98%B8%EC%B6%9C%EC%8B%9C-code-classlanguage-textgetidcode-%EC%A0%9C%EC%99%B8-%ED%94%84%EB%A1%9D%EC%8B%9C-%EA%B0%9D%EC%B2%B4-%EC%B4%88%EA%B8%B0%ED%99%94---code-classlanguage-textgetreferencecode---code-classlanguage-textgetnamecode\" aria-label=\"getter í˜¸ì¶œì‹œ code classlanguage textgetidcode ì œì™¸ í”„ë¡ì‹œ ê°ì²´ ì´ˆê¸°í™”   code classlanguage textgetreferencecode   code classlanguage textgetnamecode permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Getter í˜¸ì¶œì‹œ (<code class=\"language-text\">getId()</code> ì œì™¸) í”„ë¡ì‹œ ê°ì²´ ì´ˆê¸°í™” - <code class=\"language-text\">getReference()</code> -> <code class=\"language-text\">getName()</code></h3>\n<br>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@DisplayName</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"proxy ê°ì²´ëŠ” getName() ë“±ì„ í˜¸ì¶œ í•  ê²½ìš° ì´ˆê¸°í™” ëœë‹¤.\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token annotation punctuation\">@Test</span>\n<span class=\"token keyword\">void</span> <span class=\"token function\">getReference_proxyEntity_getName</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\n    <span class=\"token class-name\">Member</span> member <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Member</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"member1\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token class-name\">Team</span> team <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Team</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Team A\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    member<span class=\"token punctuation\">.</span><span class=\"token function\">setTeam</span><span class=\"token punctuation\">(</span>team<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token class-name\">Member</span> savedMember <span class=\"token operator\">=</span> memberRepository<span class=\"token punctuation\">.</span><span class=\"token function\">save</span><span class=\"token punctuation\">(</span>member<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    testEntityManager<span class=\"token punctuation\">.</span><span class=\"token function\">flush</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    testEntityManager<span class=\"token punctuation\">.</span><span class=\"token function\">clear</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token class-name\">EntityManager</span> em <span class=\"token operator\">=</span> testEntityManager<span class=\"token punctuation\">.</span><span class=\"token function\">getEntityManager</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token class-name\">Member</span> findMember <span class=\"token operator\">=</span> em<span class=\"token punctuation\">.</span><span class=\"token function\">getReference</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Member</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">,</span> savedMember<span class=\"token punctuation\">.</span><span class=\"token function\">getId</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">//ì•„ë¬´ ì¿¼ë¦¬ê°€ í˜¸ì¶œë˜ì§€ ì•ŠëŠ”ë‹¤.</span>\n\n    <span class=\"token function\">assertThat</span><span class=\"token punctuation\">(</span>findMember<span class=\"token punctuation\">.</span><span class=\"token function\">getId</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">isNotNull</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">//getId()ëŠ” ì—¬ì „íˆ ì¿¼ë¦¬ëŠ” í˜¸ì¶œë˜ì§€ ì•ŠëŠ”ë‹¤.</span>\n    <span class=\"token function\">assertThat</span><span class=\"token punctuation\">(</span>findMember<span class=\"token punctuation\">.</span><span class=\"token function\">getName</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">isEqualTo</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"member1\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">//select ì¿¼ë¦¬ê°€ ì‹¤í–‰ëœë‹¤.</span>\n\n    <span class=\"token function\">assertThat</span><span class=\"token punctuation\">(</span>findMember<span class=\"token punctuation\">.</span><span class=\"token function\">getClass</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">isNotEqualTo</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Member</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">//ì´ˆê¸°í™” ë˜ì–´ë„ ì—¬ì „íˆ ì‹¤ì œ Entity í´ë˜ìŠ¤ê°€ ì•„ë‹ˆë‹¤.</span>\n    <span class=\"token function\">assertThat</span><span class=\"token punctuation\">(</span>findMember<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">isInstanceOf</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Member</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">//í”„ë¡ì‹œ ê°ì²´ëŠ” ì‹¤ì œ Entity ë¥¼ ìƒì†í•œë‹¤.</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<br>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token keyword\">select</span>\n    member0_<span class=\"token punctuation\">.</span>id <span class=\"token keyword\">as</span> id1_0_0_<span class=\"token punctuation\">,</span>\n    member0_<span class=\"token punctuation\">.</span>name <span class=\"token keyword\">as</span> name2_0_0_<span class=\"token punctuation\">,</span>\n    member0_<span class=\"token punctuation\">.</span>team_id <span class=\"token keyword\">as</span> team_id3_0_0_<span class=\"token punctuation\">,</span>\n    team1_<span class=\"token punctuation\">.</span>id <span class=\"token keyword\">as</span> id1_1_1_<span class=\"token punctuation\">,</span>\n    team1_<span class=\"token punctuation\">.</span>name <span class=\"token keyword\">as</span> name2_1_1_ \n<span class=\"token keyword\">from</span>\n    member member0_ \n<span class=\"token keyword\">left</span> <span class=\"token keyword\">outer</span> <span class=\"token keyword\">join</span>\n    team team1_ \n        <span class=\"token keyword\">on</span> member0_<span class=\"token punctuation\">.</span>team_id<span class=\"token operator\">=</span>team1_<span class=\"token punctuation\">.</span>id \n<span class=\"token keyword\">where</span>\n    member0_<span class=\"token punctuation\">.</span>id<span class=\"token operator\">=</span>?</code></pre></div>\n<ul>\n<li>getName() ì‹¤í–‰ ì‹œ ìœ„ select ì¿¼ë¦¬ê°€ ì‹¤í–‰ëœë‹¤.</li>\n</ul>\n<br>\n<h3 id=\"í”„ë¡ì‹œ-íŠ¹ì§•\" style=\"position:relative;\"><a href=\"#%ED%94%84%EB%A1%9D%EC%8B%9C-%ED%8A%B9%EC%A7%95\" aria-label=\"í”„ë¡ì‹œ íŠ¹ì§• permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>í”„ë¡ì‹œ íŠ¹ì§•</h3>\n<ul>\n<li>ì²˜ìŒ ë‹¨ í•œë²ˆë§Œ ì´ˆê¸°í™” ëœë‹¤.</li>\n<li>í”„ë¡ì‹œ ê°ì²´ê°€ ëŒ€ì²´ë˜ëŠ” ê²ƒì´ ì•„ë‹ˆë¼ í”„ë¡ì‹œ ê°ì²´ë¥¼ í†µí•´ ì‹¤ì œ entity ì ‘ê·¼í•˜ëŠ” ê²ƒì´ë‹¤.</li>\n<li>íƒ€ì… ì²´í¬ì‹œ ì£¼ì˜í•´ì•¼ í•œë‹¤. (ì•„ë˜ ë” ìì„¸íˆ ë‹¤ë£¸)</li>\n<li>ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ì— ì´ë¯¸ í•´ë‹¹ entityê°€ ìˆë‹¤ë©´ <code class=\"language-text\">getReference()</code>ë¥¼ í•´ë„ ì‹¤ì œ entityê°€ ì¡°íšŒëœë‹¤.</li>\n<li>ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ë¥¼ í†µí•´ ì´ˆê¸°í™” í•˜ë¯€ë¡œ ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ì™€ ì—°ê²°ì´ ì—†ë‹¤ë©´ <code class=\"language-text\">LazyInitializationException</code> ì˜ˆì™¸ê°€ ë°œìƒí•œë‹¤.</li>\n</ul>\n<br>\n<br>\n<h2 id=\"í”„ë¡ì‹œ-ê°ì²´-íƒ€ì…-ì²´í¬\" style=\"position:relative;\"><a href=\"#%ED%94%84%EB%A1%9D%EC%8B%9C-%EA%B0%9D%EC%B2%B4-%ED%83%80%EC%9E%85-%EC%B2%B4%ED%81%AC\" aria-label=\"í”„ë¡ì‹œ ê°ì²´ íƒ€ì… ì²´í¬ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>í”„ë¡ì‹œ ê°ì²´ íƒ€ì… ì²´í¬</h2>\n<ul>\n<li>í”„ë¡ì‹œ ê°ì²´ì˜ íƒ€ì…ì€ <code class=\"language-text\">getClass()</code> ë¡œ ë¹„êµí•  ê²½ìš° í”„ë¡ì‹œ ê°ì²´ í´ë˜ìŠ¤ê°€ ì¡°íšŒë˜ê¸° ë•Œë¬¸ì— ë¹„êµí•˜ê¸° ìœ„í•´ì„œëŠ” <code class=\"language-text\">instanceOf</code> ë¥¼ ì‚¬ìš©í•´ì•¼ í•œë‹¤.</li>\n<li>ë§ì€ ê²½ìš° í”„ë¡ì‹œ ê°ì²´ë¥¼ <code class=\"language-text\">getClass()</code>ë¡œ ì‹¤ì œ entityì™€ ë¹„êµí•˜ì—¬ ë²„ê·¸ê°€ ë°œìƒí•œë‹¤.</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@DisplayName</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"proxy ê°ì²´ì˜ íƒ€ì…ì€ ì‹¤ì œ entity ê°ì²´ íƒ€ì…ê³¼ ë‹¤ë¥´ë‹¤. getClass()ë¡œ ë¹„êµí•  ê²½ìš° falseê°€ ë°˜í™˜ëœë‹¤.\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token annotation punctuation\">@Test</span>\n<span class=\"token keyword\">void</span> <span class=\"token function\">proxyType_getClass</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\n    <span class=\"token class-name\">Member</span> member <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Member</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"member1\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token class-name\">Team</span> teamA <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Team</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Team A\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    member<span class=\"token punctuation\">.</span><span class=\"token function\">setTeam</span><span class=\"token punctuation\">(</span>teamA<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token class-name\">Member</span> savedMember <span class=\"token operator\">=</span> memberRepository<span class=\"token punctuation\">.</span><span class=\"token function\">save</span><span class=\"token punctuation\">(</span>member<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    testEntityManager<span class=\"token punctuation\">.</span><span class=\"token function\">flush</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    testEntityManager<span class=\"token punctuation\">.</span><span class=\"token function\">clear</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token comment\">//í”„ë¡ì‹œ ê°ì²´ë¥¼ ê°€ì ¸ì˜¤ê¸° ìœ„í•´ Memberì˜ Team í”„ë¡œí¼í‹°ë¥¼ FetchType.LAZYë¡œ ì„¤ì •</span>\n    <span class=\"token class-name\">EntityManager</span> em <span class=\"token operator\">=</span> testEntityManager<span class=\"token punctuation\">.</span><span class=\"token function\">getEntityManager</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token class-name\">Member</span> findMember <span class=\"token operator\">=</span> em<span class=\"token punctuation\">.</span><span class=\"token function\">find</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Member</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">,</span> savedMember<span class=\"token punctuation\">.</span><span class=\"token function\">getId</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">//Teamì€ ì§€ì—°ë¡œë”©ìœ¼ë¡œ í”„ë¡ì‹œê°ì²´ì´ë‹¤.</span>\n    <span class=\"token class-name\">Team</span> findTeam <span class=\"token operator\">=</span> findMember<span class=\"token punctuation\">.</span><span class=\"token function\">getTeam</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token function\">assertThat</span><span class=\"token punctuation\">(</span>teamA<span class=\"token punctuation\">.</span><span class=\"token function\">getName</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">isEqualTo</span><span class=\"token punctuation\">(</span>findTeam<span class=\"token punctuation\">.</span><span class=\"token function\">getName</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">//ê¸°ì¡´ TeamAì™€ í”„ë¡ì‹œ íŒ€ì¸ findTeamì˜ í•„ë“œê°’ì€ ë™ì¼í•˜ë‹¤.</span>\n    <span class=\"token function\">assertThat</span><span class=\"token punctuation\">(</span>teamA<span class=\"token punctuation\">.</span><span class=\"token function\">getClass</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">isNotEqualTo</span><span class=\"token punctuation\">(</span>findTeam<span class=\"token punctuation\">.</span><span class=\"token function\">getClass</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">//í”„ë¡ì‹œ íŒ€ìœ findTeamì˜ classëŠ” Teamì´ ì•„ë‹ˆë‹¤.</span>\n\n    <span class=\"token function\">assertThat</span><span class=\"token punctuation\">(</span>findTeam<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">isInstanceOf</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Team</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">//isInstanceOfë¡œ ë¹„êµí•˜ë©´ ìƒì† ë°›ì€ Team.class ì´ë‹¤.</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<br>\n<br>\n<h2 id=\"ì˜ì†ì„±-ì»¨í…ìŠ¤íŠ¸ì—-ìˆëŠ”-entity-getreference\" style=\"position:relative;\"><a href=\"#%EC%98%81%EC%86%8D%EC%84%B1-%EC%BB%A8%ED%85%8D%EC%8A%A4%ED%8A%B8%EC%97%90-%EC%9E%88%EB%8A%94-entity-getreference\" aria-label=\"ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ì— ìˆëŠ” entity getreference permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ì— ìˆëŠ” entity getReference</h2>\n<ul>\n<li>ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ì— ì¡°íšŒí•˜ê³ ì í•˜ëŠ” entityê°€ ì´ë¯¸ ì¡´ì¬í•œë‹¤ë©´ <code class=\"language-text\">getReference()</code>ë¥¼ ì‚¬ìš©í•˜ë”ë¼ë„ í”„ë¡ì‹œ ê°ì²´ê°€ ì•„ë‹Œ ì‹¤ì œ entity ê°€ ë°˜í™˜ëœë‹¤.</li>\n</ul>\n<br>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@DisplayName</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"ì´ë¯¸ ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ì— ìˆëŠ” entity ì¡°íšŒì‹œ getReferenceë¡œ ì¡°íšŒí•´ë„ ì‹¤ì œ entityê°€ ë°˜í™˜ëœë‹¤.\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token annotation punctuation\">@Test</span>\n<span class=\"token keyword\">void</span> <span class=\"token function\">getReference_AlreadyInPersistenceContext</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token class-name\">Member</span> member <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Member</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"member1\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token class-name\">Team</span> teamA <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Team</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Team A\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    member<span class=\"token punctuation\">.</span><span class=\"token function\">setTeam</span><span class=\"token punctuation\">(</span>teamA<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token class-name\">Member</span> savedMember <span class=\"token operator\">=</span> memberRepository<span class=\"token punctuation\">.</span><span class=\"token function\">save</span><span class=\"token punctuation\">(</span>member<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">//ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ì— ì¡´ì¬í–”ë‹¤.</span>\n\n    <span class=\"token class-name\">EntityManager</span> em <span class=\"token operator\">=</span> testEntityManager<span class=\"token punctuation\">.</span><span class=\"token function\">getEntityManager</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token class-name\">Member</span> findMember <span class=\"token operator\">=</span> em<span class=\"token punctuation\">.</span><span class=\"token function\">getReference</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Member</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">,</span> savedMember<span class=\"token punctuation\">.</span><span class=\"token function\">getId</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// í”„ë¡ì‹œ ê°ì²´ë¥¼ ê°€ì ¸ì˜¤ë“¯ ë©”ì„œë“œë¥¼ í˜¸ì¶œí•œë‹¤.</span>\n\n    <span class=\"token function\">assertThat</span><span class=\"token punctuation\">(</span>findMember<span class=\"token punctuation\">.</span><span class=\"token function\">getClass</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">isEqualTo</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Member</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">//í”„ë¡ì‹œê°€ ì•„ë‹Œ ì‹¤ì œ entity í´ë˜ìŠ¤ë¥¼ ê°€ì ¸ì˜¨ë‹¤. ì¶”ê°€ì ì¸ ì¿¼ë¦¬ëŠ” ì‹¤í–‰ë˜ì§€ ì•ŠëŠ”ë‹¤.</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<br>\n<br>\n<h2 id=\"ì¤€ì˜ì†-entity-ì´ˆê¸°í™”\" style=\"position:relative;\"><a href=\"#%EC%A4%80%EC%98%81%EC%86%8D-entity-%EC%B4%88%EA%B8%B0%ED%99%94\" aria-label=\"ì¤€ì˜ì† entity ì´ˆê¸°í™” permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ì¤€ì˜ì† entity ì´ˆê¸°í™”</h2>\n<ul>\n<li>ì¤€ì˜ì†ì´ ëœ í”„ë¡ì‹œ ê°ì²´ì—ì„œ ì´ˆê¸°í™”ë¥¼ ì‹œë„í•  ê²½ìš° í•˜ì´ë²„ë„¤ì´íŠ¸ì˜ <code class=\"language-text\">LazyInitializationException</code>ì´ ë°œìƒí•œë‹¤.</li>\n<li>í”„ë¡ì‹œì˜ ì´ˆê¸°í™”ëŠ” ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ì™€ ë§¤ìš° ë°€ì ‘í•˜ê²Œ ê´€ë ¨ì´ ìˆìœ¼ë¯€ë¡œ ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ì™€ì˜ ê´€ê³„ê°€ ëŠì–´ì§€ë©´ ì—ì™¸ê°€ ë°œìƒí•œë‹¤.</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@DisplayName</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"ì¤€ì˜ì† í”„ë¡ì‹œ ê°ì²´ì— ëŒ€í•œ ì´ˆê¸°í™” ì‹œ ì˜ˆì™¸ê°€ ë°œìƒí•œë‹¤.\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token annotation punctuation\">@Test</span>\n<span class=\"token keyword\">void</span> <span class=\"token function\">getReference_InitializationExcpetion</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\n    <span class=\"token class-name\">Member</span> member <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Member</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"member1\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token class-name\">Team</span> teamA <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Team</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Team A\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    member<span class=\"token punctuation\">.</span><span class=\"token function\">setTeam</span><span class=\"token punctuation\">(</span>teamA<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token class-name\">Member</span> savedMember <span class=\"token operator\">=</span> memberRepository<span class=\"token punctuation\">.</span><span class=\"token function\">save</span><span class=\"token punctuation\">(</span>member<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    testEntityManager<span class=\"token punctuation\">.</span><span class=\"token function\">flush</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    testEntityManager<span class=\"token punctuation\">.</span><span class=\"token function\">clear</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token class-name\">EntityManager</span> em <span class=\"token operator\">=</span> testEntityManager<span class=\"token punctuation\">.</span><span class=\"token function\">getEntityManager</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token class-name\">Member</span> findMember <span class=\"token operator\">=</span> em<span class=\"token punctuation\">.</span><span class=\"token function\">find</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Member</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">,</span> savedMember<span class=\"token punctuation\">.</span><span class=\"token function\">getId</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">//Team ì„ lazy ë¡œë”© ì„¤ì •í•˜ì—¬ í”„ë¡ì‹œ ê°ì²´ë¡œ ê°€ì ¸ì˜¨ë‹¤.</span>\n\n    em<span class=\"token punctuation\">.</span><span class=\"token function\">clear</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">//ë¨¼ì € ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ë¥¼ clear í•´ì£¼ì–´ì•¼í•œë‹¤. </span>\n    em<span class=\"token punctuation\">.</span><span class=\"token function\">close</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">//í”„ë¡ì‹œ ê°ì²´ë¥¼ ê°€ì ¸ì˜¨ ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ë¥¼ ì¢…ë£Œí•œë‹¤.</span>\n\n    <span class=\"token function\">assertThatThrownBy</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">-></span> findMember<span class=\"token punctuation\">.</span><span class=\"token function\">getTeam</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">getName</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">//ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ê°€ ì¢…ë£Œëœ ì´í›„ì— ì´ˆê¸°í™”ë¥¼ ì‹œë„í•˜ë©´</span>\n        <span class=\"token punctuation\">.</span><span class=\"token function\">isInstanceOf</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">LazyInitializationException</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">//í•˜ì´ë²„ë„¤ì´íŠ¸ ì˜ˆì™¸ê°€ ë°œìƒí•œë‹¤.</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<ul>\n<li><code class=\"language-text\">Member</code>ì˜ <code class=\"language-text\">Team</code>ì„ ì§€ì—°ë¡œë”©ìœ¼ë¡œ <code class=\"language-text\">fetch</code> íƒ€ì…ì„ ì„¤ì •í•˜ì—¬ <code class=\"language-text\">Member</code> ì¡°íšŒì‹œ <code class=\"language-text\">Team</code>ì€ í”„ë¡ì‹œ ê°ì²´ì´ë„ë¡ í•œë‹¤.</li>\n<li>ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ë¥¼ ë‹«ì€ í›„ì— ì´ˆê¸°í™”ë¥¼ ì‹œë„í•˜ë©´ ì˜ˆì™¸ê°€ ë°œìƒí•œë‹¤.\n<ul>\n<li>ë‹¨ìˆœíˆ <code class=\"language-text\">Member.getTeam()</code> ì´ ì´ˆê¸°í™”ë¥¼ ì‹¤í–‰í•˜ì§€ ì•Šê³  ì‹¤ì œ <code class=\"language-text\">Team</code>ì˜ í•„ë“œê°€ ì‚¬ìš©ë  ë•Œ (<code class=\"language-text\">getName()</code> ë“±) ì´ˆê¸°í™”ê°€ ëœë‹¤.</li>\n</ul>\n</li>\n</ul>\n<br>\n<br>\n<h2 id=\"í”„ë¡ì‹œ-ê°ì²´-í™•ì¸\" style=\"position:relative;\"><a href=\"#%ED%94%84%EB%A1%9D%EC%8B%9C-%EA%B0%9D%EC%B2%B4-%ED%99%95%EC%9D%B8\" aria-label=\"í”„ë¡ì‹œ ê°ì²´ í™•ì¸ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>í”„ë¡ì‹œ ê°ì²´ í™•ì¸</h2>\n<ul>\n<li>í”„ë¡ì‹œ ê°ì²´ í™•ì¸ì„ ìœ„í•´ì„œëŠ” <code class=\"language-text\">PersistenceUnitUtil.isLoaded(Object entity)</code>ë¥¼ ì‚¬ìš©í•´ì„œ í™•ì¸í•  ìˆ˜ ìˆë‹¤.</li>\n<li>ë•Œë•Œë¡œ jpa repostioryì— ëŒ€í•œ ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ë¥¼ ì‘ì„±í•˜ë ¤ê³  í•  ë•Œ, ì˜ë„í•œëŒ€ë¡œ ì§€ì—°ë¡œë”© ë˜ëŠ” ì¦‰ì‹œë¡œë”©ì´ ë˜ì—ˆëŠ”ì§€ í™•ì¸í•  ë•Œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.</li>\n<li>ë§Œì¼ ì´ˆê¸°í™”ê°€ ì•ˆëœ í”„ë¡ì‹œ ê°ì²´ë¼ë©´ ìœ„ ê²°ê³¼ê°’ì´ <code class=\"language-text\">false</code>ê°€ ë°˜í™˜ëœë‹¤.</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@DisplayName</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"í”„ë¡ì‹œ ê°ì²´ë¥¼ í™•ì¸í•  ìˆ˜ ìˆë‹¤. \"</span><span class=\"token punctuation\">)</span>\n<span class=\"token annotation punctuation\">@Test</span>\n<span class=\"token keyword\">void</span> <span class=\"token class-name\">PersistenceUnitUtil_Proxy</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\n    <span class=\"token class-name\">Member</span> member <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Member</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"member1\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token class-name\">Team</span> teamA <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Team</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Team A\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    member<span class=\"token punctuation\">.</span><span class=\"token function\">setTeam</span><span class=\"token punctuation\">(</span>teamA<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token class-name\">Member</span> savedMember <span class=\"token operator\">=</span> memberRepository<span class=\"token punctuation\">.</span><span class=\"token function\">save</span><span class=\"token punctuation\">(</span>member<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    testEntityManager<span class=\"token punctuation\">.</span><span class=\"token function\">flush</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    testEntityManager<span class=\"token punctuation\">.</span><span class=\"token function\">clear</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token class-name\">EntityManager</span> em <span class=\"token operator\">=</span> testEntityManager<span class=\"token punctuation\">.</span><span class=\"token function\">getEntityManager</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token class-name\">Member</span> findMember <span class=\"token operator\">=</span> em<span class=\"token punctuation\">.</span><span class=\"token function\">find</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Member</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">,</span> savedMember<span class=\"token punctuation\">.</span><span class=\"token function\">getId</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">//Team ì„ lazy ë¡œë”© ì„¤ì •í•˜ì—¬ í”„ë¡ì‹œ ê°ì²´ë¡œ ê°€ì ¸ì˜¨ë‹¤.</span>\n\n    <span class=\"token keyword\">boolean</span> memberIsLoaded <span class=\"token operator\">=</span> em<span class=\"token punctuation\">.</span><span class=\"token function\">getEntityManagerFactory</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">.</span><span class=\"token function\">getPersistenceUnitUtil</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">isLoaded</span><span class=\"token punctuation\">(</span>findMember<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">boolean</span> teamIsLoaded <span class=\"token operator\">=</span> em<span class=\"token punctuation\">.</span><span class=\"token function\">getEntityManagerFactory</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">.</span><span class=\"token function\">getPersistenceUnitUtil</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">isLoaded</span><span class=\"token punctuation\">(</span>findMember<span class=\"token punctuation\">.</span><span class=\"token function\">getTeam</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">//EntityManagerFactoryì—ì„œ PersistenceUnitUtilì„ ê°€ì ¸ì˜¨ë‹¤.</span>\n\n    <span class=\"token function\">assertThat</span><span class=\"token punctuation\">(</span>memberIsLoaded<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">isTrue</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">//findMember ëŠ” ì‹¤ì œ entity ì´ë¯€ë¡œ ê²°ê³¼ê°’ì´ true ì´ë‹¤.</span>\n    <span class=\"token function\">assertThat</span><span class=\"token punctuation\">(</span>teamIsLoaded<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">isFalse</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">//team ì€ í”„ë¡ì‹œ ê°ì²´ì´ë¯€ë¡œ ê²°ê³¼ê°’ì´ false ì´ë‹¤.</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<div class=\"table-of-contents\">\n<ul>\n<li>\n<p><a href=\"#intro\">INTRO</a></p>\n</li>\n<li>\n<p><a href=\"#%EA%B8%B0%EB%B3%B8-%EC%98%88%EC%8B%9C-entity\">ê¸°ë³¸ ì˜ˆì‹œ Entity</a></p>\n</li>\n<li>\n<p><a href=\"#%ED%94%84%EB%A1%9D%EC%8B%9C\">í”„ë¡ì‹œ</a></p>\n<ul>\n<li><a href=\"#%EC%8B%A4%EC%A0%9C-entity-%EC%A1%B0%ED%9A%8C---find\">ì‹¤ì œ Entity ì¡°íšŒ - <code class=\"language-text\">find()</code></a></li>\n<li><a href=\"#%ED%94%84%EB%A1%9D%EC%8B%9C-entity-%EC%A1%B0%ED%9A%8C---getreference\">í”„ë¡ì‹œ Entity ì¡°íšŒ - <code class=\"language-text\">getReference()</code></a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#%ED%94%84%EB%A1%9D%EC%8B%9C-%EA%B0%9D%EC%B2%B4-%ED%8A%B9%EC%A7%95-%EB%B0%8F-%EC%B4%88%EA%B8%B0%ED%99%94\">í”„ë¡ì‹œ ê°ì²´ íŠ¹ì§• ë° ì´ˆê¸°í™”</a></p>\n<ul>\n<li><a href=\"#getter-%ED%98%B8%EC%B6%9C%EC%8B%9C-getid-%EC%A0%9C%EC%99%B8-%ED%94%84%EB%A1%9D%EC%8B%9C-%EA%B0%9D%EC%B2%B4-%EC%B4%88%EA%B8%B0%ED%99%94---getreference---getname\">Getter í˜¸ì¶œì‹œ (<code class=\"language-text\">getId()</code> ì œì™¸) í”„ë¡ì‹œ ê°ì²´ ì´ˆê¸°í™” - <code class=\"language-text\">getReference()</code> -> <code class=\"language-text\">getName()</code></a></li>\n<li><a href=\"#%ED%94%84%EB%A1%9D%EC%8B%9C-%ED%8A%B9%EC%A7%95\">í”„ë¡ì‹œ íŠ¹ì§•</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#%ED%94%84%EB%A1%9D%EC%8B%9C-%EA%B0%9D%EC%B2%B4-%ED%83%80%EC%9E%85-%EC%B2%B4%ED%81%AC\">í”„ë¡ì‹œ ê°ì²´ íƒ€ì… ì²´í¬</a></p>\n</li>\n<li>\n<p><a href=\"#%EC%98%81%EC%86%8D%EC%84%B1-%EC%BB%A8%ED%85%8D%EC%8A%A4%ED%8A%B8%EC%97%90-%EC%9E%88%EB%8A%94-entity-getreference\">ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ì— ìˆëŠ” entity getReference</a></p>\n</li>\n<li>\n<p><a href=\"#%EC%A4%80%EC%98%81%EC%86%8D-entity-%EC%B4%88%EA%B8%B0%ED%99%94\">ì¤€ì˜ì† entity ì´ˆê¸°í™”</a></p>\n</li>\n<li>\n<p><a href=\"#%ED%94%84%EB%A1%9D%EC%8B%9C-%EA%B0%9D%EC%B2%B4-%ED%99%95%EC%9D%B8\">í”„ë¡ì‹œ ê°ì²´ í™•ì¸</a></p>\n</li>\n</ul>\n</div>","frontmatter":{"date":"August 26, 2021","title":"JPA í”„ë¡ì‹œ ì•Œì•„ë³´ê¸°","categories":"JPA","author":"ì½”ë‹¤","emoji":"ğŸš€"},"fields":{"slug":"/jpa-proxy/"}},"site":{"siteMetadata":{"siteUrl":"https://yjksw.github.io","comments":{"utterances":{"repo":"yjksw/yjksw.github.io"}}}}},"pageContext":{"slug":"/profile-active-profile/","nextSlug":"/spring-boot-test/","prevSlug":"/jpa-proxy/"}},
    "staticQueryHashes": ["1073350324","1956554647","2938748437"]}