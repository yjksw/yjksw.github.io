{"componentChunkName":"component---src-templates-blog-template-js","path":"/spring-boot-testresttemplate/","result":{"data":{"cur":{"id":"57df426c-a3bd-5baf-bc88-0e1154ce17ba","html":"<blockquote>\n<p>ë‹¤ìŒì€ <a href=\"%5Bhttps://www.baeldung.com/spring-boot-testresttemplate%5D(https://www.baeldung.com/spring-boot-testresttemplate)\">TestRestTemplate ë§í¬</a> ë¥¼ ë²ˆì—­í•˜ë©´ì„œ ê³µë¶€í•œ ê¸€ì…ë‹ˆë‹¤. ğŸ™Œ</p>\n</blockquote>\n<br> \n<p>ê¸°ì¡´ì— RestTemplateì„ í™œìš©í•˜ì—¬ í†µí•©í…ŒìŠ¤íŠ¸ë¥¼ ë§ì´ í–ˆì„ ê²ƒì´ë‹¤. ìŠ¤í”„ë§ë¶€íŠ¸ì—ëŠ” êµ‰ì¥íˆ ë¹„ìŠ·í•˜ê²Œ ë™ì‘í•˜ëŠ” TestRestTemplateì´ ìˆë‹¤.\në‘ê°€ì§€ ëª¨ë‘ í†µí•©í…ŒìŠ¤íŠ¸ì—ì„œ ìœ ìš©í•˜ë©° HTTP APIë¥¼ ë‹¤ë£° ìˆ˜ ìˆë‹¤. TestRestTemplateì˜ ì˜ˆì‹œë¥¼ í•œë²ˆ ë“¤ì—¬ë‹¤ë³´ì. </p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token class-name\">TestRestTemplate</span> testRestTemplate <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">TestRestTemplate</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token class-name\">ResponseEntity</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">></span></span> response <span class=\"token operator\">=</span> testRestTemplate<span class=\"token punctuation\">.</span>\n  <span class=\"token function\">getForEntity</span><span class=\"token punctuation\">(</span>FOO_RESOURCE_URL <span class=\"token operator\">+</span> <span class=\"token string\">\"/1\"</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">String</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n \n<span class=\"token function\">assertThat</span><span class=\"token punctuation\">(</span>response<span class=\"token punctuation\">.</span><span class=\"token function\">getStatusCode</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token function\">equalTo</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">HttpStatus</span><span class=\"token punctuation\">.</span>OK<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>RestTemplateê³¼ ê±°ì˜ ìœ ì‚¬í•œ í˜•í…Œë¥¼ ì§€ë‹ˆê³  ìˆë‹¤. í•˜ì§€ë§Œ TempRestTemplateì€ RestTemplateì„ í™•ì¥í•˜ì§€ ì•Šìœ¼ë©° ëª‡ê°€ì§€ ë‹¤ë¥¸ ê¸°ëŠ¥ì„ ì œê³µí•œë‹¤. </p>\n<br>\n<h2 id=\"-testresttemplateì€-ë¬´ì—‡ì´-ë‹¤ë¥¼ê¹Œ\" style=\"position:relative;\"><a href=\"#-testresttemplate%EC%9D%80-%EB%AC%B4%EC%97%87%EC%9D%B4-%EB%8B%A4%EB%A5%BC%EA%B9%8C\" aria-label=\" testresttemplateì€ ë¬´ì—‡ì´ ë‹¤ë¥¼ê¹Œ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ğŸŒ© TestRestTemplateì€ ë¬´ì—‡ì´ ë‹¤ë¥¼ê¹Œ?</h2>\n<h3 id=\"1-auth-credentialsì„-ì„¤ì •í• -ìˆ˜-ìˆëŠ”-ìƒì„±ìë¥¼-ì œê³µí•œë‹¤\" style=\"position:relative;\"><a href=\"#1-auth-credentials%EC%9D%84-%EC%84%A4%EC%A0%95%ED%95%A0-%EC%88%98-%EC%9E%88%EB%8A%94-%EC%83%9D%EC%84%B1%EC%9E%90%EB%A5%BC-%EC%A0%9C%EA%B3%B5%ED%95%9C%EB%8B%A4\" aria-label=\"1 auth credentialsì„ ì„¤ì •í•  ìˆ˜ ìˆëŠ” ìƒì„±ìë¥¼ ì œê³µí•œë‹¤ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1. Auth Credentialsì„ ì„¤ì •í•  ìˆ˜ ìˆëŠ” ìƒì„±ìë¥¼ ì œê³µí•œë‹¤.</h3>\n<p>TestRestTemplateì„ ìƒì„±í•  ë•Œ ê¸°ë³¸ authenticationì„ ì„¤ì •í•˜ì—¬ ìƒì„±í•  ìˆ˜ ìˆë‹¤. ê·¸ëŸ¬ë©´ í•´ë‹¹ ì¸ìŠ¤í„´ìŠ¤ë¥¼ í™œìš©í•œ ëª¨ë“  ìš”ì²­ì´ í•´ë‹¹ credentialì´ ì ìš©ëœ ì±„ë¡œ ìˆ˜í–‰ëœë‹¤. </p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token class-name\">TestRestTemplate</span> testRestTemplate\n <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">TestRestTemplate</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"user\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"passwd\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token class-name\">ResponseEntity</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">></span></span> response <span class=\"token operator\">=</span> testRestTemplate<span class=\"token punctuation\">.</span>\n  <span class=\"token function\">getForEntity</span><span class=\"token punctuation\">(</span>URL_SECURED_BY_AUTHENTICATION<span class=\"token punctuation\">,</span> <span class=\"token class-name\">String</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n \n<span class=\"token function\">assertThat</span><span class=\"token punctuation\">(</span>response<span class=\"token punctuation\">.</span><span class=\"token function\">getStatusCode</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token function\">equalTo</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">HttpStatus</span><span class=\"token punctuation\">.</span>OK<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<br>\n<h3 id=\"2-httpclientoptionì„-ì œê³µí•˜ëŠ”-ìƒì„±ìë¥¼-ì œê³µí•œë‹¤\" style=\"position:relative;\"><a href=\"#2-httpclientoption%EC%9D%84-%EC%A0%9C%EA%B3%B5%ED%95%98%EB%8A%94-%EC%83%9D%EC%84%B1%EC%9E%90%EB%A5%BC-%EC%A0%9C%EA%B3%B5%ED%95%9C%EB%8B%A4\" aria-label=\"2 httpclientoptionì„ ì œê³µí•˜ëŠ” ìƒì„±ìë¥¼ ì œê³µí•œë‹¤ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2. HttpClientOptionì„ ì œê³µí•˜ëŠ” ìƒì„±ìë¥¼ ì œê³µí•œë‹¤.</h3>\n<p>ê¸°íƒ€ ë‹¤ë¥¸ Http ì˜µì…˜ë“±ì„ ì„¤ì •í•  ìˆ˜ ìˆë‹¤. Enumì„ ì œê³µí•˜ë©° <code class=\"language-text\">ENABLE_COOKIES</code>, <code class=\"language-text\">ENABLE_REDIRECTS</code>, <code class=\"language-text\">SSL</code> ì´ ìˆë‹¤. </p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token class-name\">TestRestTemplate</span> testRestTemplate <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">TestRestTemplate</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"user\"</span><span class=\"token punctuation\">,</span> \n  <span class=\"token string\">\"passwd\"</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">TestRestTemplate<span class=\"token punctuation\">.</span>HttpClientOption</span><span class=\"token punctuation\">.</span>ENABLE_COOKIES<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token class-name\">ResponseEntity</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">></span></span> response <span class=\"token operator\">=</span> testRestTemplate<span class=\"token punctuation\">.</span>\n  <span class=\"token function\">getForEntity</span><span class=\"token punctuation\">(</span>URL_SECURED_BY_AUTHENTICATION<span class=\"token punctuation\">,</span> <span class=\"token class-name\">String</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n \n<span class=\"token function\">assertThat</span><span class=\"token punctuation\">(</span>response<span class=\"token punctuation\">.</span><span class=\"token function\">getStatusCode</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token function\">equalTo</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">HttpStatus</span><span class=\"token punctuation\">.</span>OK<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></code></pre></div>\n<br>\n<h3 id=\"3-ìƒˆë¡œìš´-ë©”ì†Œë“œ\" style=\"position:relative;\"><a href=\"#3-%EC%83%88%EB%A1%9C%EC%9A%B4-%EB%A9%94%EC%86%8C%EB%93%9C\" aria-label=\"3 ìƒˆë¡œìš´ ë©”ì†Œë“œ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>3. ìƒˆë¡œìš´ ë©”ì†Œë“œ</h3>\n<p>ìƒì„±ì ë¿ ì•„ë‹ˆë¼ <code class=\"language-text\">withBasicAuth()</code> ë¼ëŠ” ë©”ì†Œë“œë¥¼ í†µí•´ì„œ authenticationì„ ì¶”ê°€í•  ìˆ˜ë„ ìˆë‹¤. </p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token class-name\">TestRestTemplate</span> testRestTemplate <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">TestRestTemplate</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token class-name\">ResponseEntity</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">></span></span> response <span class=\"token operator\">=</span> testRestTemplate<span class=\"token punctuation\">.</span><span class=\"token function\">withBasicAuth</span><span class=\"token punctuation\">(</span>\n  <span class=\"token string\">\"user\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"passwd\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">getForEntity</span><span class=\"token punctuation\">(</span>URL_SECURED_BY_AUTHENTICATION<span class=\"token punctuation\">,</span> \n  <span class=\"token class-name\">String</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n \n<span class=\"token function\">assertThat</span><span class=\"token punctuation\">(</span>response<span class=\"token punctuation\">.</span><span class=\"token function\">getStatusCode</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token function\">equalTo</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">HttpStatus</span><span class=\"token punctuation\">.</span>OK<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<br>\n<h2 id=\"-resttemplateê³¼-testresttemplate-ë‘˜ë‹¤-ì‚¬ìš©í•˜ê¸°\" style=\"position:relative;\"><a href=\"#-resttemplate%EA%B3%BC-testresttemplate-%EB%91%98%EB%8B%A4-%EC%82%AC%EC%9A%A9%ED%95%98%EA%B8%B0\" aria-label=\" resttemplateê³¼ testresttemplate ë‘˜ë‹¤ ì‚¬ìš©í•˜ê¸° permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ğŸŒ© RestTemplateê³¼ TestRestTemplate ë‘˜ë‹¤ ì‚¬ìš©í•˜ê¸°</h2>\n<p>TestRestTemplateì€ RestTemplateì˜ wrapperë¡œ í™œìš©ë  ìˆ˜ ìˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´ ì´ë¯¸ restTemplateìœ¼ë¡œ êµ¬í˜„ëœ ë ˆê±°ì‹œ ì½”ë“œê°€ ìˆë‹¤ë©´ wrapperë¡œ TestRestTemplateìœ¼ë¡œ ì „í™˜í•´ ì†ì‰½ê²Œ ì‚¬ìš©ì´ ê°€ëŠ¥í•˜ë‹¤. </p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token class-name\">RestTemplateBuilder</span> restTemplateBuilder <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">RestTemplateBuilder</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nrestTemplateBuilder<span class=\"token punctuation\">.</span><span class=\"token function\">configure</span><span class=\"token punctuation\">(</span>restTemplate<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token class-name\">TestRestTemplate</span> testRestTemplate <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">TestRestTemplate</span><span class=\"token punctuation\">(</span>restTemplateBuilder<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token class-name\">ResponseEntity</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">></span></span> response <span class=\"token operator\">=</span> testRestTemplate<span class=\"token punctuation\">.</span><span class=\"token function\">getForEntity</span><span class=\"token punctuation\">(</span>\n  FOO_RESOURCE_URL <span class=\"token operator\">+</span> <span class=\"token string\">\"/1\"</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">String</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n \n<span class=\"token function\">assertThat</span><span class=\"token punctuation\">(</span>response<span class=\"token punctuation\">.</span><span class=\"token function\">getStatusCode</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token function\">equalTo</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">HttpStatus</span><span class=\"token punctuation\">.</span>OK<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<br>\n<h2 id=\"-ê²°ë¡ \" style=\"position:relative;\"><a href=\"#-%EA%B2%B0%EB%A1%A0\" aria-label=\" ê²°ë¡  permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ğŸŒ© ê²°ë¡ </h2>\n<p>TestRestTemplateì€ ë‹¨ìˆœíˆ RestTemplateì˜ í™•ì¥ë²„ì „ì´ ì•„ë‹ˆë‹¤. ì˜¤íˆë ¤ ë” ê°„ë‹¨í•˜ê²Œ í†µí•©í…ŒìŠ¤íŠ¸ë¥¼ í•  ìˆ˜ ìˆê³  ìœ ìš©í•˜ê²Œ authenticationì„ ì„¤ì •í•  ìˆ˜ ìˆëŠ” ëŒ€ì²´ì•ˆì´ë‹¤. Apache Http í´ë¼ì´ì–¸íŠ¸ë¥¼ ì»¤ìŠ¤í…€í•  ìˆ˜ ìˆìœ¼ë©° RestTemplateì˜ wrapper í´ë˜ìŠ¤ë¡œë„ í™œìš©ë  ìˆ˜ ìˆë‹¤.</p>\n<div class=\"table-of-contents\">\n<ul>\n<li>\n<p><a href=\"#-testresttemplate%EC%9D%80-%EB%AC%B4%EC%97%87%EC%9D%B4-%EB%8B%A4%EB%A5%BC%EA%B9%8C\">ğŸŒ© TestRestTemplateì€ ë¬´ì—‡ì´ ë‹¤ë¥¼ê¹Œ?</a></p>\n<ul>\n<li><a href=\"#1-auth-credentials%EC%9D%84-%EC%84%A4%EC%A0%95%ED%95%A0-%EC%88%98-%EC%9E%88%EB%8A%94-%EC%83%9D%EC%84%B1%EC%9E%90%EB%A5%BC-%EC%A0%9C%EA%B3%B5%ED%95%9C%EB%8B%A4\">1. Auth Credentialsì„ ì„¤ì •í•  ìˆ˜ ìˆëŠ” ìƒì„±ìë¥¼ ì œê³µí•œë‹¤.</a></li>\n<li><a href=\"#2-httpclientoption%EC%9D%84-%EC%A0%9C%EA%B3%B5%ED%95%98%EB%8A%94-%EC%83%9D%EC%84%B1%EC%9E%90%EB%A5%BC-%EC%A0%9C%EA%B3%B5%ED%95%9C%EB%8B%A4\">2. HttpClientOptionì„ ì œê³µí•˜ëŠ” ìƒì„±ìë¥¼ ì œê³µí•œë‹¤.</a></li>\n<li><a href=\"#3-%EC%83%88%EB%A1%9C%EC%9A%B4-%EB%A9%94%EC%86%8C%EB%93%9C\">3. ìƒˆë¡œìš´ ë©”ì†Œë“œ</a></li>\n</ul>\n</li>\n<li><a href=\"#-resttemplate%EA%B3%BC-testresttemplate-%EB%91%98%EB%8B%A4-%EC%82%AC%EC%9A%A9%ED%95%98%EA%B8%B0\">ğŸŒ© RestTemplateê³¼ TestRestTemplate ë‘˜ë‹¤ ì‚¬ìš©í•˜ê¸°</a></li>\n<li><a href=\"#-%EA%B2%B0%EB%A1%A0\">ğŸŒ© ê²°ë¡ </a></li>\n</ul>\n</div>","excerpt":"ë‹¤ìŒì€ TestRestTemplate ë§í¬ ë¥¼ ë²ˆì—­í•˜ë©´ì„œ ê³µë¶€í•œ ê¸€ì…ë‹ˆë‹¤. ğŸ™Œ ê¸°ì¡´ì— RestTemplateì„ í™œìš©í•˜ì—¬ í†µí•©í…ŒìŠ¤íŠ¸ë¥¼ ë§ì´ í–ˆì„ ê²ƒì´ë‹¤. ìŠ¤í”„ë§ë¶€íŠ¸ì—ëŠ” êµ‰ì¥íˆ ë¹„ìŠ·í•˜ê²Œ ë™ì‘í•˜ëŠ” TestRestTemplateì´ ìˆë‹¤. \në‘ê°€ì§€ ëª¨ë‘ í†µí•©í…ŒìŠ¤íŠ¸ì—ì„œ ìœ ìš©í•˜ë©° HTTP APIë¥¼ ë‹¤ë£° ìˆ˜ ìˆë‹¤. TestRestTemplateì˜ ì˜ˆì‹œë¥¼ í•œë²ˆ ë“¤ì—¬ë‹¤ë³´ì.  RestTemplateê³¼ ê±°ì˜ ìœ ì‚¬í•œ í˜•í…Œë¥¼ ì§€ë‹ˆê³  ìˆë‹¤. í•˜ì§€ë§Œ TempRestTemplateì€ RestTemplateì„ í™•ì¥í•˜ì§€ ì•Šìœ¼ë©° ëª‡ê°€ì§€ ë‹¤ë¥¸ ê¸°ëŠ¥ì„ ì œê³µí•œë‹¤.  ğŸŒ© TestRestTemplateì€ ë¬´ì—‡ì´ ë‹¤ë¥¼ê¹Œ? 1. Auth Credentialsì„ ì„¤ì •í•  ìˆ˜ ìˆëŠ” ìƒì„±ìë¥¼ ì œê³µí•œë‹¤. TestRestTemplateì„ ìƒì„±í•  ë•Œ ê¸°ë³¸ authenticationì„ ì„¤ì •í•˜ì—¬ ìƒì„±í•  ìˆ˜ ìˆë‹¤. ê·¸ëŸ¬ë©´ í•´ë‹¹ ì¸ìŠ¤í„´ìŠ¤ë¥¼ í™œìš©í•œ ëª¨ë“  ìš”ì²­ì´ í•´ë‹¹ credentialì´ ì ìš©ëœ ì±„ë¡œ ìˆ˜í–‰ëœë‹¤.  2. HttpClientOptionì„â€¦","frontmatter":{"date":"October 24, 2021","title":"Springbootì˜ TestRestTemplate ì•Œì•„ë³´ê¸°","categories":"ìŠ¤í”„ë§ë¶€íŠ¸ í…ŒìŠ¤íŠ¸","author":"ì½”ë‹¤","emoji":"ğŸ–¥"},"fields":{"slug":"/spring-boot-testresttemplate/"}},"next":{"id":"2f49dd5a-2fdd-5bc5-99dd-37f1109d261c","html":"<blockquote>\n<p>ë‹¤ìŒ <a href=\"%5Bhttps://www.baeldung.com/spring-boot-testing%5D(https://www.baeldung.com/spring-boot-testing)\">ë§í¬</a>ë¥¼ ì½ê³  ì •ë¦¬í•œ ë‚´ìš©ì…ë‹ˆë‹¤ ğŸ™Œ <br> ì´ì „ì— ì‘ì„±í–ˆë˜ <a href=\"https://yjksw.github.io/spring-boot-test/\">ê¸€</a>ì´ ìˆìŠµë‹ˆë‹¤. </p>\n</blockquote>\n<p>ìŠ¤í”„ë§ë¶€íŠ¸ì—ì„œ ì§€ì›í•˜ëŠ” ì—¬ëŸ¬ í…ŒìŠ¤íŒ… ê¸°ë²•ë“¤ì„ í†µí•´ì„œ ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ë‚˜ ìŠ¤í”„ë§ ì»¨í…ìŠ¤íŠ¸ë¥¼ ë„ìš°ëŠ” í†µí•© í…ŒìŠ¤íŠ¸ë¥¼ ì§„í–‰í•  ìˆ˜ ìˆë‹¤.\nì‚¬ì „ ì¤€ë¹„ë¡œëŠ” ìŠ¤í”„ë§ë¶€íŠ¸ í”„ë¡œì íŠ¸ì— <code class=\"language-text\">org.springframwork.boot.spring-boot-start-test</code> ì˜ì¡´ì„±ì„ ì¶”ê°€í•´ì•¼í•œë‹¤.</p>\n<br>\n<h2 id=\"-springboottest-í†µí•©í…ŒìŠ¤íŠ¸\" style=\"position:relative;\"><a href=\"#-springboottest-%ED%86%B5%ED%95%A9%ED%85%8C%EC%8A%A4%ED%8A%B8\" aria-label=\" springboottest í†µí•©í…ŒìŠ¤íŠ¸ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ğŸŒ© @SpringBootTest í†µí•©í…ŒìŠ¤íŠ¸</h2>\n<ul>\n<li>í†µí•©í…ŒìŠ¤íŠ¸ëŠ” ì–´í”Œë¦¬ì¼€ì´ì…˜ì˜ ì—¬ëŸ¬ ë ˆì´ì–´ì˜ í†µí•© ë¡œì§ì„ í…ŒìŠ¤íŠ¸ í•˜ëŠ” ê²ƒì´ë‹¤. ë”°ë¼ì„œ mockingì„ í•˜ì§€ ì•ŠëŠ”ë‹¤.</li>\n<li>\n<p>ì›ì¹™ì ìœ¼ë¡œëŠ” í†µí•©í…ŒìŠ¤íŠ¸ëŠ” ë‹¨ìœ„í…ŒìŠ¤íŠ¸ì™€ ë¶„ë¦¬ë˜ì–´ ìˆì–´ì•¼í•˜ë©° ì‹¤í–‰ ë˜í•œ ë¶„ë¦¬í•´ì„œ ì‹¤í–‰í•´ì•¼ í•œë‹¤. ë‹¤ë¥¸ profile í™˜ê²½ìœ¼ë¡œ ë‚˜ëˆ„ê³  í†µí•©í…ŒìŠ¤íŠ¸ë§Œì„ ë¶„ë¦¬í•˜ì—¬ ì‹¤í–‰í•´ì•¼í•œë‹¤.</p>\n<ul>\n<li>ì´ë ‡ê²Œ í•´ì•¼í•˜ëŠ” ì´ìœ  ì¤‘ í•˜ë‚˜ëŠ” í†µí•© í…ŒìŠ¤íŠ¸ëŠ” ì–´í”Œë¦¬ì¼€ì´ì…˜ ì»¨í…ìŠ¤íŠ¸ë¥¼ ë„ìš°ëŠ” ì‘ì—…ì„ í•„ìš”ë¡œ í•˜ê¸° ë•Œë¬¸ì— ìƒëŒ€ì ìœ¼ë¡œ ê¸´ ì‹œê°„ì´ ì†Œìš”ëœë‹¤.</li>\n<li>ë˜í•œ ì‹¤ì œ ë°ì´í„°ë² ì´ìŠ¤ì˜ ì‹¤í–‰ì„ í•„ìš”ë¡œ í•˜ê¸°ë„ í•œë‹¤.</li>\n</ul>\n</li>\n<li>\n<p><code class=\"language-text\">@SpringBootTest</code> ì€ ì»¨í…Œì´ë„ˆ ì „ì²´ë¥¼ ë„ìš°ëŠ”ë° ìœ ìš©í•˜ë‹¤. ì´ ì–´ë…¸í…Œì´ì…˜ì€ í…ŒìŠ¤íŠ¸ì— ì‚¬ìš©ë  ApplicationContextë¥¼ ìƒì„±í•˜ì—¬ í…ŒìŠ¤íŠ¸ë¥¼ ì§„í–‰í•œë‹¤.</p>\n<ul>\n<li><code class=\"language-text\">@SpringBootTest</code>ì˜ <code class=\"language-text\">SpringBootTest.webEnvironment.MOCK</code> ì„ í†µí•´ mock ì„œë¸”ë¦¿ í™˜ê²½ì—ì„œ ì»¨í…Œì´ë„ˆë¥¼ ì‹¤í–‰í•  ìˆ˜ ìˆë‹¤.</li>\n</ul>\n</li>\n<li><code class=\"language-text\">@TestPropertySource</code> ì–´ë…¸í…Œì´ì…˜ì„ í†µí•´ properties íŒŒì¼ì„ ì§€ì •í•  ìˆ˜ ìˆë‹¤.</li>\n</ul>\n<br>\n<h2 id=\"-testconfiguration-ì„-í™œìš©í•œ-í…ŒìŠ¤íŠ¸-ì„¤ì •\" style=\"position:relative;\"><a href=\"#-testconfiguration-%EC%9D%84-%ED%99%9C%EC%9A%A9%ED%95%9C-%ED%85%8C%EC%8A%A4%ED%8A%B8-%EC%84%A4%EC%A0%95\" aria-label=\" testconfiguration ì„ í™œìš©í•œ í…ŒìŠ¤íŠ¸ ì„¤ì • permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ğŸŒ© @TestConfiguration ì„ í™œìš©í•œ í…ŒìŠ¤íŠ¸ ì„¤ì •</h2>\n<ul>\n<li><code class=\"language-text\">@SpringBootTest</code>ëŠ” ì–´í”Œë¦¬ì¼€ì´ì…˜ ì»¨í…ìŠ¤íŠ¸ ì „ì²´ë¥¼ ë„ìš°ëŠ” ê²ƒì´ê¸° ë•Œë¬¸ì— <code class=\"language-text\">@Autowired</code> ë¥¼ í†µí•´ ìë™ì£¼ì…í•˜ëŠ” bean ì€ ëª¨ë‘ ì»´í¬ë„ŒíŠ¸ ìŠ¤ìº”ì„ í†µí•œë‹¤ëŠ” ê²ƒì´ë‹¤.</li>\n<li>í•˜ì§€ë§Œ í…ŒìŠ¤íŠ¸ë¥¼ì§„í–‰í•˜ë©´ì„œì‹¤ì œ ì–´í”Œë¦¬ì¼€ì´ì…˜ ì»¨í…ìŠ¤íŠ¸ì™€ ë‹¤ë¥¸ í…ŒìŠ¤íŠ¸ìš© ì„¤ì • ë¹ˆë“¤ì„ ì£¼ì…í•˜ê³  ì‹¶ì„ ìˆ˜ ìˆë‹¤. ì´ë•Œ <code class=\"language-text\">@TestConfiguration</code> ì–´ë…¸í…Œì´ì…˜ì„ í™œìš©í•œë‹¤.</li>\n<li>\n<p>ì‚¬ìš©í•˜ëŠ” ë°©ë²•ì€ 2ê°€ì§€ ì´ë‹¤.</p>\n<ol>\n<li>\n<p>static inner class</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@RunWith</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">SpringRunner</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">EmployeeServiceImplIntegrationTest</span> <span class=\"token punctuation\">{</span>\n\n    <span class=\"token annotation punctuation\">@TestConfiguration</span>\n    <span class=\"token keyword\">static</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">EmployeeServiceImplTestContextConfiguration</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token annotation punctuation\">@Bean</span>\n        <span class=\"token keyword\">public</span> <span class=\"token class-name\">EmployeeService</span> <span class=\"token function\">employeeService</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token keyword\">return</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">EmployeeService</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                <span class=\"token comment\">// implement methods</span>\n            <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token annotation punctuation\">@Autowired</span>\n    <span class=\"token keyword\">private</span> <span class=\"token class-name\">EmployeeService</span> employeeService<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n</li>\n<li>\n<p>separated test configuration class</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@TestConfiguration</span>\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">EmployeeServiceImplTestContextConfiguration</span> <span class=\"token punctuation\">{</span>\n    \n    <span class=\"token annotation punctuation\">@Bean</span>\n    <span class=\"token keyword\">public</span> <span class=\"token class-name\">EmployeeService</span> <span class=\"token function\">employeeService</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">return</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">EmployeeService</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> \n            <span class=\"token comment\">// implement methods </span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<ul>\n<li><code class=\"language-text\">@TestConfiguration</code>ì´ ëª…ì‹œëœ í´ë˜ìŠ¤ëŠ” component scanningì—ì„œ ì œì™¸ë˜ì–´ ìˆë‹¤. ë”°ë¼ì„œ í•´ë‹¹ ì„¤ì •ì„ ì‚¬ìš©í•˜ê³  ì‹¶ì€ í…ŒìŠ¤íŠ¸ì— <code class=\"language-text\">@Import</code> ì–´ë…¸í…Œì´ì…˜ì„ í†µí•´ ëª…ì‹œí•´ì£¼ì–´ì•¼ í•œë‹¤.</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@RunWith</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">SpringRunner</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">)</span>\n<span class=\"token annotation punctuation\">@Import</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">EmployeeServiceImplTestContextConfiguration</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">EmployeeServiceImplIntegrationTest</span> <span class=\"token punctuation\">{</span>\n\n    <span class=\"token annotation punctuation\">@Autowired</span>\n    <span class=\"token keyword\">private</span> <span class=\"token class-name\">EmployeeService</span> employeeService<span class=\"token punctuation\">;</span>\n\n    <span class=\"token comment\">// remaining class code</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n</li>\n</ol>\n</li>\n</ul>\n<br>\n<h2 id=\"-mockbean-ì„-í™œìš©í•œ-ëª¨í‚¹\" style=\"position:relative;\"><a href=\"#-mockbean-%EC%9D%84-%ED%99%9C%EC%9A%A9%ED%95%9C-%EB%AA%A8%ED%82%B9\" aria-label=\" mockbean ì„ í™œìš©í•œ ëª¨í‚¹ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ğŸŒ© @MockBean ì„ í™œìš©í•œ ëª¨í‚¹</h2>\n<ul>\n<li>íŠ¹ì • layerì˜ ë¡œì§ë§Œ í…ŒìŠ¤íŠ¸í•˜ê³  ì‹¶ì€ ê²½ìš° í•´ë‹¹ layerë‚˜ í´ë˜ìŠ¤ê°€ ì˜ì¡´í•˜ê³  ìˆëŠ” ë‹¤ë¥¸ ë¹ˆì˜ ë™ì‘ì— ëŒ€í•´ì„œëŠ” í¬ê²Œ ìƒê´€í•˜ê³  ì‹¶ì§€ ì•Šì„ë•Œê°€ ìˆë‹¤.</li>\n<li>\n<p>ë”°ë¼ì„œ <code class=\"language-text\">@MockBean</code>ì„ í™œìš©í•˜ì—¬ ì‹¤ì œ ì˜ì¡´ ë¹ˆì„ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ì•„ë‹ˆë¼ í•´ë‹¹ ë¹ˆì´ ì§€ì •ëœ ê°’ì„ ë°˜í™˜í•˜ë„ë¡ í•  ìˆ˜ ìˆë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@RunWith</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">SpringRunner</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">EmployeeServiceImplIntegrationTest</span> <span class=\"token punctuation\">{</span>\n\n    <span class=\"token annotation punctuation\">@TestConfiguration</span>\n    <span class=\"token keyword\">static</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">EmployeeServiceImplTestContextConfiguration</span> <span class=\"token punctuation\">{</span>\n \n        <span class=\"token annotation punctuation\">@Bean</span>\n        <span class=\"token keyword\">public</span> <span class=\"token class-name\">EmployeeService</span> <span class=\"token function\">employeeService</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token keyword\">return</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">EmployeeServiceImpl</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token annotation punctuation\">@Autowired</span>\n    <span class=\"token keyword\">private</span> <span class=\"token class-name\">EmployeeService</span> employeeService<span class=\"token punctuation\">;</span>\n\n    <span class=\"token annotation punctuation\">@MockBean</span>\n    <span class=\"token keyword\">private</span> <span class=\"token class-name\">EmployeeRepository</span> employeeRepository<span class=\"token punctuation\">;</span>\n\n    <span class=\"token comment\">// write test cases here</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n</li>\n<li>\n<p>ì—¬ê¸°ì„œ ë‹¤ìŒê³¼ ê°™ì´ <code class=\"language-text\">EmployeeRepository</code> ì˜ í–‰ë™ì„ ì§€ì •í•˜ê³   í…ŒìŠ¤íŠ¸ë¥¼ ëŒë¦¬ë©´ EmployeeService ì—ì„œ repository ë¶€ë¶„ì€ ì§€ì •í•œ ê²ƒê³¼ ê°™ì´ í–‰ë™í•œë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@Before</span>\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">setUp</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token class-name\">Employee</span> alex <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Employee</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"alex\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token class-name\">Mockito</span><span class=\"token punctuation\">.</span><span class=\"token function\">when</span><span class=\"token punctuation\">(</span>employeeRepository<span class=\"token punctuation\">.</span><span class=\"token function\">findByName</span><span class=\"token punctuation\">(</span>alex<span class=\"token punctuation\">.</span><span class=\"token function\">getName</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n      <span class=\"token punctuation\">.</span><span class=\"token function\">thenReturn</span><span class=\"token punctuation\">(</span>alex<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token annotation punctuation\">@Test</span>\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">whenValidName_thenEmployeeShouldBeFound</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token class-name\">String</span> name <span class=\"token operator\">=</span> <span class=\"token string\">\"alex\"</span><span class=\"token punctuation\">;</span>\n    <span class=\"token class-name\">Employee</span> found <span class=\"token operator\">=</span> employeeService<span class=\"token punctuation\">.</span><span class=\"token function\">getEmployeeByName</span><span class=\"token punctuation\">(</span>name<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n \n     <span class=\"token function\">assertThat</span><span class=\"token punctuation\">(</span>found<span class=\"token punctuation\">.</span><span class=\"token function\">getName</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n      <span class=\"token punctuation\">.</span><span class=\"token function\">isEqualTo</span><span class=\"token punctuation\">(</span>name<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n <span class=\"token punctuation\">}</span></code></pre></div>\n</li>\n</ul>\n<br>\n<h2 id=\"-datajpatest-ë¥¼-í™œìš©í•œ-í†µí•©í…ŒìŠ¤íŠ¸\" style=\"position:relative;\"><a href=\"#-datajpatest-%EB%A5%BC-%ED%99%9C%EC%9A%A9%ED%95%9C-%ED%86%B5%ED%95%A9%ED%85%8C%EC%8A%A4%ED%8A%B8\" aria-label=\" datajpatest ë¥¼ í™œìš©í•œ í†µí•©í…ŒìŠ¤íŠ¸ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ğŸŒ© @DataJpaTest ë¥¼ í™œìš©í•œ í†µí•©í…ŒìŠ¤íŠ¸</h2>\n<ul>\n<li>\n<p>Persistence layerë¥¼ í…ŒìŠ¤íŠ¸í•˜ê³  JPAë¥¼ ì‚¬ìš©í•˜ê³  ìˆë‹¤ë©´ <code class=\"language-text\">@DataJpaTest</code> ì–´ë…¸í…Œì´ì…˜ì´ í•´ë‹¹ ë ˆì´ì–´ë¥¼ í…ŒìŠ¤íŠ¸í•˜ëŠ” ì—¬ëŸ¬ ì„¸íŒ…ì„ í•´ì¤€ë‹¤.</p>\n<ul>\n<li>H2 ì„¤ì •</li>\n<li>Hibernate, Spring Data, Datasource ì„¤ì •</li>\n<li><code class=\"language-text\">@EntityScan</code> ì‹¤í–‰</li>\n<li>SQL ë¡œê¹… ì‹¤í–‰</li>\n</ul>\n</li>\n<li>í…ŒìŠ¤íŠ¸ ì´ì „ì— ë°ì´í„°ë² ì´ìŠ¤ì— í…ŒìŠ¤íŠ¸ ë°ì´í„°ë¥¼ ë¯¸ë¦¬ ë„£ì„ ìˆ˜ ìˆë„ë¡ <code class=\"language-text\">TestEntityManager</code>ë¥¼ í™œìš©í•œë‹¤.</li>\n</ul>\n<br>\n<h2 id=\"-webmvctest-ë¥¼-í™œìš©í•œ-ë‹¨ìœ„-í…ŒìŠ¤íŠ¸\" style=\"position:relative;\"><a href=\"#-webmvctest-%EB%A5%BC-%ED%99%9C%EC%9A%A9%ED%95%9C-%EB%8B%A8%EC%9C%84-%ED%85%8C%EC%8A%A4%ED%8A%B8\" aria-label=\" webmvctest ë¥¼ í™œìš©í•œ ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ğŸŒ© @WebMvcTest ë¥¼ í™œìš©í•œ ë‹¨ìœ„ í…ŒìŠ¤íŠ¸</h2>\n<ul>\n<li>ì£¼ë¡œ ControllerëŠ” Serivceì— ì˜ì¡´í•œë‹¤.</li>\n<li>Controllerì— ëŒ€í•œ ë‹¨ìœ„í…ŒìŠ¤íŠ¸ë¥¼ ì§„í–‰í•˜ê¸° ìœ„í•´ì„œëŠ” service layer ì½”ë“œë¥¼ ëª¨í‚¹í•´ì•¼ í•œë‹¤.</li>\n<li>ì´ë•Œ <code class=\"language-text\">@WebMvcTest</code> ì–´ë…¸í…Œì´ì…˜ì„ í™œìš©í•  ìˆ˜ ìˆë‹¤. ì´ ì–´ë…¸í…Œì´ì…˜ì€ Spring MVC ì¸í”„ë¼ë¥¼ ìë™ìœ¼ë¡œ ì„¤ì •í•´ì¤€ë‹¤.</li>\n<li>ì£¼ë¡œ <code class=\"language-text\">@WebMvcTest</code> í•˜ë‚˜ì˜ ì»¨íŠ¸ë¡¤ëŸ¬ì— êµ­í•œë˜ë©° <code class=\"language-text\">@MockBean</code> ì–´ë…¸í…Œì´ì…˜ì„ í™œìš©í•´ ì˜ì¡´ ê°ì²´ë¥¼ ëª¨í‚¹í•  ìˆ˜ ìˆë‹¤.</li>\n<li>\n<p><code class=\"language-text\">@WebMvcTest</code> ëŠ” ë˜í•œ <code class=\"language-text\">MockMvc</code> ì— ëŒ€í•œ ìë™ì„¤ì •ì„ í•´ ì „ì²´ HTTP ì„œë²„ë¥¼ êµ¬ë™í•˜ì§€ ì•Šê³  MVC ì»¨íŠ¸ë¡¤ëŸ¬ë¥¼ í…ŒìŠ¤íŠ¸í•  ìˆ˜ ìˆë„ë¡ í•œë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@Test</span>\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">givenEmployees_whenGetEmployees_thenReturnJsonArray</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n  <span class=\"token keyword\">throws</span> <span class=\"token class-name\">Exception</span> <span class=\"token punctuation\">{</span>\n    \n    <span class=\"token class-name\">Employee</span> alex <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Employee</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"alex\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token class-name\">List</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Employee</span><span class=\"token punctuation\">></span></span> allEmployees <span class=\"token operator\">=</span> <span class=\"token class-name\">Arrays</span><span class=\"token punctuation\">.</span><span class=\"token function\">asList</span><span class=\"token punctuation\">(</span>alex<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token function\">given</span><span class=\"token punctuation\">(</span>service<span class=\"token punctuation\">.</span><span class=\"token function\">getAllEmployees</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">willReturn</span><span class=\"token punctuation\">(</span>allEmployees<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    mvc<span class=\"token punctuation\">.</span><span class=\"token function\">perform</span><span class=\"token punctuation\">(</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"/api/employees\"</span><span class=\"token punctuation\">)</span>\n      <span class=\"token punctuation\">.</span><span class=\"token function\">contentType</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">MediaType</span><span class=\"token punctuation\">.</span>APPLICATION_JSON<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n      <span class=\"token punctuation\">.</span><span class=\"token function\">andExpect</span><span class=\"token punctuation\">(</span><span class=\"token function\">status</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">isOk</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n      <span class=\"token punctuation\">.</span><span class=\"token function\">andExpect</span><span class=\"token punctuation\">(</span><span class=\"token function\">jsonPath</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"$\"</span><span class=\"token punctuation\">,</span> <span class=\"token function\">hasSize</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n      <span class=\"token punctuation\">.</span><span class=\"token function\">andExpect</span><span class=\"token punctuation\">(</span><span class=\"token function\">jsonPath</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"$[0].name\"</span><span class=\"token punctuation\">,</span> <span class=\"token function\">is</span><span class=\"token punctuation\">(</span>alex<span class=\"token punctuation\">.</span><span class=\"token function\">getName</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n</li>\n</ul>\n<br>\n<h2 id=\"-ê°ì¢…-ìë™í™”-í…ŒìŠ¤íŠ¸\" style=\"position:relative;\"><a href=\"#-%EA%B0%81%EC%A2%85-%EC%9E%90%EB%8F%99%ED%99%94-%ED%85%8C%EC%8A%A4%ED%8A%B8\" aria-label=\" ê°ì¢… ìë™í™” í…ŒìŠ¤íŠ¸ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ğŸŒ© ê°ì¢… ìë™í™” í…ŒìŠ¤íŠ¸</h2>\n<p>ìŠ¤í”„ë§ë¶€íŠ¸ì—ì„œëŠ” ì „ì²´ ì–´í”Œë¦¬ì¼€ì´ì…˜ì˜ ì¼ë¶€ë¶„ì„ ë¡œë”©í•˜ê³  íŠ¹ì • ë ˆì´ì–´ë§Œ í…ŒìŠ¤íŠ¸í•  ìˆ˜ ìˆëŠ” ìë™í™” ì–´ë…¸í…Œì´ì…˜ì„ ë§ì´ ì œê³µí•œë‹¤. ì„¤ëª…í•œ ëª‡ê°€ì§€ë¥¼ ì†Œê°œí•´ë³´ë ¤ë³´ í•œë‹¤. </p>\n<ul>\n<li>@JdbcTest : JPA ì–´í”Œë¦¬ì¼€ì´ì…˜ì„ í…ŒìŠ¤íŠ¸í•˜ëŠ”ë° ì‚¬ìš©ë  ìˆ˜ ìˆë‹¤. í•˜ì§€ë§Œ ì´ ì–´ë…¸í…Œì´ì…˜ì´ ì‚¬ìš©ë˜ëŠ” í…ŒìŠ¤íŠ¸ëŠ” DataSourceë¥¼ í•„ìš”ë¡œí•˜ëŠ” í…ŒìŠ¤íŠ¸ ì´ë‹¤.</li>\n<li>@DataRedisTest : Redis ì–´í”Œë¦¬ì¼€ì´ì…˜ì„ í…ŒìŠ¤íŠ¸í•  ìˆ˜ ìˆëŠ” ì–´ë…¸í…Œì´ì…˜ì´ë‹¤. @RedisHash í´ë˜ìŠ¤ë¥¼ ìŠ¤ìº”í•˜ê³  Spring Data Redis ë ˆí¬ì§€í† ë¦¬ë¥¼ default ì„¤ì •í•œë‹¤.</li>\n</ul>\n<br>\n<br>\n<h2 id=\"-ëŠë‚€ì \" style=\"position:relative;\"><a href=\"#-%EB%8A%90%EB%82%80%EC%A0%90\" aria-label=\" ëŠë‚€ì  permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ğŸ›‹ ëŠë‚€ì </h2>\n<ul>\n<li>ìŠ¤í”„ë§ë¶€íŠ¸ í…ŒìŠ¤íŠ¸ëŠ” <a href=\"https://yjksw.github.io/spring-boot-test/\">ì´ì „ ê¸€</a>ì—ì„œë„ í•œë²ˆ ë‹¤ë£¨ì—ˆë˜ ì´ì•¼ê¸° ì´ë‹¤. ë‹¤ì‹œ í•œë²ˆ ì“°ê²Œ ëœ ì´ìœ ëŠ” <a href=\"https://github.com/yjksw/jwp-refactoring\">ë ˆê±°ì‹œ ë¦¬íŒ©í† ë§ ë¯¸ì…˜</a>ì„ ì§„í–‰í•˜ë©´ì„œ ì½”ë“œë¥¼ ë³´í˜¸í•˜ëŠ” í…ŒìŠ¤íŠ¸ì˜ ì •ë„ì— ëŒ€í•œ ê³ ë¯¼ì´ ë˜ì—ˆê¸° ë•Œë¬¸ì´ë‹¤. </li>\n<li>í…ŒìŠ¤íŠ¸ë¥¼ ì‘ì„±í• ìˆ˜ë¡ ì–´ëŠì •ë„ì˜ í…ŒìŠ¤íŠ¸ê¹Œì§€ ì‘ì„±í•˜ëŠ” ê²ƒì´ ì¢‹ì€ì§€ëŠ” ì •ë‹µì´ ì—†ëŠ” ê²ƒ ê°™ë‹¤. ë‹¤ë§Œ í…ŒìŠ¤íŠ¸ ì½”ë“œ ë‚´ì—ì„œ ëª¨ìˆœì´ ìˆì–´ í•­ìƒ ì„±ê³µí•˜ëŠ” í…ŒìŠ¤íŠ¸ë¥¼ ë§Œë“¤ì§€ ì•Šê¸° ìœ„í•´ì„œ ì£¼ì˜í•´ì•¼í•œë‹¤. ë˜í•œ ì‹¤íŒ¨í•˜ëŠ” ì¼€ì´ìŠ¤ì— ëŒ€í•œ ì‘ì„±ë„ ê¼¼ê¼¼íˆ í•´ì•¼ í•œë‹¤. </li>\n<li>í…ŒìŠ¤íŠ¸ì½”ë“œëŠ” ë‹¤ë‹¤ìµì„ ì¼ê¹Œ ?</li>\n</ul>\n<div class=\"table-of-contents\">\n<ul>\n<li><a href=\"#-springboottest-%ED%86%B5%ED%95%A9%ED%85%8C%EC%8A%A4%ED%8A%B8\">ğŸŒ© @SpringBootTest í†µí•©í…ŒìŠ¤íŠ¸</a></li>\n<li><a href=\"#-testconfiguration-%EC%9D%84-%ED%99%9C%EC%9A%A9%ED%95%9C-%ED%85%8C%EC%8A%A4%ED%8A%B8-%EC%84%A4%EC%A0%95\">ğŸŒ© @TestConfiguration ì„ í™œìš©í•œ í…ŒìŠ¤íŠ¸ ì„¤ì •</a></li>\n<li><a href=\"#-mockbean-%EC%9D%84-%ED%99%9C%EC%9A%A9%ED%95%9C-%EB%AA%A8%ED%82%B9\">ğŸŒ© @MockBean ì„ í™œìš©í•œ ëª¨í‚¹</a></li>\n<li><a href=\"#-datajpatest-%EB%A5%BC-%ED%99%9C%EC%9A%A9%ED%95%9C-%ED%86%B5%ED%95%A9%ED%85%8C%EC%8A%A4%ED%8A%B8\">ğŸŒ© @DataJpaTest ë¥¼ í™œìš©í•œ í†µí•©í…ŒìŠ¤íŠ¸</a></li>\n<li><a href=\"#-webmvctest-%EB%A5%BC-%ED%99%9C%EC%9A%A9%ED%95%9C-%EB%8B%A8%EC%9C%84-%ED%85%8C%EC%8A%A4%ED%8A%B8\">ğŸŒ© @WebMvcTest ë¥¼ í™œìš©í•œ ë‹¨ìœ„ í…ŒìŠ¤íŠ¸</a></li>\n<li><a href=\"#-%EA%B0%81%EC%A2%85-%EC%9E%90%EB%8F%99%ED%99%94-%ED%85%8C%EC%8A%A4%ED%8A%B8\">ğŸŒ© ê°ì¢… ìë™í™” í…ŒìŠ¤íŠ¸</a></li>\n<li><a href=\"#-%EB%8A%90%EB%82%80%EC%A0%90\">ğŸ›‹ ëŠë‚€ì </a></li>\n</ul>\n</div>","frontmatter":{"date":"October 23, 2021","title":"Springboot í…ŒìŠ¤íŠ¸ ë‹¤ì‹œ í•œë²ˆ ì•Œì•„ë³´ê¸°_ì¤‘ìš”í•œ ê±´ ì—¬ëŸ¬ ë²ˆ ğŸ˜Š","categories":"ìŠ¤í”„ë§ë¶€íŠ¸ í…ŒìŠ¤íŠ¸","author":"ì½”ë‹¤","emoji":"ğŸ–¥"},"fields":{"slug":"/spring-boot-test-2/"}},"prev":null,"site":{"siteMetadata":{"siteUrl":"https://yjksw.github.io","comments":{"utterances":{"repo":"yjksw/yjksw.github.io"}}}}},"pageContext":{"slug":"/spring-boot-testresttemplate/","nextSlug":"/spring-boot-test-2/","prevSlug":""}},"staticQueryHashes":["1073350324","2938748437"]}