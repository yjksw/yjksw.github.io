{"componentChunkName":"component---src-templates-blog-template-js","path":"/jpa-default-batch-fetch-size-not-working/","result":{"data":{"cur":{"id":"c5e44e8c-2ca4-5cbc-ae8a-04e3d2e1640a","html":"<h2 id=\"-intro\" style=\"position:relative;\"><a href=\"#-intro\" aria-label=\" intro permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ğŸ’¡ Intro</h2>\n<ul>\n<li>\n<p>JPAë¥¼ <a href=\"https://github.com/woowacourse-teams/2021-pick-git\">í”„ë¡œì íŠ¸</a>ì—ì„œ ì‚¬ìš©í•˜ë©´ì„œ ì—°ê´€ ì—”í‹°í‹°ë¥¼ í˜¸ì¶œí•  ë•Œ ìƒê¸°ëŠ” N+1ì„ í•´ê²°í•œ ê²½í—˜ì´ ìˆë‹¤. ì´ë•Œ í•´ê²° ë°©ë²•ìœ¼ë¡œ hibernateì˜ <code class=\"language-text\">default_batch_fetch_size</code>ë¥¼ ymlì— ì„¤ì •í•˜ì—¬ í•´ê²°í–ˆì—ˆë‹¤.</p>\n<ul>\n<li><a href=\"https://yjksw.github.io/jpa-query-bug/\">ì°¸ê³ ë§í¬</a></li>\n<li><a href=\"https://yjksw.github.io/jpa-query-bug/#%ED%95%B4%EA%B2%B0%EB%B0%A9%EB%B2%95-batchsize-%EC%A0%81%EC%9A%A9%ED%95%98%EA%B8%B0\">í•´ê²°ë¶€ë¶„</a></li>\n</ul>\n</li>\n<li>í”„ë¡œì íŠ¸ë¥¼ ì „ë°˜ì ìœ¼ë¡œ ì²´í¬í•˜ë˜ ì™€ì¤‘ì— ìœ„ ì„¤ì •ì— ì˜í•œ in queryê°€ ì‹¤í–‰ë˜ì§€ ì•Šê³  ì—¬ì „íˆ N+1 ë¬¸ì œê°€ ë°œìƒí•˜ëŠ” ë¶€ë¶„ì„ ë°œê²¬í•˜ì˜€ë‹¤. </li>\n<li>í•´ë‹¹ í˜„ìƒì„ ê³µìœ í•˜ê¸° ìœ„í•´ ê¸€ì„ ì‘ì„±í•œë‹¤. (ì—¬ì „íˆ ì´ìœ ëŠ” ëª» ì°¾ì•˜ë‹¤ ğŸ˜¢)</li>\n</ul>\n<br>\n<h2 id=\"-code-classlanguage-texthiberbatedefault_batch_fetch_sizecode\" style=\"position:relative;\"><a href=\"#-code-classlanguage-texthiberbatedefault_batch_fetch_sizecode\" aria-label=\" code classlanguage texthiberbatedefault_batch_fetch_sizecode permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ğŸŒ© <code class=\"language-text\">hiberbate.default_batch_fetch_size</code></h2>\n<p>ìš°ì„  ê°„ë‹¨í•˜ê²Œ ìœ„ ì„¤ì •ì— ëŒ€í•´ì„œ ì§šê³  ë„˜ì–´ê°€ë³´ì.</p>\n<ul>\n<li>\n<p>ì„¤ì •í•  ìˆ˜ ìˆëŠ” ë°©ë²•ì€ ë‘ ê°€ì§€ ì´ë‹¤. </p>\n<ul>\n<li>\n<p><code class=\"language-text\">@BatchSize(size={sizeNum})</code> ì–´ë…¸í…Œì´ì…˜ í™œìš© </p>\n<ul>\n<li>í´ë˜ìŠ¤, ë©”ì†Œë“œ, í•„ë“œ ë ˆë²¨ì—ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. </li>\n<li>í•´ë‹¹ ì‚¬ì´ì¦ˆ ë§Œí¼ì˜ ìƒìœ„ ì—”í‹°í‹° idê°€ in queryë¡œ ë‚˜ê°„ë‹¤. </li>\n</ul>\n</li>\n<li>\n<p><code class=\"language-text\">spring.jpa.properties.hibernate.default_batch_fetch_size={batchSize}</code>ë¥¼ application.propertiesì— ì§€ì •</p>\n<ul>\n<li>ì „ì—­ì ìœ¼ë¡œ ì ìš©ì´ ë˜ì–´ì„œ ìƒìœ„ ì—”í‹°í‹°ì˜ lazy loadingëœ í•˜ìœ„ ì—”í‹°í‹°ë¥¼ í•œêº¼ë²ˆì— in queryë¡œ ë¡œë”©í•œë‹¤. </li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<br>\n<ul>\n<li>\n<p>Hibernate javadocs ê³µì‹ ë¬¸ì„œì— ë‹¤ìŒê³¼ ê°™ì´ ì„œìˆ í•œë‹¤. </p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token class-name\">Defines</span> size <span class=\"token keyword\">for</span> batch loading of collections or lazy <span class=\"token class-name\"><span class=\"token namespace\">entities<span class=\"token punctuation\">.</span></span> For</span> example<span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>\n    <span class=\"token annotation punctuation\">@Entity</span>\n    <span class=\"token annotation punctuation\">@BatchSize</span><span class=\"token punctuation\">(</span>size<span class=\"token operator\">=</span><span class=\"token number\">100</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">class</span> <span class=\"token class-name\">Product</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>\n    <span class=\"token punctuation\">}</span>\n\nwill initialize up <span class=\"token keyword\">to</span> <span class=\"token number\">100</span> lazy <span class=\"token class-name\">Product</span> entity proxies at a time<span class=\"token punctuation\">.</span>\n        <span class=\"token annotation punctuation\">@OneToMany</span>\n        <span class=\"token annotation punctuation\">@BatchSize</span><span class=\"token punctuation\">(</span>size <span class=\"token operator\">=</span> <span class=\"token number\">5</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">/</span>\n        <span class=\"token class-name\">Set</span> <span class=\"token function\">getProducts</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\nwill initialize up <span class=\"token keyword\">to</span> <span class=\"token number\">5</span> lazy collections of products at a time</code></pre></div>\n<ul>\n<li>ì¦‰, ì†í•œ collectionì´ë‚˜ lazy entities ë“¤ì„ í•œêº¼ë²ˆì— batchë¡œ ë¡œë”©í•´ì¤€ë‹¤. </li>\n<li>Batchë¡œ ë¡œë”©í•  ê²½ìš° í•˜ë‚˜ì˜ ì¿¼ë¦¬ë¡œ ì—°ê´€ ì—”í‹°í‹°ë¥¼ í•œêº¼ë²ˆì— ê°€ì§€ê³  ì˜¬ ìˆ˜ ìˆì–´ì„œ ì„±ëŠ¥ì´ í–¥ìƒëœë‹¤. </li>\n</ul>\n</li>\n</ul>\n<br>\n<ul>\n<li>\n<p>ë‹¤ìŒ <a href=\"https://docs.jboss.org/hibernate/orm/4.3/manual/en-US/html/ch05.html\">Hibernate Document</a>ë¥¼ í™•ì¸í•´ë³´ì.</p>\n<blockquote>\n<p>@BatchSize specifies a â€œbatch sizeâ€ for fetching instances of this class by identifier. Not yet loaded instances are loaded batch-size at a time (default 1).</p>\n</blockquote>\n<ul>\n<li><em>not yet loaded instance</em>ë¥¼ batchë¡œ ë¡œë”©í•  ìˆ˜ ìˆëŠ” ì„¤ì •ì´ë¼ê³  í•œë‹¤. </li>\n</ul>\n</li>\n</ul>\n<br>\n<h2 id=\"-ë³¸-í”„ë¡œì íŠ¸-ë¬¸ì œ-ìƒí™©\" style=\"position:relative;\"><a href=\"#-%EB%B3%B8-%ED%94%84%EB%A1%9C%EC%A0%9D%ED%8A%B8-%EB%AC%B8%EC%A0%9C-%EC%83%81%ED%99%A9\" aria-label=\" ë³¸ í”„ë¡œì íŠ¸ ë¬¸ì œ ìƒí™© permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ğŸŒ© ë³¸ í”„ë¡œì íŠ¸ ë¬¸ì œ ìƒí™©</h2>\n<h3 id=\"entity-êµ¬ì¡°\" style=\"position:relative;\"><a href=\"#entity-%EA%B5%AC%EC%A1%B0\" aria-label=\"entity êµ¬ì¡° permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Entity êµ¬ì¡°</h3>\n<ul>\n<li>ë‹¤ì†Œ ë³µì¡í•˜ì§€ë§Œ ìš°ë¦¬ í”„ë¡œì íŠ¸ì—ì„œì˜ ìƒí™©ì„ ì‚´í´ë³´ì. </li>\n<li>\n<p>ì¡°ê¸ˆ ì´í•´í•˜ê¸° ì‰½ê²Œ í”„ë¡œì íŠ¸ì˜ ì¼ë¶€ ì—”í‹°í‹° ê´€ê³„ë¥¼ ê·¸ë¦¼ìœ¼ë¡œ í‘œí˜„í•´ ë³´ì•˜ë‹¤. </p>\n<p align=\"center\"><img width=\"35%\" src=\"https://user-images.githubusercontent.com/63405904/138268405-8ada5b7b-278a-4c6f-971c-9fddc4e5c44f.png\"></p>\n<ul>\n<li>ì‚¬ìš©ìëŠ” í¬íŠ¸í´ë¦¬ì˜¤ë¥¼ ë§Œë“¤ê³  ë³¸ì¸ì´ ì§„í–‰í•œ ì—¬ëŸ¬ í”„ë¡œì íŠ¸ë“¤ì„ í¬í•¨ì‹œí‚¬ ìˆ˜ ìˆë‹¤.</li>\n<li>ê° í”„ë¡œì íŠ¸ë§ˆë‹¤ í”„ë¡œì íŠ¸ë¥¼ ë‚˜íƒ€ë‚´ëŠ” íƒœê·¸ë¥¼ ì—¬ëŸ¬ê°œ ì¶”ê°€í•  ìˆ˜ ìˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´ Java, Web ë“±ë“±ì˜ íƒœê·¸ë¡œ í‚¤ì›Œë“œë¥¼ ë‚˜ì—´í•  ìˆ˜ ìˆë‹¤.</li>\n<li>í”„ë¡œì íŠ¸ì™€ íƒœê·¸ëŠ” ë‹¤ëŒ€ë‹¤ ê´€ê³„ì´ê¸° ë•Œë¬¸ì— ì¤‘ê°„ í…Œì´ë¸”ì¸ ProjectTagë¡œ ì—°ê²°ë˜ì–´ ìˆë‹¤. </li>\n<li>ProjectTagëŠ” í”„ë¡œì íŠ¸ idì™€ íƒœê·¸ idë¥¼ ê°€ì§€ê³  ìˆë‹¤. </li>\n</ul>\n</li>\n</ul>\n<br>\n<ul>\n<li>\n<p>ì½”ë“œê°€ ë” í¸í•œ ì‚¬ëŒë“¤ì„ ìœ„í•´ Entityë¥¼ ì¶”ê°€í•´ë³¸ë‹¤. í¸ì˜ë¥¼ ìœ„í•´ getter, ìƒì„±ì, ë‹¤ë¥¸ ë©”ì†Œë“œì™€ ê´€ë ¨ ì—†ëŠ” í•„ë“œë“¤ì€ ìƒëµí•œë‹¤.</p>\n<ol>\n<li>\n<p>Portfolio.java</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@Entity</span>\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">Portfolio</span> <span class=\"token punctuation\">{</span>\n\n    <span class=\"token annotation punctuation\">@Id</span>\n    <span class=\"token annotation punctuation\">@GeneratedValue</span><span class=\"token punctuation\">(</span>strategy <span class=\"token operator\">=</span> <span class=\"token class-name\">GenerationType</span><span class=\"token punctuation\">.</span>IDENTITY<span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">private</span> <span class=\"token class-name\">Long</span> id<span class=\"token punctuation\">;</span>\n\n    <span class=\"token comment\">// ë‹¤ë¥¸ í•„ë“œ ìƒëµ </span>\n\n    <span class=\"token annotation punctuation\">@OneToMany</span><span class=\"token punctuation\">(</span>\n    mappedBy <span class=\"token operator\">=</span> <span class=\"token string\">\"portfolio\"</span><span class=\"token punctuation\">,</span>\n    fetch <span class=\"token operator\">=</span> <span class=\"token class-name\">FetchType</span><span class=\"token punctuation\">.</span>LAZY<span class=\"token punctuation\">,</span>\n    cascade <span class=\"token operator\">=</span> <span class=\"token class-name\">CascadeType</span><span class=\"token punctuation\">.</span>PERSIST<span class=\"token punctuation\">,</span>\n    orphanRemoval <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span>\n    <span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">final</span> <span class=\"token class-name\">List</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Project</span><span class=\"token punctuation\">></span></span> projects<span class=\"token punctuation\">;</span></code></pre></div>\n</li>\n<li>\n<p>Project.java</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@Entity</span>\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">Project</span> <span class=\"token punctuation\">{</span>\n\n    <span class=\"token annotation punctuation\">@Id</span> <span class=\"token annotation punctuation\">@GeneratedValue</span><span class=\"token punctuation\">(</span>strategy <span class=\"token operator\">=</span> <span class=\"token class-name\">GenerationType</span><span class=\"token punctuation\">.</span>IDENTITY<span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">private</span> <span class=\"token class-name\">Long</span> id<span class=\"token punctuation\">;</span>\n\n    <span class=\"token comment\">// ë‹¤ë¥¸ í•„ë“œ ìƒëµ </span>\n\n    <span class=\"token annotation punctuation\">@OneToMany</span><span class=\"token punctuation\">(</span>\n        mappedBy <span class=\"token operator\">=</span> <span class=\"token string\">\"project\"</span><span class=\"token punctuation\">,</span>\n        fetch <span class=\"token operator\">=</span> <span class=\"token class-name\">FetchType</span><span class=\"token punctuation\">.</span>LAZY<span class=\"token punctuation\">,</span>\n        cascade <span class=\"token operator\">=</span> <span class=\"token class-name\">CascadeType</span><span class=\"token punctuation\">.</span>PERSIST<span class=\"token punctuation\">,</span>\n        orphanRemoval <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span>\n    <span class=\"token punctuation\">)</span>\n\n    <span class=\"token keyword\">private</span> <span class=\"token class-name\">List</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">ProjectTag</span><span class=\"token punctuation\">></span></span> tags<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n</li>\n<li>\n<p>ProjectTag.java</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@Entity</span>\n<span class=\"token annotation punctuation\">@Table</span><span class=\"token punctuation\">(</span>\n    uniqueConstraints <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token annotation punctuation\">@UniqueConstraint</span><span class=\"token punctuation\">(</span>columnNames <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span><span class=\"token string\">\"tag_id\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"project_id\"</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">ProjectTag</span> <span class=\"token punctuation\">{</span>\n\n    <span class=\"token annotation punctuation\">@Id</span> <span class=\"token annotation punctuation\">@GeneratedValue</span><span class=\"token punctuation\">(</span>strategy <span class=\"token operator\">=</span> <span class=\"token class-name\">GenerationType</span><span class=\"token punctuation\">.</span>IDENTITY<span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">private</span> <span class=\"token class-name\">Long</span> id<span class=\"token punctuation\">;</span>\n\n    <span class=\"token annotation punctuation\">@ManyToOne</span><span class=\"token punctuation\">(</span>fetch <span class=\"token operator\">=</span> <span class=\"token class-name\">FetchType</span><span class=\"token punctuation\">.</span>LAZY<span class=\"token punctuation\">)</span>\n    <span class=\"token annotation punctuation\">@JoinColumn</span><span class=\"token punctuation\">(</span>name <span class=\"token operator\">=</span> <span class=\"token string\">\"tag_id\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">private</span> <span class=\"token class-name\">Tag</span> tag<span class=\"token punctuation\">;</span>\n\n    <span class=\"token annotation punctuation\">@ManyToOne</span><span class=\"token punctuation\">(</span>fetch <span class=\"token operator\">=</span> <span class=\"token class-name\">FetchType</span><span class=\"token punctuation\">.</span>LAZY<span class=\"token punctuation\">)</span>\n    <span class=\"token annotation punctuation\">@JoinColumn</span><span class=\"token punctuation\">(</span>name <span class=\"token operator\">=</span> <span class=\"token string\">\"project_id\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">private</span> <span class=\"token class-name\">Project</span> project<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n</li>\n<li>\n<p>Tag.java</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@Entity</span>\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">Tag</span> <span class=\"token punctuation\">{</span>\n\n    <span class=\"token annotation punctuation\">@Id</span>\n    <span class=\"token annotation punctuation\">@GeneratedValue</span><span class=\"token punctuation\">(</span>strategy <span class=\"token operator\">=</span> <span class=\"token class-name\">GenerationType</span><span class=\"token punctuation\">.</span>IDENTITY<span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">private</span> <span class=\"token class-name\">Long</span> id<span class=\"token punctuation\">;</span>\n\n    <span class=\"token annotation punctuation\">@Column</span><span class=\"token punctuation\">(</span>nullable <span class=\"token operator\">=</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span> unique <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span> length <span class=\"token operator\">=</span> MAX_TAG_LENGTH<span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">private</span> <span class=\"token class-name\">String</span> name<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n</li>\n</ol>\n</li>\n</ul>\n<br>\n<h3 id=\"ë¬¸ì œìƒí™©\" style=\"position:relative;\"><a href=\"#%EB%AC%B8%EC%A0%9C%EC%83%81%ED%99%A9\" aria-label=\"ë¬¸ì œìƒí™© permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ë¬¸ì œìƒí™©</h3>\n<ul>\n<li>\n<p>ë™ì¼í•œ Assembler(ê°™ì€ ì½”ë“œ)ë¡œ ì‘ë‹µ DTOë¥¼ ë§Œë“¤ë•Œ í¬íŠ¸í´ë¦¬ì˜¤ë¥¼ ì¡°íšŒí•  ë•ŒëŠ” in ì¿¼ë¦¬ë¡œ ë‚˜ê°€ê³ , í¬íŠ¸í´ë¦¬ì˜¤ë¥¼ ì—…ë°ì´íŠ¸ í•  ë•ŒëŠ” n+1 ì¿¼ë¦¬ê°€ ë‚˜ê°„ë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@Transactional</span><span class=\"token punctuation\">(</span>readOnly <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">public</span> <span class=\"token class-name\">PortfolioResponseDto</span> <span class=\"token function\">read</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span> username<span class=\"token punctuation\">,</span> <span class=\"token class-name\">UserDto</span> userDto<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token class-name\">Optional</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Portfolio</span><span class=\"token punctuation\">></span></span> portfolio <span class=\"token operator\">=</span> portfolioRepository<span class=\"token punctuation\">.</span><span class=\"token function\">findPortfolioByUsername</span><span class=\"token punctuation\">(</span>username<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>userDto<span class=\"token punctuation\">.</span><span class=\"token function\">isGuest</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">&amp;&amp;</span> portfolio<span class=\"token punctuation\">.</span><span class=\"token function\">isEmpty</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">throw</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">NoSuchPortfolioException</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">return</span> portfolioDtoAssembler<span class=\"token punctuation\">.</span><span class=\"token function\">toPortfolioResponseDto</span><span class=\"token punctuation\">(</span>\n        portfolio<span class=\"token punctuation\">.</span><span class=\"token function\">orElseGet</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">-></span> portfolioRepository<span class=\"token punctuation\">.</span><span class=\"token function\">save</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Portfolio</span><span class=\"token punctuation\">.</span><span class=\"token function\">empty</span><span class=\"token punctuation\">(</span><span class=\"token function\">getUser</span><span class=\"token punctuation\">(</span>username<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// default_batch_fetch_sizeë¡œ ì¸í•œ In ì¿¼ë¦¬ ìˆ˜í–‰ </span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token annotation punctuation\">@Transactional</span>\n<span class=\"token keyword\">public</span> <span class=\"token class-name\">PortfolioResponseDto</span> <span class=\"token function\">update</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">PortfolioRequestDto</span> portfolioRequestDto<span class=\"token punctuation\">,</span> <span class=\"token class-name\">UserDto</span> userDto<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token class-name\">Portfolio</span> portfolio <span class=\"token operator\">=</span> portfolioRepository<span class=\"token punctuation\">.</span><span class=\"token function\">findById</span><span class=\"token punctuation\">(</span>portfolioRequestDto<span class=\"token punctuation\">.</span><span class=\"token function\">getId</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">.</span><span class=\"token function\">orElseThrow</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">NoSuchPortfolioException</span><span class=\"token operator\">::</span><span class=\"token keyword\">new</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token class-name\">User</span> user <span class=\"token operator\">=</span> <span class=\"token function\">getUser</span><span class=\"token punctuation\">(</span>userDto<span class=\"token punctuation\">.</span><span class=\"token function\">getUsername</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>portfolio<span class=\"token punctuation\">.</span><span class=\"token function\">isOwnedBy</span><span class=\"token punctuation\">(</span>user<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">throw</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">UnauthorizedException</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n    portfolio<span class=\"token punctuation\">.</span><span class=\"token function\">update</span><span class=\"token punctuation\">(</span>portfolioDtoAssembler<span class=\"token punctuation\">.</span><span class=\"token function\">toPortfolio</span><span class=\"token punctuation\">(</span>portfolioRequestDto<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    entityManager<span class=\"token punctuation\">.</span><span class=\"token function\">flush</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">return</span> portfolioDtoAssembler<span class=\"token punctuation\">.</span><span class=\"token function\">toPortfolioResponseDto</span><span class=\"token punctuation\">(</span>portfolio<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">//Tagë¥¼ lazy loading í• ë•Œ n+1 ì¿¼ë¦¬ ë°œìƒ</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<ul>\n<li><a href=\"https://github.com/woowacourse-teams/2021-pick-git/blob/develop/backend/pick-git/src/main/java/com/woowacourse/pickgit/portfolio/application/PortfolioService.java\">ì „ì²´ ì½”ë“œë³´ê¸°</a></li>\n</ul>\n</li>\n</ul>\n<br>\n<ul>\n<li>\n<p>ì¿¼ë¦¬ ê²°ê³¼ </p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token comment\">// read ë©”ì†Œë“œ ì‹¤í–‰ ì‹œ </span>\n<span class=\"token class-name\">Hibernate</span><span class=\"token operator\">:</span> \nselect\n    tag0_<span class=\"token punctuation\">.</span>id as id1_13_0_<span class=\"token punctuation\">,</span>\n    tag0_<span class=\"token punctuation\">.</span>name as name2_13_0_ \nfrom\n    tag tag0_ \nwhere\n    tag0_<span class=\"token punctuation\">.</span>id in <span class=\"token punctuation\">(</span>\n        <span class=\"token operator\">?</span><span class=\"token punctuation\">,</span> <span class=\"token operator\">?</span>\n    <span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\">// update ë©”ì†Œë“œ ì‹¤í–‰ ì‹œ </span>\n<span class=\"token class-name\">Hibernate</span><span class=\"token operator\">:</span> \nselect\n    tag0_<span class=\"token punctuation\">.</span>id as id1_13_0_<span class=\"token punctuation\">,</span>\n    tag0_<span class=\"token punctuation\">.</span>name as name2_13_0_ \nfrom\n    tag tag0_ \nwhere\n    tag0_<span class=\"token punctuation\">.</span>id<span class=\"token operator\">=</span><span class=\"token operator\">?</span>\n<span class=\"token class-name\">Hibernate</span><span class=\"token operator\">:</span> \n    select\n        tag0_<span class=\"token punctuation\">.</span>id as id1_13_0_<span class=\"token punctuation\">,</span>\n        tag0_<span class=\"token punctuation\">.</span>name as name2_13_0_ \n    from\n        tag tag0_ \n    where\n        tag0_<span class=\"token punctuation\">.</span>id<span class=\"token operator\">=</span><span class=\"token operator\">?</span></code></pre></div>\n</li>\n</ul>\n<br>\n<ul>\n<li>\n<p>ìœ„ ì¿¼ë¦¬ê°€ ìˆ˜í–‰ë˜ëŠ” <code class=\"language-text\">Portfolio -> PortfolioResponseDto</code> ë¡œ ë³€í™˜ì‹œí‚¤ëŠ” assemblerì˜ ì½”ë“œëŠ” ë‹¤ìŒê³¼ ê°™ë‹¤. </p>\n<ul>\n<li>í•„ë“œê°€ ë§ì•„ì„œ ë‹¹í™©ìŠ¤ëŸ½ê² ì§€ë§Œ Project ë¶€ë¶„ë§Œ ë³´ê³  ê°ë§Œ ì¡ìœ¼ë©´ ëœë‹¤. (* í‘œì‹œí•´ë‘” ê³³)</li>\n<li>ê°„ë‹¨íˆ ë§í•˜ë©´ getì„ í†µí•´ lazy loading í•˜ìœ„ ì—”í‹°í‹°ì˜ ê°’ì„ ê°€ì ¸ì˜¨ë‹¤. </li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token keyword\">public</span> <span class=\"token class-name\">PortfolioResponseDto</span> <span class=\"token function\">toPortfolioResponseDto</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Portfolio</span> portfolio<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">PortfolioResponseDto</span><span class=\"token punctuation\">(</span>\n        portfolio<span class=\"token punctuation\">.</span><span class=\"token function\">getId</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n        portfolio<span class=\"token punctuation\">.</span><span class=\"token function\">getName</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n        portfolio<span class=\"token punctuation\">.</span><span class=\"token function\">isProfileImageShown</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n        portfolio<span class=\"token punctuation\">.</span><span class=\"token function\">getProfileImageUrl</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n        portfolio<span class=\"token punctuation\">.</span><span class=\"token function\">getIntroduction</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n        portfolio<span class=\"token punctuation\">.</span><span class=\"token function\">getCreatedAt</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n        portfolio<span class=\"token punctuation\">.</span><span class=\"token function\">getUpdatedAt</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n        <span class=\"token function\">toContactResponsesDto</span><span class=\"token punctuation\">(</span>portfolio<span class=\"token punctuation\">.</span><span class=\"token function\">getContacts</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n        <span class=\"token function\">toProjectResponsesDto</span><span class=\"token punctuation\">(</span>portfolio<span class=\"token punctuation\">.</span><span class=\"token function\">getProjects</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>  <span class=\"token comment\">// *</span>\n        <span class=\"token function\">toSectionResponsesDto</span><span class=\"token punctuation\">(</span>portfolio<span class=\"token punctuation\">.</span><span class=\"token function\">getSections</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">private</span> <span class=\"token class-name\">List</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">ProjectResponseDto</span><span class=\"token punctuation\">></span></span> <span class=\"token function\">toProjectResponsesDto</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Projects</span> projects<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> <span class=\"token comment\">// *</span>\n    <span class=\"token keyword\">return</span> projects<span class=\"token punctuation\">.</span><span class=\"token function\">getValues</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">stream</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token operator\">::</span><span class=\"token function\">toProjectResponseDto</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">.</span><span class=\"token function\">collect</span><span class=\"token punctuation\">(</span><span class=\"token function\">toList</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">private</span> <span class=\"token class-name\">ProjectResponseDto</span> <span class=\"token function\">toProjectResponseDto</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Project</span> project<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> \n    <span class=\"token class-name\">List</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">TagResponseDto</span><span class=\"token punctuation\">></span></span> tags <span class=\"token operator\">=</span> project<span class=\"token punctuation\">.</span><span class=\"token function\">getTags</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">stream</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token operator\">::</span><span class=\"token function\">toTagResponseDto</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">// *</span>\n        <span class=\"token punctuation\">.</span><span class=\"token function\">collect</span><span class=\"token punctuation\">(</span><span class=\"token function\">toList</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">return</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">ProjectResponseDto</span><span class=\"token punctuation\">(</span>\n        project<span class=\"token punctuation\">.</span><span class=\"token function\">getId</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n        project<span class=\"token punctuation\">.</span><span class=\"token function\">getName</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n        project<span class=\"token punctuation\">.</span><span class=\"token function\">getStartDate</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n        project<span class=\"token punctuation\">.</span><span class=\"token function\">getEndDate</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n        project<span class=\"token punctuation\">.</span><span class=\"token function\">getType</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">getValue</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n        project<span class=\"token punctuation\">.</span><span class=\"token function\">getImageUrl</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n        project<span class=\"token punctuation\">.</span><span class=\"token function\">getContent</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n        tags\n    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">private</span> <span class=\"token class-name\">TagResponseDto</span> <span class=\"token function\">toTagResponseDto</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">ProjectTag</span> tag<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> <span class=\"token comment\">// *</span>\n    <span class=\"token keyword\">return</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">TagResponseDto</span><span class=\"token punctuation\">(</span>\n        tag<span class=\"token punctuation\">.</span><span class=\"token function\">getTagId</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n        tag<span class=\"token punctuation\">.</span><span class=\"token function\">getTagName</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n</li>\n</ul>\n<br>\n<h2 id=\"-ì´ìƒí˜„ìƒ-ë“¤ì—¬ë‹¤ë³´ê¸°\" style=\"position:relative;\"><a href=\"#-%EC%9D%B4%EC%83%81%ED%98%84%EC%83%81-%EB%93%A4%EC%97%AC%EB%8B%A4%EB%B3%B4%EA%B8%B0\" aria-label=\" ì´ìƒí˜„ìƒ ë“¤ì—¬ë‹¤ë³´ê¸° permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ğŸŒ© ì´ìƒí˜„ìƒ ë“¤ì—¬ë‹¤ë³´ê¸°</h2>\n<ul>\n<li>í”„ë¡œì íŠ¸ ì½”ë“œë¡œ ë“¤ì—¬ë‹¤ë³´ê¸°ëŠ” ë³µì¡í•˜ì—¬ íŒŒì•…í•˜ê¸° ì–´ë ¤ì›€ìœ¼ë¡œ ë™ì¼í•œ ìƒí™©ì„ ê°„ë‹¨í•œ í…ŒìŠ¤íŠ¸ì½”ë“œë¡œ ì¬í˜„í•´ë³´ì•˜ë‹¤. </li>\n</ul>\n<h3 id=\"entity-êµ¬ì¡°-1\" style=\"position:relative;\"><a href=\"#entity-%EA%B5%AC%EC%A1%B0-1\" aria-label=\"entity êµ¬ì¡° 1 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Entity êµ¬ì¡°</h3>\n<ol>\n<li>\n<p>Member.java</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@Entity</span>\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">Member</span> <span class=\"token punctuation\">{</span>\n\n    <span class=\"token annotation punctuation\">@Id</span> <span class=\"token annotation punctuation\">@GeneratedValue</span><span class=\"token punctuation\">(</span>strategy <span class=\"token operator\">=</span> <span class=\"token class-name\">GenerationType</span><span class=\"token punctuation\">.</span>IDENTITY<span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">private</span> <span class=\"token class-name\">Long</span> id<span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">private</span> <span class=\"token class-name\">String</span> name<span class=\"token punctuation\">;</span>\n\n    <span class=\"token annotation punctuation\">@ManyToOne</span><span class=\"token punctuation\">(</span>fetch <span class=\"token operator\">=</span> <span class=\"token class-name\">FetchType</span><span class=\"token punctuation\">.</span>LAZY<span class=\"token punctuation\">)</span>\n    <span class=\"token annotation punctuation\">@JoinColumn</span><span class=\"token punctuation\">(</span>name <span class=\"token operator\">=</span> <span class=\"token string\">\"team_id\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">private</span> <span class=\"token class-name\">Team</span> team<span class=\"token punctuation\">;</span>\n\n    <span class=\"token comment\">// getter ë° ìƒì„±ì ìƒëµ</span>\n<span class=\"token punctuation\">}</span> </code></pre></div>\n</li>\n<li>\n<p>Team.java</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@Entity</span>\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">Team</span> <span class=\"token punctuation\">{</span>\n\n    <span class=\"token annotation punctuation\">@Id</span> <span class=\"token annotation punctuation\">@GeneratedValue</span><span class=\"token punctuation\">(</span>strategy <span class=\"token operator\">=</span> <span class=\"token class-name\">GenerationType</span><span class=\"token punctuation\">.</span>IDENTITY<span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">private</span> <span class=\"token class-name\">Long</span> id<span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">private</span> <span class=\"token class-name\">String</span> name<span class=\"token punctuation\">;</span>\n\n    <span class=\"token comment\">// getter ë° ìƒì„±ì ìƒëµ</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n</li>\n</ol>\n<br>\n<h3 id=\"ìƒí™©-ì¬í˜„\" style=\"position:relative;\"><a href=\"#%EC%83%81%ED%99%A9-%EC%9E%AC%ED%98%84\" aria-label=\"ìƒí™© ì¬í˜„ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ìƒí™© ì¬í˜„</h3>\n<ul>\n<li>\n<p>ë¨¼ì € application.propertiesì— ë‹¤ìŒ ì„¤ì •ì„ í•´ì£¼ì—ˆë‹¤. </p>\n<div class=\"gatsby-highlight\" data-language=\"properties\"><pre class=\"language-properties\"><code class=\"language-properties\"><span class=\"token attr-name\">spring.jpa.properties.hibernate.default_batch_fetch_size</span><span class=\"token punctuation\">=</span><span class=\"token attr-value\">10</span></code></pre></div>\n</li>\n<li>\n<p>ë‹¤ìŒì€ In ì¿¼ë¦¬ê°€ ì •ìƒë™ì‘í•˜ëŠ” í…ŒìŠ¤íŠ¸ì½”ë“œë‹¤. </p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@DisplayName</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Member ë¦¬ìŠ¤íŠ¸ ì¡°íšŒ ì‹œ Teamì„ lazy loading í•  ë•Œ in ì¿¼ë¦¬ Teamì´ í•œêº¼ë²ˆì— ì¡°íšŒëœë‹¤.\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token annotation punctuation\">@Test</span>\n<span class=\"token keyword\">void</span> <span class=\"token function\">team_inquery_working</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\n    <span class=\"token comment\">// given</span>\n    <span class=\"token class-name\">Team</span> teamA <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Team</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"TeamA\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token class-name\">Team</span> teamB <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Team</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"TeamB\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    teamRepository<span class=\"token punctuation\">.</span><span class=\"token function\">save</span><span class=\"token punctuation\">(</span>teamA<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    teamRepository<span class=\"token punctuation\">.</span><span class=\"token function\">save</span><span class=\"token punctuation\">(</span>teamB<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    testEntityManager<span class=\"token punctuation\">.</span><span class=\"token function\">flush</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    testEntityManager<span class=\"token punctuation\">.</span><span class=\"token function\">clear</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token class-name\">Member</span> member1 <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Member</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"member1\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token class-name\">Member</span> member2 <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Member</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"member2\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    member1<span class=\"token punctuation\">.</span><span class=\"token function\">setTeam</span><span class=\"token punctuation\">(</span>teamA<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    member2<span class=\"token punctuation\">.</span><span class=\"token function\">setTeam</span><span class=\"token punctuation\">(</span>teamB<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    memberRepository<span class=\"token punctuation\">.</span><span class=\"token function\">save</span><span class=\"token punctuation\">(</span>member1<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    memberRepository<span class=\"token punctuation\">.</span><span class=\"token function\">save</span><span class=\"token punctuation\">(</span>member2<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    testEntityManager<span class=\"token punctuation\">.</span><span class=\"token function\">flush</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    testEntityManager<span class=\"token punctuation\">.</span><span class=\"token function\">clear</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token comment\">// when</span>\n    <span class=\"token class-name\">List</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Member</span><span class=\"token punctuation\">></span></span> members <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">ArrayList</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    members<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span>memberRepository<span class=\"token punctuation\">.</span><span class=\"token function\">findById</span><span class=\"token punctuation\">(</span><span class=\"token number\">1L</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// Member ë¥¼ ì¡°íšŒí•˜ëŠ” ì¿¼ë¦¬ê°€ ìƒì„±ëœë‹¤.</span>\n    members<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span>memberRepository<span class=\"token punctuation\">.</span><span class=\"token function\">findById</span><span class=\"token punctuation\">(</span><span class=\"token number\">2L</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token class-name\">List</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">></span></span> teamNames <span class=\"token operator\">=</span> members<span class=\"token punctuation\">.</span><span class=\"token function\">stream</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span>member <span class=\"token operator\">-></span> member<span class=\"token punctuation\">.</span><span class=\"token function\">getTeam</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">getName</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">.</span><span class=\"token function\">collect</span><span class=\"token punctuation\">(</span><span class=\"token function\">toList</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// Team ì„ ì¡°íšŒí•˜ëŠ” ì¿¼ë¦¬ê°€ in ì¿¼ë¦¬ë¡œ ìˆ˜í–‰ëœë‹¤.</span>\n\n    <span class=\"token comment\">// then</span>\n    <span class=\"token function\">assertThat</span><span class=\"token punctuation\">(</span>teamNames<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">hasSize</span><span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p><strong>[ì‹¤í–‰ Query]</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">Hibernate: \nselect\n    team0_.id as id1_1_0_,\n    team0_.name as name2_1_0_ \nfrom\n    team team0_ \nwhere\n    team0_.id in (\n        ?, ?\n    )</code></pre></div>\n</li>\n</ul>\n<br>\n<ul>\n<li>\n<p>ë‹¤ìŒì€ í”„ë¡œì íŠ¸ ìƒí™©ì€ ë™ì¼í•˜ê²Œ ì¬í˜„í•œ in ì¿¼ë¦¬ê°€ ìˆ˜í–‰ë˜ì§€ ì•ŠëŠ” í…ŒìŠ¤íŠ¸ì½”ë“œë‹¤. </p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@DisplayName</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Teamì„ initialize í•  ë•Œ in ì¿¼ë¦¬ê°€ ìˆ˜í–‰ë˜ì§€ ì•ŠëŠ”ë‹¤.\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token annotation punctuation\">@Test</span>\n<span class=\"token keyword\">void</span> <span class=\"token function\">team_inquery_notWorking</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\n    <span class=\"token class-name\">EntityManager</span> em <span class=\"token operator\">=</span> testEntityManager<span class=\"token punctuation\">.</span><span class=\"token function\">getEntityManager</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token comment\">// given</span>\n    <span class=\"token class-name\">Team</span> savedTeamA <span class=\"token operator\">=</span> teamRepository<span class=\"token punctuation\">.</span><span class=\"token function\">save</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">new</span> <span class=\"token class-name\">Team</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"TeamA\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token class-name\">Team</span> savedTeamB <span class=\"token operator\">=</span> teamRepository<span class=\"token punctuation\">.</span><span class=\"token function\">save</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">new</span> <span class=\"token class-name\">Team</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"TeamB\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    testEntityManager<span class=\"token punctuation\">.</span><span class=\"token function\">flush</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    testEntityManager<span class=\"token punctuation\">.</span><span class=\"token function\">clear</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token comment\">// when</span>\n    <span class=\"token class-name\">Member</span> member1 <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Member</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"member1\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token class-name\">Member</span> member2 <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Member</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"member2\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token class-name\">Team</span> teamA <span class=\"token operator\">=</span> em<span class=\"token punctuation\">.</span><span class=\"token function\">getReference</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Team</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">,</span> savedTeamA<span class=\"token punctuation\">.</span><span class=\"token function\">getId</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// Teamì€ í”„ë¡ì‹œ ê°ì²´ë‹¤.</span>\n    <span class=\"token class-name\">Team</span> teamB <span class=\"token operator\">=</span> em<span class=\"token punctuation\">.</span><span class=\"token function\">getReference</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Team</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">,</span> savedTeamB<span class=\"token punctuation\">.</span><span class=\"token function\">getId</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    member1<span class=\"token punctuation\">.</span><span class=\"token function\">setTeam</span><span class=\"token punctuation\">(</span>teamA<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    member2<span class=\"token punctuation\">.</span><span class=\"token function\">setTeam</span><span class=\"token punctuation\">(</span>teamB<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    memberRepository<span class=\"token punctuation\">.</span><span class=\"token function\">save</span><span class=\"token punctuation\">(</span>member1<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    memberRepository<span class=\"token punctuation\">.</span><span class=\"token function\">save</span><span class=\"token punctuation\">(</span>member2<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    testEntityManager<span class=\"token punctuation\">.</span><span class=\"token function\">flush</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token class-name\">List</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Member</span><span class=\"token punctuation\">></span></span> members <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">ArrayList</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    members<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span>memberRepository<span class=\"token punctuation\">.</span><span class=\"token function\">findById</span><span class=\"token punctuation\">(</span><span class=\"token number\">1L</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ì— ìˆëŠ” Memberë¥¼ ë¡œë”©í•œë‹¤.</span>\n    members<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span>memberRepository<span class=\"token punctuation\">.</span><span class=\"token function\">findById</span><span class=\"token punctuation\">(</span><span class=\"token number\">2L</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token class-name\">List</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">></span></span> teamNames <span class=\"token operator\">=</span> members<span class=\"token punctuation\">.</span><span class=\"token function\">stream</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span>member <span class=\"token operator\">-></span> member<span class=\"token punctuation\">.</span><span class=\"token function\">getTeam</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">getName</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">// ê° ë©¤ë²„ì˜ ê°œìˆ˜ë§Œí¼ teamì„ selectí•˜ëŠ” ì¿¼ë¦¬ë¥¼ ì‹¤í–‰í•œë‹¤.</span>\n        <span class=\"token punctuation\">.</span><span class=\"token function\">collect</span><span class=\"token punctuation\">(</span><span class=\"token function\">toList</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token comment\">// then</span>\n    <span class=\"token function\">assertThat</span><span class=\"token punctuation\">(</span>teamNames<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">hasSize</span><span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p><strong>[ì‹¤í–‰ Query]</strong>    </p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">Hibernate: \n    select\n        team0_.id as id1_1_0_,\n        team0_.name as name2_1_0_ \n    from\n        team team0_ \n    where\n        team0_.id=?\n\nHibernate: \n    select\n        team0_.id as id1_1_0_,\n        team0_.name as name2_1_0_ \n    from\n        team team0_ \n    where\n        team0_.id=?</code></pre></div>\n</li>\n<li><code class=\"language-text\">findAll()</code>ë¡œ ì „ì²´ ë©¤ë²„ë¥¼ ì¡°íšŒí•  ìˆ˜ ìˆì§€ë§Œ, ê·¸ë ‡ë‹¤ë©´ ë‘ë²ˆì§¸ í…ŒìŠ¤íŠ¸ì½”ë“œì˜ ê²½ìš° ëª¨ë“  ë©¤ë²„ê°€ ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ì— ìˆìŒì—ë„ ë¶ˆêµ¬í•˜ê³  ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ëŠ” ì „ì²´ ë°ì´í„°ì¸ì§€ ì•Œ ìˆ˜ ì—†ê¸° ë•Œë¬¸ì— Memberë¥¼ ì¡°íšŒí•˜ëŠ” ì¿¼ë¦¬ë¥¼ ë‚ ë¦°ë‹¤. </li>\n<li>ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ì— ì´ë¯¸ ìˆëŠ” ì—”í‹°í‹°ë¥¼ ê°€ì ¸ì˜¨ë‹¤ëŠ” ê²ƒì„ í™•ì¸í•˜ê¸° ìœ„í•´ Memberë¥¼ <code class=\"language-text\">findById()</code>ë¡œ ê°€ì ¸ì™”ë‹¤. </li>\n</ul>\n<br>\n<h2 id=\"-help\" style=\"position:relative;\"><a href=\"#-help\" aria-label=\" help permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ğŸŒ© Help</h2>\n<ul>\n<li><code class=\"language-text\">default_batch_fetch_size</code> ì„¤ì •ì´ ë¨¹íˆì§€ ì•ŠëŠ” ì´ìœ ë¡œ <strong>í•´ë‹¹ ì—”í‹°í‹° (ëŒ€ìƒ ì—”í‹°í‹° í˜¹ì€ ìƒìœ„ ì—”í‹°í‹°)ê°€ ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ì—ì„œ ê´€ë¦¬ë˜ì§€ ì•Šì„ ê²½ìš°</strong>ë¥¼ ìƒê°í•´ë³¼ ìˆ˜ ìˆë‹¤. ìœ„ ê°œë…ì—ì„œ ë‹¤ë£¨ì—ˆë“¯ì´ ì•„ì§ ì´ˆê¸°í™” ë˜ì§€ ì•Šì€ collections í˜¹ì€ lazy productsì— ëŒ€í•´ì„œ í•œêº¼ë²ˆì— ë¡œë”©í•´ì£¼ëŠ” ì—­í• ì„ í•˜ê¸° ë•Œë¬¸ì´ë‹¤. ë§Œì¼ í•˜ìœ„ ì—”í‹°í‹°ê°€ ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ì—ì„œ ê´€ë¦¬ë˜ê³  ìˆì§€ ì•Šë‹¤ë©´ ë¡œë”©í•  í”„ë¡ì‹œ ë˜í•œ ì—†ì„ ê²ƒì´ê³  ìƒìœ„ ì—”í‹°í‹°ê°€ ê´€ë¦¬ë˜ê³  ìˆì§€ ì•Šë‹¤ë©´ ì—°ê´€ê´€ê³„ë¥¼ íŒŒì•…í•  ìˆ˜ ì—†ìœ¼ë¯€ë¡œ in ì¿¼ë¦¬ì— ì¸ìë¡œ ë³´ë‚¼ id ê°’ì´ ì—†ì„ ê²ƒì´ë‹¤. </li>\n<li>\n<p>ìœ„ í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ ë³´ì•˜ì„ ë•Œ ì²«ë²ˆì§¸ì™€ ë‘ë²ˆì§¸ ìƒí™©ì„ ìš”ì•½í•´ë³´ì. </p>\n<ul>\n<li>\n<p>ì²«ë²ˆì§¸ í…ŒìŠ¤íŠ¸ì½”ë“œ - in ì¿¼ë¦¬ ë™ì‘</p>\n<ul>\n<li>Memberê°€ <code class=\"language-text\">findById</code>ë¡œ ì¡°íšŒë˜ê³  Teamì€ í”„ë¡ì‹œ ê°ì²´ì´ë‹¤. (Lazy loading) </li>\n<li>Member ë¦¬ìŠ¤íŠ¸ì˜ íŒ€ ëª©ë¡ì„ ì¡°íšŒí•  ë•Œ Memberì˜ Idê°€ in ì¿¼ë¦¬ë¡œ ë“¤ì–´ê°„ë‹¤. </li>\n</ul>\n</li>\n<li>\n<p>ë‘ë²ˆì§¸ í…ŒìŠ¤íŠ¸ì½”ë“œ - in ì¿¼ë¦¬ ë™ì‘ ì•ˆí•¨ </p>\n<ul>\n<li>Teamì€ ì´ë¯¸ ì¡´ì¬í•œë‹¤.</li>\n<li>ìƒˆë¡œìš´ Memberë¥¼ ìƒì„±í•˜ê³  Teamì„ em.getReferenceë¥¼ í†µí•´ Teamì˜ í”„ë¡ì‹œ ê°ì²´ë¥¼ Memberì˜ Teamì„ ì§€ì •í•œë‹¤. ì´í›„ <code class=\"language-text\">save()</code>ë¥¼ í†µí•´ì„œ Member ì—”í‹°í‹°ë¥¼ ì €ì¥í•˜ê³  flush í•˜ì—¬ ë°ì´í„°ë² ì´ìŠ¤ì— ë°˜ì˜í•œë‹¤.  </li>\n<li><code class=\"language-text\">findAll()</code>ë¥¼ í†µí—¤ ë©¤ë²„ Listë¥¼ ê°€ì ¸ì˜¨ë‹¤. ì´ë•Œ ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ì— ìˆëŠ” Memberê°€ ì¡°íšŒëœë‹¤. </li>\n<li>í•´ë‹¹ Memberì˜ Teamì€ <code class=\"language-text\">getReference()</code>ë¡œ ì¡°íšŒëœ í”„ë¡ì‹œ ê°ì²´ì´ë‹¤. </li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<br>\n<ul>\n<li>\n<p>ë‹¤ìŒê³¼ ê°™ì€ ì´ìœ ë¡œ ë‘ í…ŒìŠ¤íŠ¸ì½”ë“œê°€ ê°™ì€ ìƒí™©ì´ë¼ê³  ìƒê°í•œë‹¤. </p>\n<ul>\n<li>Memberê°€ ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ì— ì‹¤ì œ ì—”í‹°í‹°ë¡œ ê´€ë¦¬ë˜ê³  ìˆë‹¤ëŠ” ê²ƒ. </li>\n<li>Memberì™€ ì—°ê´€ëœ Team ì—”í‹°í‹°ê°€ ëª¨ë‘ í”„ë¡ì‹œ ê°ì²´ì´ë©° ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ì— ìˆë‹¤ëŠ” ê²ƒ. </li>\n<li>\n<p>ì—°ê´€ê´€ê³„ëŠ” ë‘ ê²½ìš° ëª¨ë‘ ì˜ ë§¤í•‘ì´ ë˜ì–´ ìˆë‹¤ëŠ” ê²ƒ. </p>\n<ul>\n<li>ë‘ë²ˆì§¸ í…ŒìŠ¤íŠ¸ì½”ë“œì˜ ë§ˆì§€ë§‰ <code class=\"language-text\">flush()</code> ì´í›„ <code class=\"language-text\">clear()</code>ë¥¼ í†µí•´ ì˜ì†ì„± ì»¨í…ìŠ¤ë¥¼ í•œë²ˆ ì´ˆê¸°í™” í•˜ë©´ in ì¿¼ë¦¬ê°€ ì •ìƒë™ì‘í•œë‹¤. </li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<p>ì‹¤ì œ ì¡°íšŒëœ Member ë¦¬ìŠ¤íŠ¸ì˜ ë‚´ë¶€ë¥¼ ë””ë²„ê¹…í•´ ë“¤ì—¬ë‹¤ ë³´ì•˜ë‹¤. </p>\n<ul>\n<li>\n<p>In queryê°€ ì •ìƒ ë™ì‘í•˜ëŠ” members </p>\n<p align=\"center\"><img width=\"75%\" src=\"https://user-images.githubusercontent.com/63405904/138413600-1ec9f61a-5161-48a0-9919-fdbbcb1f88f7.png\"></p>\n</li>\n<li>\n<p>In queryê°€ ë™ì‘í•˜ì§€ ì•ŠëŠ” members </p>\n<p align=\"center\"><img width=\"75%\" src=\"https://user-images.githubusercontent.com/63405904/138413853-021c8bab-ada8-49f5-9497-bac041da22ce.png\"></p>\n</li>\n</ul>\n</li>\n</ul>\n<br>\n<ul>\n<li>ë””ë²„ê¹…í–ˆì„ ë•Œ ë‘ê°€ì§€ ìƒíƒœê°€ ëª¨ë‘ ë˜‘ê°™ì§€ë§Œ í•˜ë‚˜ëŠ” in ì¿¼ë¦¬ê°€ ë™ì‘í•˜ê³  í•˜ë‚˜ëŠ” ë™ì‘í•˜ì§€ ì•ŠëŠ” ì´ìœ ë¥¼ ê²°êµ­ ëª» ì°¾ì•˜ë‹¤. ğŸ˜¢</li>\n<li>ìš°ì„ ì€ í˜„ìƒë§Œ ê¸°ë¡í•˜ê³  ê³„ì† ì•Œì•„ë³¼ ì˜ˆì •ì´ë‹¤ !! </li>\n<li>í˜¹ì‹œ ì•„ì‹œëŠ” ë¶„ì€ .. ì—°ë½ì£¼ì„¸ìš”.. ê¹ƒí—™ì´ë‚˜ ì´ë©”ì¼, ëŒ“ê¸€ ì•„ë¬´ê±°ë‚˜ í™˜ì˜ !! ğŸ‰</li>\n</ul>\n<br>\n<br>\n<p><strong>[ì°¸ê³ ìë£Œ]</strong></p>\n<ul>\n<li><a href=\"apiref.com/hibernate5/BatchSize.html\">apiref.com/hibernate5/BatchSize.html</a></li>\n<li><a href=\"https://docs.jboss.org/hibernate/orm/4.3/manual/en-US/html/ch05.html\">https://docs.jboss.org/hibernate/orm/4.3/manual/en-US/html/ch05.html</a></li>\n<li><a href=\"https://wckhg89.tistory.com/10\">https://wckhg89.tistory.com/10</a></li>\n</ul>\n<div class=\"table-of-contents\">\n<ul>\n<li><a href=\"#-intro\">ğŸ’¡ Intro</a></li>\n<li><a href=\"#-hiberbatedefault_batch_fetch_size\">ğŸŒ© <code class=\"language-text\">hiberbate.default_batch_fetch_size</code></a></li>\n<li>\n<p><a href=\"#-%EB%B3%B8-%ED%94%84%EB%A1%9C%EC%A0%9D%ED%8A%B8-%EB%AC%B8%EC%A0%9C-%EC%83%81%ED%99%A9\">ğŸŒ© ë³¸ í”„ë¡œì íŠ¸ ë¬¸ì œ ìƒí™©</a></p>\n<ul>\n<li><a href=\"#entity-%EA%B5%AC%EC%A1%B0\">Entity êµ¬ì¡°</a></li>\n<li><a href=\"#%EB%AC%B8%EC%A0%9C%EC%83%81%ED%99%A9\">ë¬¸ì œìƒí™©</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#-%EC%9D%B4%EC%83%81%ED%98%84%EC%83%81-%EB%93%A4%EC%97%AC%EB%8B%A4%EB%B3%B4%EA%B8%B0\">ğŸŒ© ì´ìƒí˜„ìƒ ë“¤ì—¬ë‹¤ë³´ê¸°</a></p>\n<ul>\n<li><a href=\"#entity-%EA%B5%AC%EC%A1%B0-1\">Entity êµ¬ì¡°</a></li>\n<li><a href=\"#%EC%83%81%ED%99%A9-%EC%9E%AC%ED%98%84\">ìƒí™© ì¬í˜„</a></li>\n</ul>\n</li>\n<li><a href=\"#-help\">ğŸŒ© Help</a></li>\n</ul>\n</div>","excerpt":"ğŸ’¡ Intro JPAë¥¼ í”„ë¡œì íŠ¸ì—ì„œ ì‚¬ìš©í•˜ë©´ì„œ ì—°ê´€ ì—”í‹°í‹°ë¥¼ í˜¸ì¶œí•  ë•Œ ìƒê¸°ëŠ” N+1ì„ í•´ê²°í•œ ê²½í—˜ì´ ìˆë‹¤. ì´ë•Œ í•´ê²° ë°©ë²•ìœ¼ë¡œ hibernateì˜ ë¥¼ ymlì— ì„¤ì •í•˜ì—¬ í•´ê²°í–ˆì—ˆë‹¤. ì°¸ê³ ë§í¬ í•´ê²°ë¶€ë¶„ í”„ë¡œì íŠ¸ë¥¼ ì „ë°˜ì ìœ¼ë¡œ ì²´í¬í•˜ë˜ ì™€ì¤‘ì— ìœ„ ì„¤ì •ì— ì˜í•œ in queryê°€ ì‹¤í–‰ë˜ì§€ ì•Šê³  ì—¬ì „íˆ N+1 ë¬¸ì œê°€ ë°œìƒí•˜ëŠ” ë¶€ë¶„ì„ ë°œê²¬í•˜ì˜€ë‹¤.  í•´ë‹¹ í˜„ìƒì„ ê³µìœ í•˜ê¸° ìœ„í•´ ê¸€ì„ ì‘ì„±í•œë‹¤. (ì—¬ì „íˆ ì´ìœ ëŠ” ëª» ì°¾ì•˜ë‹¤ ğŸ˜¢) ğŸŒ©  ìš°ì„  ê°„ë‹¨í•˜ê²Œ ìœ„ ì„¤ì •ì— ëŒ€í•´ì„œ ì§šê³  ë„˜ì–´ê°€ë³´ì. ì„¤ì •í•  ìˆ˜ ìˆëŠ” ë°©ë²•ì€ ë‘ ê°€ì§€ ì´ë‹¤.   ì–´ë…¸í…Œì´ì…˜ í™œìš©  í´ë˜ìŠ¤, ë©”ì†Œë“œ, í•„ë“œ ë ˆë²¨ì—ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.  í•´ë‹¹ ì‚¬ì´ì¦ˆ ë§Œí¼ì˜ ìƒìœ„ ì—”í‹°í‹° idê°€ in queryë¡œ ë‚˜ê°„ë‹¤.  ë¥¼ application.propertiesì— ì§€ì • ì „ì—­ì ìœ¼ë¡œ ì ìš©ì´ ë˜ì–´ì„œ ìƒìœ„ ì—”í‹°í‹°ì˜ lazy loadingëœ í•˜ìœ„ ì—”í‹°í‹°ë¥¼ í•œêº¼ë²ˆì— in queryë¡œ ë¡œë”©í•œë‹¤.  Hibernate javadocs ê³µì‹ ë¬¸ì„œì— ë‹¤ìŒê³¼ ê°™ì´ ì„œìˆ í•œë‹¤.  ì¦‰â€¦","frontmatter":{"date":"October 21, 2021","title":"í•˜ì´ë²„ë„¤ì´íŠ¸ default-batch-fetch-size ê°€ ì•ˆë˜ëŠ” í˜„ìƒ ğŸ˜¢","categories":"JPA í”„ë¡œì íŠ¸","author":"ì½”ë‹¤","emoji":"ğŸš€"},"fields":{"slug":"/jpa-default-batch-fetch-size-not-working/"}},"next":{"id":"2eba1279-e1e0-5811-91ac-0f45dbfc508a","html":"<blockquote>\n<p>ì´ ê¸€ì€ ë‹¤ìŒ <a href=\"%5Bhttps://netflixtechblog.com/linux-performance-analysis-in-60-000-milliseconds-accc10403c55%5D(https://netflixtechblog.com/linux-performance-analysis-in-60-000-milliseconds-accc10403c55)\">ë§í¬</a>ë¥¼ ë²ˆì—­í•˜ë©° ê³µë¶€í•œ ê¸€ì…ë‹ˆë‹¤ ğŸ™Œ   </p>\n</blockquote>\n<br>\n<h2 id=\"-intro\" style=\"position:relative;\"><a href=\"#-intro\" aria-label=\" intro permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ğŸ’¡ Intro</h2>\n<ul>\n<li>ì„±ëŠ¥ í…ŒìŠ¤íŠ¸ì— ê´€ë ¨í•œ ê³µë¶€ ë° ì ìš©ì„ í•˜ë©´ì„œ ì¢‹ì€ ì•„í‹°í´ì„ ì¶”ì²œ ë°›ì•˜ë‹¤. (Thanks to ì œë¦¬ ğŸ‘)</li>\n<li>ê´€ë ¨ ëª…ë ¹ì–´ë“¤ì— ëŒ€í•´ì„œ ê³µë¶€í•˜ê³  ê° ì¹¼ëŸ¼ì´ ì˜ë¯¸í•˜ëŠ” os ë° ë„¤íŠ¸ì›Œí¬ ê¸°ì´ˆ ì§€ì‹ì„ ë©”ê¾¸ë³´ì.</li>\n</ul>\n<br>\n<h2 id=\"1-uptime\" style=\"position:relative;\"><a href=\"#1-uptime\" aria-label=\"1 uptime permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1. uptime</h2>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token function\">uptime</span> \n<span class=\"token number\">23</span>:51:26 up <span class=\"token number\">21</span>:31, <span class=\"token number\">1</span> user, load average: <span class=\"token number\">30.02</span>, <span class=\"token number\">26.43</span>, <span class=\"token number\">19.02</span></code></pre></div>\n<ul>\n<li>ì‹¤í–‰ë˜ê¸°ë¥¼ ê¸°ë‹¤ë¦¬ëŠ” í”„ë¡œì„¸ìŠ¤ì˜ ê°¯ìˆ˜ë¥¼ ì¶œë ¥í•œë‹¤. ë¦¬ëˆ…ìŠ¤ ì‹œìŠ¤í…œì—ì„œëŠ” CPUë¥¼ ê¸°ë‹¤ë¦¬ëŠ” í”„ë¡œì„¸ìŠ¤ì™€ uninterruptible I/O (disk I/O) ì— ì˜í•´ í”„ë¡œì„¸ìŠ¤ê°€ ë§‰í˜€ìˆì„ ìˆ˜ ìˆë‹¤. ë”°ë¼ì„œ ì´ ìˆ˜ì¹˜ë¥¼ í†µí•´ì„œ ë¦¬ì†ŒìŠ¤ ë¶€í•˜ë¥¼ ê°„í¸í•˜ê²Œ í™•ì¸ í•  ìˆ˜ ìˆë‹¤.</li>\n<li>ìœ„ ì„¸ê°œì˜ ë²ˆí˜¸ëŠ” ê°ê° 1ë¶„, 5ë¶„, 15ë¶„ ê°„ ì‹¤í–‰ë˜ì§€ ëª»í•˜ê³  ëŒ€ê¸° ì¤‘ì¸ í”„ë¡œì„¸ìŠ¤ ê°¯ìˆ˜ë¥¼ ë‚˜íƒ€ë‚¸ë‹¤. ì‹œê°„ ì¶”ì´ì— ë”°ë¥¸ ë¶€í•˜ ìƒíƒœë¥¼ í†µí•´ ìƒí™©ì„ ìœ ì¶”í•  ìˆ˜ë„ ìˆë‹¤.</li>\n</ul>\n<br>\n<h2 id=\"2-dmesg--tail\" style=\"position:relative;\"><a href=\"#2-dmesg--tail\" aria-label=\"2 dmesg  tail permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2. dmesg | tail</h2>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token function\">dmesg</span> <span class=\"token operator\">|</span> <span class=\"token function\">tail</span>\n<span class=\"token punctuation\">[</span><span class=\"token number\">1880957.563150</span><span class=\"token punctuation\">]</span> perl invoked oom-killer: <span class=\"token assign-left variable\">gfp_mask</span><span class=\"token operator\">=</span>0x280da, <span class=\"token assign-left variable\">order</span><span class=\"token operator\">=</span><span class=\"token number\">0</span>, <span class=\"token assign-left variable\">oom_score_adj</span><span class=\"token operator\">=</span><span class=\"token number\">0</span>\n<span class=\"token punctuation\">[</span><span class=\"token punctuation\">..</span>.<span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">[</span><span class=\"token number\">1880957.563400</span><span class=\"token punctuation\">]</span> Out of memory: Kill process <span class=\"token number\">18694</span> <span class=\"token punctuation\">(</span>perl<span class=\"token punctuation\">)</span> score <span class=\"token number\">246</span> or sacrifice child\n<span class=\"token punctuation\">[</span><span class=\"token number\">1880957.563408</span><span class=\"token punctuation\">]</span> Killed process <span class=\"token number\">18694</span> <span class=\"token punctuation\">(</span>perl<span class=\"token punctuation\">)</span> total-vm:1972392kB, anon-rss:1953348kB, file-rss:0kB\n<span class=\"token punctuation\">[</span><span class=\"token number\">2320864.954447</span><span class=\"token punctuation\">]</span> TCP: Possible SYN flooding on port <span class=\"token number\">7001</span>. Dropping request.  Check SNMP counters.</code></pre></div>\n<ul>\n<li>ë§ˆì§€ë§‰ 10ê°œì˜ ì‹œìŠ¤í…œ ë©”ì„¸ì§€ë¥¼ ì¶œë ¥í•œë‹¤. ì—¬ê¸°ì„œ ì„±ëŠ¥ì— ì´ìŠˆë¥¼ ì¼ìœ¼í‚¨ ì—ëŸ¬ ë©”ì„¸ì§€ë¥¼ í™•ì¸í•  ìˆ˜ ìˆë‹¤. oom-killerë‚˜ TCP ìš”ì²­ ë“œë ê°™ì€ ê²½ìš°ë¥¼ í™•ì¸í•  ìˆ˜ ìˆìœ¼ë¯€ë¡œ í•„ìˆ˜ë‹¤.</li>\n</ul>\n<br>\n<h2 id=\"3-vmstat-1\" style=\"position:relative;\"><a href=\"#3-vmstat-1\" aria-label=\"3 vmstat 1 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>3. vmstat 1</h2>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">procs ---------memory---------- ---swap-- -----io---- -system-- ------cpu-----\n r  b swpd   <span class=\"token function\">free</span>   buff  cache   si   so    bi    bo   <span class=\"token keyword\">in</span>   cs us sy <span class=\"token function\">id</span> wa st\n<span class=\"token number\">34</span>  <span class=\"token number\">0</span>    <span class=\"token number\">0</span> <span class=\"token number\">200889792</span>  <span class=\"token number\">73708</span> <span class=\"token number\">591828</span>    <span class=\"token number\">0</span>    <span class=\"token number\">0</span>     <span class=\"token number\">0</span>     <span class=\"token number\">5</span>    <span class=\"token number\">6</span>   <span class=\"token number\">10</span> <span class=\"token number\">96</span>  <span class=\"token number\">1</span>  <span class=\"token number\">3</span>  <span class=\"token number\">0</span>  <span class=\"token number\">0</span>\n<span class=\"token number\">32</span>  <span class=\"token number\">0</span>    <span class=\"token number\">0</span> <span class=\"token number\">200889920</span>  <span class=\"token number\">73708</span> <span class=\"token number\">591860</span>    <span class=\"token number\">0</span>    <span class=\"token number\">0</span>     <span class=\"token number\">0</span>   <span class=\"token number\">592</span> <span class=\"token number\">13284</span> <span class=\"token number\">4282</span> <span class=\"token number\">98</span>  <span class=\"token number\">1</span>  <span class=\"token number\">1</span>  <span class=\"token number\">0</span>  <span class=\"token number\">0</span>\n<span class=\"token number\">32</span>  <span class=\"token number\">0</span>    <span class=\"token number\">0</span> <span class=\"token number\">200890112</span>  <span class=\"token number\">73708</span> <span class=\"token number\">591860</span>    <span class=\"token number\">0</span>    <span class=\"token number\">0</span>     <span class=\"token number\">0</span>     <span class=\"token number\">0</span> <span class=\"token number\">9501</span> <span class=\"token number\">2154</span> <span class=\"token number\">99</span>  <span class=\"token number\">1</span>  <span class=\"token number\">0</span>  <span class=\"token number\">0</span>  <span class=\"token number\">0</span>\n<span class=\"token number\">32</span>  <span class=\"token number\">0</span>    <span class=\"token number\">0</span> <span class=\"token number\">200889568</span>  <span class=\"token number\">73712</span> <span class=\"token number\">591856</span>    <span class=\"token number\">0</span>    <span class=\"token number\">0</span>     <span class=\"token number\">0</span>    <span class=\"token number\">48</span> <span class=\"token number\">11900</span> <span class=\"token number\">2459</span> <span class=\"token number\">99</span>  <span class=\"token number\">0</span>  <span class=\"token number\">0</span>  <span class=\"token number\">0</span>  <span class=\"token number\">0</span>\n<span class=\"token number\">32</span>  <span class=\"token number\">0</span>    <span class=\"token number\">0</span> <span class=\"token number\">200890208</span>  <span class=\"token number\">73712</span> <span class=\"token number\">591860</span>    <span class=\"token number\">0</span>    <span class=\"token number\">0</span>     <span class=\"token number\">0</span>     <span class=\"token number\">0</span> <span class=\"token number\">15898</span> <span class=\"token number\">4840</span> <span class=\"token number\">98</span>  <span class=\"token number\">1</span>  <span class=\"token number\">1</span>  <span class=\"token number\">0</span>  <span class=\"token number\">0</span>\n^C</code></pre></div>\n<ul>\n<li>ê°€ìƒ ë©”ëª¨ë¦¬ statë¥¼ ë³´ì—¬ì¤€ë‹¤. ì„œë²„ì˜ ì¤‘ìš”í•œ statisticsë¥¼ ì¶œë ¥í•œë‹¤.</li>\n<li>vmstat ëª…ë ¹ì–´ì™€ 1ì„ í´ë¦­í•˜ë©´ 1ì´ˆë§ˆë‹¤ ì„œë²„ì˜ staticticsë¥¼ ì¶œë ¥í•œë‹¤. (ë‹¨ ì²«ë²ˆì§¸ í–‰ì€ ì„œë²„ê°€ ë¶€íŒ…ë˜ì—ˆì„ ë•Œë¶€í„°ì˜ í‰ê·  ìˆ˜ì¹˜ë¥¼ ë³´ì—¬ì¤€ë‹¤)</li>\n</ul>\n<h3 id=\"ì¤‘ìš”í•œ-ì¹¼ëŸ¼\" style=\"position:relative;\"><a href=\"#%EC%A4%91%EC%9A%94%ED%95%9C-%EC%B9%BC%EB%9F%BC\" aria-label=\"ì¤‘ìš”í•œ ì¹¼ëŸ¼ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ì¤‘ìš”í•œ ì¹¼ëŸ¼</h3>\n<ul>\n<li>\n<p><strong>r</strong>: CPUì—ì„œ ì‹¤í–‰ë˜ëŠ” í”„ë¡œì„¸ìŠ¤ì™€ ê¸°ë‹¤ë¦¬ê³  ìˆëŠ” í”„ë¡œì„¸ìŠ¤ ìˆ«ìì´ë‹¤. I/Oì— ì˜í•´ ìƒê¸°ëŠ” ë¶€í•˜ë¥¼ ì œì™¸í•˜ê³  CPUì— ëŒ€í•´ì„œë§Œ ë³´ì—¬ì£¼ê¸° ë•Œë¬¸ì— load averageì˜ ì›ì¸ì´ CPUì¸ì§€ ì•„ë‹Œì§€ë¥¼ í™•ì¸ í•  ìˆ˜ ìˆë‹¤.</p>\n<p>ì°¸ê³ ë¡œ, â€œrâ€ ì¹¼ëŸ¼ ê°’ì´ CPU ì½”ì–´ ê°¯ìˆ˜ë³´ë‹¤ ë§ë‹¤ë©´ saturation ìƒí™©ì´ë‹¤.</p>\n</li>\n<li><strong>free</strong>: ë¹„ì–´ìˆëŠ” ë©”ëª¨ë¦¬ë¥¼ kilobytes ë‹¨ìœ„ë¡œ ë³´ì—¬ì¤€ë‹¤.</li>\n<li><strong>si, so</strong>: swap-ins, swap-outsë¥¼ ë³´ì—¬ì¤€ë‹¤. ì´ ê°’ì´ 0ì´ ì•„ë‹ˆë¼ë©´ ë©”ëª¨ë¦¬ ë¶€ì¡±ì´ë‹¤.</li>\n<li>\n<p><strong>us, sy, id, wa, st</strong>: CPU ì‹œê°„ì„ ë¶„í• í•˜ì—¬ ëª¨ë“  CPU ì‹œê°„ì˜ í‰ê·  ì •ë³´ë¥¼ ë³´ì—¬ì¤€ë‹¤.</p>\n<ul>\n<li>user time, system time(kernel), idle, wait I/O, stolen time(ë‹¤ë¥¸ ê²ŒìŠ¤íŠ¸, Xen ë“±ë“±) ì§€í‘œë¥¼ ë³´ì—¬ì¤€ë‹¤.</li>\n</ul>\n</li>\n<li>ì—¬ê¸°ì„œ user + system timeì„ í†µí•´ CPUê°€ ë°”ìœ ìƒíƒœì¸ì§€ í™•ì¸í•  ìˆ˜ ìˆë‹¤.</li>\n<li>wait I/Oì— íŠ¹ì • ê°’ì´ ìœ ì§€ëœë‹¤ë©´ disk ë³‘ëª© í˜„ìƒì´ ìˆë‹¤ê³  ë³¼ ìˆ˜ ìˆë‹¤. ì´ ê²½ìš°ëŠ” ì‘ì—…ì´ disk I/O ì‘ì—…ì„ ê¸°ë‹¤ë¦¬ëŠë¼ CPU ê°€ ìœ íœ´ ìƒíƒœì— ìˆëŠ” ë•Œì´ë‹¤.</li>\n<li>System timeì€ I/O ì‘ì—…ì„ í•˜ê¸° ìœ„í•´ì„œ í•„ìˆ˜ì´ë‹¤. high system time í‰ê· ì€ 20% ì´ìƒì´ë©° ì´ëŸ° ìˆ˜ì¹˜ë¥¼ ë³´ì´ë©´ ì»¤ë„ì´ I/O ì‘ì—…ì„ ë¹„íš¨ìœ¨ì ìœ¼ë¡œ ì²˜ë¦¬í•˜ê³  ìˆë‹¤ê³  ë³¼ ìˆ˜ ìˆë‹¤.</li>\n<li>CPU ì‚¬ìš©ë¥ (user-level)ì€ í‰ê·  90% ì´ìƒì¼ ìˆ˜ë„ ìˆìœ¼ë‚˜ ì´ê²ƒì´ ê¼­ ë¬¸ì œë¥¼ ëœ»í•˜ëŠ” ê²ƒì€ ì•„ë‹ˆë‹¤. CPUì— ë¶€í•˜ê°€ ê±¸ë¦¬ê³  ìˆëŠ”ì§€ëŠ” â€œrâ€ ì¹¼ëŸ¼ì„ í†µí•´ì„œ íŒë‹¨í•´ì•¼í•œë‹¤.</li>\n<li><a href=\"%5Bhttps://m.blog.naver.com/PostView.naver?isHttpsRedirect=true&#x26;blogId=ggaibi1004&#x26;logNo=221398356656%5D(https://m.blog.naver.com/PostView.naver?isHttpsRedirect=true&#x26;blogId=ggaibi1004&#x26;logNo=221398356656)\">ì—¬ê¸°ì„œ</a> ê° ì¹¼ëŸ¼ì— ëŒ€í•œ ìì„¸í•œ ì„¤ëª…ì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤. ê°œì¸ì ìœ¼ë¡œ ë§¤ìš° ìœ ìš©í•˜ê²Œ ì°¸ê³ í•˜ê³  ìˆë‹¤. <a href=\"%5Bhttps://im-recording-of-sw-studies.tistory.com/30%5D(https://im-recording-of-sw-studies.tistory.com/30)\">ì—¬ê¸°ë„..</a></li>\n</ul>\n<br>\n<h2 id=\"4-mpstat--p-all-1\" style=\"position:relative;\"><a href=\"#4-mpstat--p-all-1\" aria-label=\"4 mpstat  p all 1 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>4. mpstat -P ALL 1</h2>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ mpstat -P ALL <span class=\"token number\">1</span>\nLinux <span class=\"token number\">3.13</span>.0-49-generic <span class=\"token punctuation\">(</span>titanclusters-xxxxx<span class=\"token punctuation\">)</span>  07/14/2015  _x86_64_ <span class=\"token punctuation\">(</span><span class=\"token number\">32</span> CPU<span class=\"token punctuation\">)</span>\n\n07:38:49 PM  CPU   %usr  %nice   %sys %iowait   %irq  %soft  %steal  %guest  %gnice  %idle\n07:38:50 PM  all  <span class=\"token number\">98.47</span>   <span class=\"token number\">0.00</span>   <span class=\"token number\">0.75</span>    <span class=\"token number\">0.00</span>   <span class=\"token number\">0.00</span>   <span class=\"token number\">0.00</span>    <span class=\"token number\">0.00</span>    <span class=\"token number\">0.00</span>    <span class=\"token number\">0.00</span>   <span class=\"token number\">0.78</span>\n07:38:50 PM    <span class=\"token number\">0</span>  <span class=\"token number\">96.04</span>   <span class=\"token number\">0.00</span>   <span class=\"token number\">2.97</span>    <span class=\"token number\">0.00</span>   <span class=\"token number\">0.00</span>   <span class=\"token number\">0.00</span>    <span class=\"token number\">0.00</span>    <span class=\"token number\">0.00</span>    <span class=\"token number\">0.00</span>   <span class=\"token number\">0.99</span>\n07:38:50 PM    <span class=\"token number\">1</span>  <span class=\"token number\">97.00</span>   <span class=\"token number\">0.00</span>   <span class=\"token number\">1.00</span>    <span class=\"token number\">0.00</span>   <span class=\"token number\">0.00</span>   <span class=\"token number\">0.00</span>    <span class=\"token number\">0.00</span>    <span class=\"token number\">0.00</span>    <span class=\"token number\">0.00</span>   <span class=\"token number\">2.00</span>\n07:38:50 PM    <span class=\"token number\">2</span>  <span class=\"token number\">98.00</span>   <span class=\"token number\">0.00</span>   <span class=\"token number\">1.00</span>    <span class=\"token number\">0.00</span>   <span class=\"token number\">0.00</span>   <span class=\"token number\">0.00</span>    <span class=\"token number\">0.00</span>    <span class=\"token number\">0.00</span>    <span class=\"token number\">0.00</span>   <span class=\"token number\">1.00</span>\n07:38:50 PM    <span class=\"token number\">3</span>  <span class=\"token number\">96.97</span>   <span class=\"token number\">0.00</span>   <span class=\"token number\">0.00</span>    <span class=\"token number\">0.00</span>   <span class=\"token number\">0.00</span>   <span class=\"token number\">0.00</span>    <span class=\"token number\">0.00</span>    <span class=\"token number\">0.00</span>    <span class=\"token number\">0.00</span>   <span class=\"token number\">3.03</span>\n<span class=\"token punctuation\">[</span><span class=\"token punctuation\">..</span>.<span class=\"token punctuation\">]</span></code></pre></div>\n<ul>\n<li>CPU ì½”ì–´ ë³„ CPU ì‹œê°„ì„ ì¶œë ¥í•œë‹¤. ì´ê²ƒì„ í†µí•´ í•œ ì½”ì–´ì— í”„ë¡œì„¸ìŠ¤ê°€ ì§‘ì¤‘ë˜ì–´ ë¹„íš¨ìœ¨ì ì´ì§€ëŠ” ì•Šì€ì§€ í™•ì¸í•  ìˆ˜ ìˆë‹¤.</li>\n<li>ë§Œì¼ í•˜ë‚˜ì˜ CPUì— ë¶€í•˜ê°€ ì‹¬í•˜ë‹¤ë©´ single thread applicationì— ì˜í•œ ë¶€í•˜ì¼ ìˆ˜ ìˆë‹¤.</li>\n</ul>\n<br>\n<h2 id=\"5-pidstat-1\" style=\"position:relative;\"><a href=\"#5-pidstat-1\" aria-label=\"5 pidstat 1 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>5. pidstat 1</h2>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ pidstat <span class=\"token number\">1</span>\nLinux <span class=\"token number\">3.13</span>.0-49-generic <span class=\"token punctuation\">(</span>titanclusters-xxxxx<span class=\"token punctuation\">)</span>  07/14/2015    _x86_64_    <span class=\"token punctuation\">(</span><span class=\"token number\">32</span> CPU<span class=\"token punctuation\">)</span>\n\n07:41:02 PM   <span class=\"token environment constant\">UID</span>       PID    %usr %system  %guest    %CPU   CPU  Command\n07:41:03 PM     <span class=\"token number\">0</span>         <span class=\"token number\">9</span>    <span class=\"token number\">0.00</span>    <span class=\"token number\">0.94</span>    <span class=\"token number\">0.00</span>    <span class=\"token number\">0.94</span>     <span class=\"token number\">1</span>  rcuos/0\n07:41:03 PM     <span class=\"token number\">0</span>      <span class=\"token number\">4214</span>    <span class=\"token number\">5.66</span>    <span class=\"token number\">5.66</span>    <span class=\"token number\">0.00</span>   <span class=\"token number\">11.32</span>    <span class=\"token number\">15</span>  mesos-slave\n07:41:03 PM     <span class=\"token number\">0</span>      <span class=\"token number\">4354</span>    <span class=\"token number\">0.94</span>    <span class=\"token number\">0.94</span>    <span class=\"token number\">0.00</span>    <span class=\"token number\">1.89</span>     <span class=\"token number\">8</span>  java\n07:41:03 PM     <span class=\"token number\">0</span>      <span class=\"token number\">6521</span> <span class=\"token number\">1596.23</span>    <span class=\"token number\">1.89</span>    <span class=\"token number\">0.00</span> <span class=\"token number\">1598.11</span>    <span class=\"token number\">27</span>  java\n07:41:03 PM     <span class=\"token number\">0</span>      <span class=\"token number\">6564</span> <span class=\"token number\">1571.70</span>    <span class=\"token number\">7.55</span>    <span class=\"token number\">0.00</span> <span class=\"token number\">1579.25</span>    <span class=\"token number\">28</span>  java\n07:41:03 PM <span class=\"token number\">60004</span>     <span class=\"token number\">60154</span>    <span class=\"token number\">0.94</span>    <span class=\"token number\">4.72</span>    <span class=\"token number\">0.00</span>    <span class=\"token number\">5.66</span>     <span class=\"token number\">9</span>  pidstat\n\n07:41:03 PM   <span class=\"token environment constant\">UID</span>       PID    %usr %system  %guest    %CPU   CPU  Command\n07:41:04 PM     <span class=\"token number\">0</span>      <span class=\"token number\">4214</span>    <span class=\"token number\">6.00</span>    <span class=\"token number\">2.00</span>    <span class=\"token number\">0.00</span>    <span class=\"token number\">8.00</span>    <span class=\"token number\">15</span>  mesos-slave\n07:41:04 PM     <span class=\"token number\">0</span>      <span class=\"token number\">6521</span> <span class=\"token number\">1590.00</span>    <span class=\"token number\">1.00</span>    <span class=\"token number\">0.00</span> <span class=\"token number\">1591.00</span>    <span class=\"token number\">27</span>  java\n07:41:04 PM     <span class=\"token number\">0</span>      <span class=\"token number\">6564</span> <span class=\"token number\">1573.00</span>   <span class=\"token number\">10.00</span>    <span class=\"token number\">0.00</span> <span class=\"token number\">1583.00</span>    <span class=\"token number\">28</span>  java\n07:41:04 PM   <span class=\"token number\">108</span>      <span class=\"token number\">6718</span>    <span class=\"token number\">1.00</span>    <span class=\"token number\">0.00</span>    <span class=\"token number\">0.00</span>    <span class=\"token number\">1.00</span>     <span class=\"token number\">0</span>  snmp-pass\n07:41:04 PM <span class=\"token number\">60004</span>     <span class=\"token number\">60154</span>    <span class=\"token number\">1.00</span>    <span class=\"token number\">4.00</span>    <span class=\"token number\">0.00</span>    <span class=\"token number\">5.00</span>     <span class=\"token number\">9</span>  pidstat\n^C</code></pre></div>\n<ul>\n<li>pidstatëŠ” í”„ë¡œì„¸ìŠ¤ ë³„ top ëª…ë ¹ì–´ ê°™ì€ ëŠë‚Œì´ë‹¤. í•˜ì§€ë§Œ rollling ë°©ì‹ìœ¼ë¡œ ë§¤ ì‹œê°„ë§ˆë‹¤ì˜ ëª¨ë‹ˆí„°ë§ ê²°ê³¼ë¥¼ ì¶œë ¥í•´ì¤€ë‹¤.</li>\n<li>ì´ ëª…ë ¹ì„ í†µí•´ ì‹œê°„ì— íë¦„ì— ë”°ë¥¸ íŒ¨í„´ì„ í™•ì¸í•  ìˆ˜ ìˆê³ , í˜„ìƒì„ ê¸°ë¡í•  ìˆ˜ ìˆëŠ” ì¥ì ì´ ìˆë‹¤.</li>\n<li>ìœ„ ì˜ˆì‹œë¥¼ ë³´ë©´ 2ê°œì˜ ìë°” í”„ë¡œì„¸ìŠ¤ê°€ CPUë¥¼ ê³¼í•˜ê²Œ ì†Œë¹„í•˜ê³  ìˆìŒì„ ì•Œ ìˆ˜ ìˆë‹¤.</li>\n<li>ìœ„ì—ì„œ <code class=\"language-text\">%CPU</code> ì¹¼ëŸ¼ì€ ì„œë²„ì˜ ëª¨ë“  CPUë¥¼ í¬í•¨í•œ ìˆ˜ì¹˜ì´ë‹¤. ë”°ë¼ì„œ 1591%ë¼ëŠ” ìˆ˜ì¹˜ëŠ” í•´ë‹¹ ìë°” í”„ë¡œì„¸ìŠ¤ê°€ ê±°ì˜ 16ê°œì˜ CPUë¥¼ ì†Œë¹„í•˜ê³  ìˆìŒì„ ë‚˜íƒ€ë‚¸ë‹¤. (ë¦¬ëˆ…ìŠ¤ì—ì„œ CPU ì‚¬ìš©ë¥ ì€ ì£¼ë¡œ ê° CPU ë‹¹ 100%ì˜ ìˆ˜ì¹˜ë¡œ ê·¸ í•©ì„ ì˜ë¯¸í•œë‹¤)</li>\n</ul>\n<br>\n<h2 id=\"6-iostat--xz-1\" style=\"position:relative;\"><a href=\"#6-iostat--xz-1\" aria-label=\"6 iostat  xz 1 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>6. iostat -xz 1</h2>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ iostat -xz <span class=\"token number\">1</span>\nLinux <span class=\"token number\">3.13</span>.0-49-generic <span class=\"token punctuation\">(</span>titanclusters-xxxxx<span class=\"token punctuation\">)</span>  07/14/2015  _x86_64_ <span class=\"token punctuation\">(</span><span class=\"token number\">32</span> CPU<span class=\"token punctuation\">)</span>\n\navg-cpu:  %user   %nice %system %iowait  %steal   %idle\n          <span class=\"token number\">73.96</span>    <span class=\"token number\">0.00</span>    <span class=\"token number\">3.73</span>    <span class=\"token number\">0.03</span>    <span class=\"token number\">0.06</span>   <span class=\"token number\">22.21</span>\n\nDevice:   rrqm/s   wrqm/s     r/s     w/s    rkB/s    wkB/s avgrq-sz avgqu-sz   await r_await w_await  svctm  %util\nxvda        <span class=\"token number\">0.00</span>     <span class=\"token number\">0.23</span>    <span class=\"token number\">0.21</span>    <span class=\"token number\">0.18</span>     <span class=\"token number\">4.52</span>     <span class=\"token number\">2.08</span>    <span class=\"token number\">34.37</span>     <span class=\"token number\">0.00</span>    <span class=\"token number\">9.98</span>   <span class=\"token number\">13.80</span>    <span class=\"token number\">5.42</span>   <span class=\"token number\">2.44</span>   <span class=\"token number\">0.09</span>\nxvdb        <span class=\"token number\">0.01</span>     <span class=\"token number\">0.00</span>    <span class=\"token number\">1.02</span>    <span class=\"token number\">8.94</span>   <span class=\"token number\">127.97</span>   <span class=\"token number\">598.53</span>   <span class=\"token number\">145.79</span>     <span class=\"token number\">0.00</span>    <span class=\"token number\">0.43</span>    <span class=\"token number\">1.78</span>    <span class=\"token number\">0.28</span>   <span class=\"token number\">0.25</span>   <span class=\"token number\">0.25</span>\nxvdc        <span class=\"token number\">0.01</span>     <span class=\"token number\">0.00</span>    <span class=\"token number\">1.02</span>    <span class=\"token number\">8.86</span>   <span class=\"token number\">127.79</span>   <span class=\"token number\">595.94</span>   <span class=\"token number\">146.50</span>     <span class=\"token number\">0.00</span>    <span class=\"token number\">0.45</span>    <span class=\"token number\">1.82</span>    <span class=\"token number\">0.30</span>   <span class=\"token number\">0.27</span>   <span class=\"token number\">0.26</span>\ndm-0        <span class=\"token number\">0.00</span>     <span class=\"token number\">0.00</span>    <span class=\"token number\">0.69</span>    <span class=\"token number\">2.32</span>    <span class=\"token number\">10.47</span>    <span class=\"token number\">31.69</span>    <span class=\"token number\">28.01</span>     <span class=\"token number\">0.01</span>    <span class=\"token number\">3.23</span>    <span class=\"token number\">0.71</span>    <span class=\"token number\">3.98</span>   <span class=\"token number\">0.13</span>   <span class=\"token number\">0.04</span>\ndm-1        <span class=\"token number\">0.00</span>     <span class=\"token number\">0.00</span>    <span class=\"token number\">0.00</span>    <span class=\"token number\">0.94</span>     <span class=\"token number\">0.01</span>     <span class=\"token number\">3.78</span>     <span class=\"token number\">8.00</span>     <span class=\"token number\">0.33</span>  <span class=\"token number\">345.84</span>    <span class=\"token number\">0.04</span>  <span class=\"token number\">346.81</span>   <span class=\"token number\">0.01</span>   <span class=\"token number\">0.00</span>\ndm-2        <span class=\"token number\">0.00</span>     <span class=\"token number\">0.00</span>    <span class=\"token number\">0.09</span>    <span class=\"token number\">0.07</span>     <span class=\"token number\">1.35</span>     <span class=\"token number\">0.36</span>    <span class=\"token number\">22.50</span>     <span class=\"token number\">0.00</span>    <span class=\"token number\">2.55</span>    <span class=\"token number\">0.23</span>    <span class=\"token number\">5.62</span>   <span class=\"token number\">1.78</span>   <span class=\"token number\">0.03</span>\n<span class=\"token punctuation\">[</span><span class=\"token punctuation\">..</span>.<span class=\"token punctuation\">]</span>\n^C</code></pre></div>\n<ul>\n<li>ë¸”ë¡ ë””ë°”ì´ìŠ¤ (disks)ë¥¼ í™•ì¸í•˜ê¸° ë§¤ìš° ì¢‹ì€ ëª…ë ¹ì–´ë‹¤. í•´ë‹¹ ë””ë°”ì´ìŠ¤ì˜ ë¶€í•˜ì™€ í¼í¬ë¨¼ìŠ¤ê¹Œì§€ í™•ì¸í•  ìˆ˜ ìˆë‹¤. ë‹¤ìŒ ì¹¼ëŸ¼ë“¤ì„ ìœ ì˜í•´ì„œ ë³´ì.</li>\n<li>\n<p><strong>r/s, w/s, rkB/s, wkB/s</strong> </p>\n<ul>\n<li>ìœ„ ìˆ˜ì¹˜ë“¤ì€ 1ì´ˆ ë™ì•ˆ í•´ë‹¹ ë””ë°”ì´ìŠ¤ì—ê²Œ ì „ë‹¬ëœ ì½ê¸°, ì“°ê¸°, Kbytes ì½ê¸°, Kbytes ì“°ê¸°ì´ë‹¤.</li>\n<li>ë””ë°”ì´ìŠ¤ì˜ ì‘ì—…ëŸ‰ ì •ë„ë¥¼ í™•ì¸í•  ìˆ˜ ìˆë‹¤. ì´ ìˆ˜ì¹˜ê°€ ì§€ë‚˜ì¹˜ê²Œ ë†’ë‹¤ë©´ ê³¼ë¶€í•˜ì— ì˜í•œ ì„±ëŠ¥ ë¬¸ì œê°€ ë°œìƒí•  ìˆ˜ ìˆë‹¤.</li>\n</ul>\n</li>\n<li>\n<p><strong>await</strong></p>\n<ul>\n<li>ms ë‹¨ìœ„ì˜ I/O í‰ê·  ì‹œê°„ì´ë‹¤. ì´ê²ƒì€ ì–´í”Œë¦¬ì¼€ì´ì…˜ì´ queueì— ìˆëŠ” ì‹œê°„ê³¼ ì„œë¹„ìŠ¤ë˜ëŠ” ì‹œê°„ì´ ëª¨ë‘ í¬í•¨ëœ ì‹œê°„ì´ë‹¤.</li>\n<li>ì˜ˆìƒë³´ë‹¤ ê¸´ í‰ê· ì‹œê°„ì€ ë””ë°”ì´ìŠ¤ í¬í™” ì—¬ë¶€ í˜¹ì€ ë””ë°”ì´ìŠ¤ì— ì˜¤ë¥˜ ê°€ëŠ¥ì„±ì„ ì˜ë¯¸í•  ìˆ˜ ìˆë‹¤.</li>\n</ul>\n</li>\n<li>\n<p><strong>avgqu-sz</strong></p>\n<ul>\n<li>ë””ë°”ì´ìŠ¤ì˜ í‰ê·  ìš”ì²­ ìˆ˜ì´ë‹¤. 1 ë³´ë‹¤ í° ìˆ˜ì¹˜ëŠ” í¬í™”ìƒíƒœì˜ ê·¼ê±°ì¼ ìˆ˜ ìˆë‹¤. (ì—¬ëŸ¬ ë””ìŠ¤í¬ì— ëŒ€í•œ ê°€ì¥ ë””ë°”ì´ìŠ¤ ê°™ì€ ê²½ìš° ìš”ì²­ì„ ë³‘ë ¬ë¡œ ì²˜ë¦¬í•  ìˆ˜ ìˆê¸´ í•˜ë‹¤ëŠ” ê²ƒì„ ì°¸ê³ )</li>\n</ul>\n</li>\n<li>\n<p><strong>%util</strong></p>\n<ul>\n<li>ë””ë°”ì´ìŠ¤ ì‚¬ìš©ë¥ ì´ë‹¤. ë§¤ ì´ˆë§ˆë‹¤ ë””ë°”ì´ìŠ¤ê°€ ì²˜ë¦¬í•˜ê³  ìˆëŠ” í¼ì„¼íŠ¸ë¥¼ ë‚˜íƒ€ë‹Œë‹¤.</li>\n<li>ë””ë°”ì´ìŠ¤ ë§ˆë‹¤ ìƒì´í•˜ì§€ë§Œ 60% ë³´ë‹¤ í° ìˆ˜ì¹˜ëŠ” ì£¼ë¡œ ì¢‹ì§€ ì•Šì€ ì„±ëŠ¥ì„ ë‚˜íƒ€ë‚¸ë‹¤. (await ì¹¼ëŸ¼ì—ì„œ í•¨ê»˜ í™•ì¸í•  ìˆ˜ ìˆëŠ” ìƒíƒœì´ë‹¤)</li>\n<li>100%ì— ê°€ê¹Œìš´ ê²ƒì€ í¬í™”ìƒíƒœì„ì„ ëœ»í•œë‹¤.</li>\n</ul>\n</li>\n<li>ë§Œì¼ storage deviceê°€ ì—¬ëŸ¬ ë¬¼ë¦¬ ë””ìŠ¤í¬ ì•ì— ìˆëŠ” ë…¼ë¦¬ ë””ìŠ¤í¬ë¼ë©´ 100% ì˜ ì‚¬ìš©ë¥ ì€ ì–´ë–¤ I/O í”„ë¡œì„¸ìŠ¤ê°€ 100% ì‹œê°„ë™ì•ˆ ì²˜ë¦¬ë˜ê³  ìˆìœ¼ë‚˜ ì‹¤ì œ ë¬¼ë¦¬ ë””ìŠ¤í¬ëŠ” í¬í™”ìƒíƒœê°€ ì•„ë‹ ìˆ˜ë„ ìˆë‹¤.</li>\n<li>ì°¸ê³ í•  ê²ƒì€ disk I/Oì˜ ë‚®ì€ ì„±ëŠ¥ì´ ì–´í”Œë¦¬ì¼€ì´ì…˜ì˜ ì„±ëŠ¥ì„ ì €í•˜ì‹œí‚¤ëŠ” ìš”ì¸ì´ ì•„ë‹ ìˆ˜ë„ ìˆë‹¤ëŠ” ê²ƒì´ë‹¤. ë§ì€ ê¸°ìˆ ë“¤ì€ I/O ì‘ì—…ì„ ë¹„ë™ê¸°ë¡œ ì²˜ë¦¬í•˜ì—¬ ì–´í”Œë¦¬ì¼€ì´ì…˜ì´ ë´‰ì‡„ìƒíƒœì— ë¨¸ë¬¼ê±°ë‚˜ ì§€ì—°ì‹œê°„(latency)ì— ì˜í–¥ì´ ê°€ì§€ ì•Šë„ë¡ í•œë‹¤.</li>\n</ul>\n<br>\n<h2 id=\"7-free--m\" style=\"position:relative;\"><a href=\"#7-free--m\" aria-label=\"7 free  m permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>7. free -m</h2>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token function\">free</span> -m\n             total       used       <span class=\"token function\">free</span>     shared    buffers     cached\nMem:        <span class=\"token number\">245998</span>      <span class=\"token number\">24545</span>     <span class=\"token number\">221453</span>         <span class=\"token number\">83</span>         <span class=\"token number\">59</span>        <span class=\"token number\">541</span>\n-/+ buffers/cache:      <span class=\"token number\">23944</span>     <span class=\"token number\">222053</span>\nSwap:            <span class=\"token number\">0</span>          <span class=\"token number\">0</span>          <span class=\"token number\">0</span></code></pre></div>\n<ul>\n<li>\n<p>ì¤‘ìš” ì¹¼ëŸ¼ (ê°€ì¥ ì˜¤ë¥¸ìª½ ì¹¼ëŸ¼)</p>\n<ol>\n<li>\n<p><strong>buffers</strong></p>\n<ul>\n<li>ë²„í¼ ìºì‹œì´ë©° block device I/O ì— ì‚¬ìš©</li>\n</ul>\n</li>\n<li>\n<p><strong>cached</strong> </p>\n<ul>\n<li>í˜ì´ì§€ ìºì‹œì´ë©° file systemsì— ì‚¬ìš©</li>\n</ul>\n</li>\n</ol>\n</li>\n<li>ìœ„ ë‘ ì¹¼ëŸ¼ì˜ ìˆ˜ì¹˜ê°€ <code class=\"language-text\">0</code>ì´ ì•„ë‹ˆë„ë¡ ì£¼ì˜í•˜ì. 0 ì´ë¼ë©´ disk I/Oê°€ ë¹ˆë²ˆí•˜ê²Œ ë°œìƒí•˜ë©°(<code class=\"language-text\">iostat</code>ìœ¼ë¡œ í™•ì¸) ê°€ì¥ ëŠë¦° ì—°ì‚°ì´ë¯€ë¡œ ìµœì•…ì˜ ì„±ëŠ¥ì„ ë‚¸ë‹¤. ìœ„ ê²½ìš° Mbytes ì´ìƒì˜ ì—¬ìœ  ê³µê°„ì„ ê°€ì§€ê³  ìˆìœ¼ë‹ˆ ì–‘í˜¸í•œ ìƒíƒœì´ë‹¤.</li>\n<li>\n<p><code class=\"language-text\">/+ buffers/cache</code> ì€ <code class=\"language-text\">free</code> ìˆ˜ì¹˜ì— ëŒ€í•´ì„œ ë” ëª…í™•í•˜ê²Œ ì•Œë ¤ì¤€ë‹¤.</p>\n<ul>\n<li>ìš´ì˜ì²´ì œì˜ ë¬¼ë¦¬ ë©”ëª¨ë¦¬ëŠ” ê·¸ ë¹ˆ ê³µê°„ì„ ìºì‹±ì„ í•˜ê¸° ìœ„í•´ì„œ ì‚¬ìš©í•œë‹¤. í•˜ì§€ë§Œ í”„ë¡œì„¸ìŠ¤ê°€ í•„ìš”ë¡œ í•˜ë‹¤ë©´ ê³§ë°”ë¡œ íšŒìˆ˜í•˜ì—¬ í•„ìš”í•œ í”„ë¡œì„¸ìŠ¤ì—ê²Œ í• ë‹¹í•œë‹¤. ë”°ë¼ì„œ ì—„ë°€íˆ ë§í•˜ë¨„ ìºì‹œ ë°ì´í„°ê°€ ì°¨ì§€í•˜ê³  ìˆëŠ” ë©”ëª¨ë¦¬ì˜ ìš©ëŸ‰ë„ freeì— í¬í•¨ë˜ì–´ì•¼ ë§ˆë•…í•˜ë‹¤.</li>\n<li>ì´ ìˆ˜ì¹˜ì˜ freeëŠ” ìºì‹œ ë°ì´í„° ë©”ëª¨ë¦¬ ìš©ëŸ‰ê¹Œì§€ í¬í•¨í•œ ìˆ˜ì¹˜ì´ë‹¤.</li>\n<li>ì´ ë¶€ë¶„ì— ëŒ€í•œ ë§ì€ í˜¼ë€ì´ ìˆê¸°ì— ê´€ë ¨ <a href=\"%5Bhttps://www.linuxatemyram.com/%5D(https://www.linuxatemyram.com/)\">ì‚¬ì´íŠ¸</a>ê°€ ë”°ë¡œ ìˆì„ ì •ë„ì´ë‹¤. (ã…‹ã…‹ã…‹ã…‹)</li>\n</ul>\n</li>\n<li>\n<p>ë¦¬ëˆ…ìŠ¤ì—ì„œ <a href=\"%5Bhttps://itsfoss.com/what-is-zfs/%5D(https://itsfoss.com/what-is-zfs/)\">ZFS</a> ë¼ëŠ” í–¥ìƒëœ file systemì„ ì‚¬ìš©í•˜ê³  ìˆë‹¤ë©´ ìœ„ ìˆ˜ì¹˜ê°€ ë” í˜¼ë€ìŠ¤ëŸ¬ìš¸ ìˆ˜ ìˆë‹¤. ZFSëŠ” ë³„ë„ì˜ ìºì‹œê°€ ì¡´ì¬í•˜ë©° <code class=\"language-text\">free -m</code> ì— ì œëŒ€ë¡œ ë°˜ì˜ì´ ë˜ì§€ ì•Šê¸° ë•Œë¬¸ì´ë‹¤.</p>\n<ul>\n<li>ì‹œìŠ¤í…œì´ ê°€ìš© ê°€ëŠ¥í•œ ë©”ëª¨ë¦¬ ê³µê°„ì´ ì ì–´ë³´ì´ì§€ë§Œ ZFS ìºì‹œì— ì˜í•´ ê°€ìš© ê°€ëŠ¥í•œ ë©”ëª¨ë¦¬ê°€ ì¡´ì¬í•  ìˆ˜ë„ ìˆë‹¤ëŠ” ê²ƒì„ ì°¸ê³ í•˜ì.</li>\n</ul>\n</li>\n</ul>\n<br>\n<h2 id=\"8-sar--n-dev-1\" style=\"position:relative;\"><a href=\"#8-sar--n-dev-1\" aria-label=\"8 sar  n dev 1 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>8. sar -n DEV 1</h2>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ sar -n DEV <span class=\"token number\">1</span>\nLinux <span class=\"token number\">3.13</span>.0-49-generic <span class=\"token punctuation\">(</span>titanclusters-xxxxx<span class=\"token punctuation\">)</span>  07/14/2015     _x86_64_    <span class=\"token punctuation\">(</span><span class=\"token number\">32</span> CPU<span class=\"token punctuation\">)</span>\n\n<span class=\"token number\">12</span>:16:48 AM     IFACE   rxpck/s   txpck/s    rxkB/s    txkB/s   rxcmp/s   txcmp/s  rxmcst/s   %ifutil\n<span class=\"token number\">12</span>:16:49 AM      eth0  <span class=\"token number\">18763.00</span>   <span class=\"token number\">5032.00</span>  <span class=\"token number\">20686.42</span>    <span class=\"token number\">478.30</span>      <span class=\"token number\">0.00</span>      <span class=\"token number\">0.00</span>      <span class=\"token number\">0.00</span>      <span class=\"token number\">0.00</span>\n<span class=\"token number\">12</span>:16:49 AM        lo     <span class=\"token number\">14.00</span>     <span class=\"token number\">14.00</span>      <span class=\"token number\">1.36</span>      <span class=\"token number\">1.36</span>      <span class=\"token number\">0.00</span>      <span class=\"token number\">0.00</span>      <span class=\"token number\">0.00</span>      <span class=\"token number\">0.00</span>\n<span class=\"token number\">12</span>:16:49 AM   docker0      <span class=\"token number\">0.00</span>      <span class=\"token number\">0.00</span>      <span class=\"token number\">0.00</span>      <span class=\"token number\">0.00</span>      <span class=\"token number\">0.00</span>      <span class=\"token number\">0.00</span>      <span class=\"token number\">0.00</span>      <span class=\"token number\">0.00</span>\n\n<span class=\"token number\">12</span>:16:49 AM     IFACE   rxpck/s   txpck/s    rxkB/s    txkB/s   rxcmp/s   txcmp/s  rxmcst/s   %ifutil\n<span class=\"token number\">12</span>:16:50 AM      eth0  <span class=\"token number\">19763.00</span>   <span class=\"token number\">5101.00</span>  <span class=\"token number\">21999.10</span>    <span class=\"token number\">482.56</span>      <span class=\"token number\">0.00</span>      <span class=\"token number\">0.00</span>      <span class=\"token number\">0.00</span>      <span class=\"token number\">0.00</span>\n<span class=\"token number\">12</span>:16:50 AM        lo     <span class=\"token number\">20.00</span>     <span class=\"token number\">20.00</span>      <span class=\"token number\">3.25</span>      <span class=\"token number\">3.25</span>      <span class=\"token number\">0.00</span>      <span class=\"token number\">0.00</span>      <span class=\"token number\">0.00</span>      <span class=\"token number\">0.00</span>\n<span class=\"token number\">12</span>:16:50 AM   docker0      <span class=\"token number\">0.00</span>      <span class=\"token number\">0.00</span>      <span class=\"token number\">0.00</span>      <span class=\"token number\">0.00</span>      <span class=\"token number\">0.00</span>      <span class=\"token number\">0.00</span>      <span class=\"token number\">0.00</span>      <span class=\"token number\">0.00</span>\n^C</code></pre></div>\n<ul>\n<li>\n<p>ì´ ëª…ë ¹ì–´ë¥¼ í†µí•´ ë„¤íŠ¸ì›Œí¬ ì¸í„°í˜ì´ìŠ¤ ì²˜ë¦¬ëŸ‰ì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤.</p>\n<ul>\n<li><code class=\"language-text\">rxkB/s</code> ì™€ <code class=\"language-text\">txkB/s</code> ë¥¼ í†µí•´ ì‘ì—…ëŸ‰ì„ í™•ì¸í•˜ê³  í•œê³„ì¹˜ì— ë‹¤ë‹¤ëëŠ”ì§€ í™•ì¸í•  ìˆ˜ ìˆë‹¤.</li>\n<li>ìœ„ ì˜ˆì‹œë¥¼ ë³´ë©´ eth0 ëŠ” 22 Mbytes/s (176 Mbits/sec) ì´ë‹¤. (1 Gbit/sec ì œí•œ ë³´ë‹¤ ë‚®ì€ ìˆ˜ì¹˜ì´ë‹¤)</li>\n</ul>\n</li>\n<li><code class=\"language-text\">%ifutil</code> ì¹¼ëŸ¼ì„ í†µí•´ ë””ë°”ì´ìŠ¤ ì‚¬ìš©ë¥ ì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤. (full-duplexì¸ ê²½ìš° ì–‘ìª½ ë°©í–¥ì˜ ìµœëŒ€ê°’ì´ë‹¤) ì´ê²ƒì€ ì •í™•í•œ ìˆ˜ì¹˜ë¥¼ ì•Œê¸° ì–´ë µê³  ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” 0.00 ìˆ˜ì¹˜ë¥¼ ë³´ì´ê¸°ë„ í•œë‹¤.</li>\n</ul>\n<br>\n<h2 id=\"9-sar--n-tcpetcp-1\" style=\"position:relative;\"><a href=\"#9-sar--n-tcpetcp-1\" aria-label=\"9 sar  n tcpetcp 1 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>9. sar -n TCP,ETCP 1</h2>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ sar -n TCP,ETCP <span class=\"token number\">1</span>\nLinux <span class=\"token number\">3.13</span>.0-49-generic <span class=\"token punctuation\">(</span>titanclusters-xxxxx<span class=\"token punctuation\">)</span>  07/14/2015    _x86_64_    <span class=\"token punctuation\">(</span><span class=\"token number\">32</span> CPU<span class=\"token punctuation\">)</span>\n\n<span class=\"token number\">12</span>:17:19 AM  active/s passive/s    iseg/s    oseg/s\n<span class=\"token number\">12</span>:17:20 AM      <span class=\"token number\">1.00</span>      <span class=\"token number\">0.00</span>  <span class=\"token number\">10233.00</span>  <span class=\"token number\">18846.00</span>\n\n<span class=\"token number\">12</span>:17:19 AM  atmptf/s  estres/s retrans/s isegerr/s   orsts/s\n<span class=\"token number\">12</span>:17:20 AM      <span class=\"token number\">0.00</span>      <span class=\"token number\">0.00</span>      <span class=\"token number\">0.00</span>      <span class=\"token number\">0.00</span>      <span class=\"token number\">0.00</span>\n\n<span class=\"token number\">12</span>:17:20 AM  active/s passive/s    iseg/s    oseg/s\n<span class=\"token number\">12</span>:17:21 AM      <span class=\"token number\">1.00</span>      <span class=\"token number\">0.00</span>   <span class=\"token number\">8359.00</span>   <span class=\"token number\">6039.00</span>\n\n<span class=\"token number\">12</span>:17:20 AM  atmptf/s  estres/s retrans/s isegerr/s   orsts/s\n<span class=\"token number\">12</span>:17:21 AM      <span class=\"token number\">0.00</span>      <span class=\"token number\">0.00</span>      <span class=\"token number\">0.00</span>      <span class=\"token number\">0.00</span>      <span class=\"token number\">0.00</span>\n^C</code></pre></div>\n<ul>\n<li>\n<p>ì¤‘ìš”í•œ TCP ìˆ˜ì¹˜ì— ëŒ€í•´ì„œ ë³´ì—¬ì¤€ë‹¤.</p>\n<ol>\n<li>\n<p><strong>active/s</strong> </p>\n<ul>\n<li>ë¡œì»¬ì—ì„œ ì‹œì‘ëœ ì´ˆë‹¹ TCP ì»¤ë„¥ì…˜ ê°œìˆ˜ (<code class=\"language-text\">connect()</code>ë¥¼ ëª…ë ¹ì–´ë¡œ ì‹œì‘ëœ ì»¤ë„¥ì…˜)</li>\n</ul>\n</li>\n<li>\n<p><strong>passive/s</strong></p>\n<ul>\n<li>ë¦¬ëª¨íŠ¸ì—ì„œ ì‹œì‘ëœ ì´ˆë‹¹ TCP ì»¤ë„¥ì…˜ ê°œìˆ˜ (<code class=\"language-text\">accept()</code>ë¡œ ì—°ê²°ëœ ì»¤ë„¥ì…˜)</li>\n</ul>\n</li>\n<li>\n<p><strong>retrans/s</strong></p>\n<ul>\n<li>ì´ˆë‹¹ TCP ì¬ì „ì†¡ëŸ‰</li>\n</ul>\n</li>\n</ol>\n</li>\n<li>\n<p>activeì™€ passive ìˆ˜ëŠ” ì„œë²„ ë¶€í•˜ë¥¼ ëŒ€ëµì ìœ¼ë¡œ ì‚°ì¶œí•  ìˆ˜ ìˆëŠ” ì¢‹ì€ ìˆ˜ì¹˜ì´ë‹¤.</p>\n<ul>\n<li>ìƒˆë¡­ê²Œ ë“¤ì–´ì˜¨ passive ì»¤ë„¥ì…˜ ê°œìˆ˜ì™€ ë‚´ë³´ë‚´ì§€ê³  ìˆëŠ” active ì»¤ë„¥ì…˜ ê°œìˆ˜</li>\n<li>activeë¥¼ outbound, passiveì„ inbound ìˆ˜ì¹˜ë¡œ íŒë‹¨í•  ìˆ˜ ìˆìœ¼ë‚˜ ì •í™•íˆ ê·¸ë ‡ì§€ë§Œì€ ì•Šë‹¤. (<a href=\"http://localhost\">localhost</a>ì™€ localhost connectionì˜ ì°¨ì´ë¥¼ ê³ ë ¤í•´ë³´ë¼) <a href=\"%5Bhttps://velog.io/@lky9303/127.0.0.1-%EA%B3%BC-localhost%EC%9D%98-%EC%B0%A8%EC%9D%B4%5D(https://velog.io/@lky9303/127.0.0.1-%EA%B3%BC-localhost%EC%9D%98-%EC%B0%A8%EC%9D%B4)\">ë§í¬</a></li>\n</ul>\n</li>\n<li>\n<p>ë„¤íŠ¸ì›Œí¬ ì¬ì „ì†¡ëŸ‰ì€ ë„¤íŠ¸ì›Œí¬ í˜¹ì€ ì„œë²„ ì´ìŠˆ ì¼ ìˆ˜ ìˆë‹¤.</p>\n<ul>\n<li>ë„¤íŠ¸ì›Œí¬ ë¬¸ì œë¼ë©´ ë„¤íŠ¸ì›Œí¬ê°€ ì•ˆì •ì ì´ì§€ ì•Šì€ ë„¤íŠ¸ì›Œí¬ ì¼ ìˆ˜ ìˆë‹¤.</li>\n<li>í˜¹ì€ ì„œë²„ ê³¼ë¶€í™”ë¡œ ì¸í•´ íŒ¨í‚·ì´ ìœ ì‹¤ë˜ëŠ” ë¬¸ì œì¼ ìˆ˜ë„ ìˆë‹¤.</li>\n<li>ìœ„ ì˜ˆì‹œì—ì„œëŠ” ì´ˆë‹¹ 1ê°œì˜ TCP ì»¤ë„¥ì…˜ì´ ì¬ì „ì†¡ë˜ê³  ìˆë‹¤.</li>\n</ul>\n</li>\n</ul>\n<br>\n<h2 id=\"10-top\" style=\"position:relative;\"><a href=\"#10-top\" aria-label=\"10 top permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>10. top</h2>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token function\">top</span>\n<span class=\"token function\">top</span> - 00:15:40 up <span class=\"token number\">21</span>:56,  <span class=\"token number\">1</span> user,  load average: <span class=\"token number\">31.09</span>, <span class=\"token number\">29.87</span>, <span class=\"token number\">29.92</span>\nTasks: <span class=\"token number\">871</span> total,   <span class=\"token number\">1</span> running, <span class=\"token number\">868</span> sleeping,   <span class=\"token number\">0</span> stopped,   <span class=\"token number\">2</span> zombie\n%Cpu<span class=\"token punctuation\">(</span>s<span class=\"token punctuation\">)</span>: <span class=\"token number\">96.8</span> us,  <span class=\"token number\">0.4</span> sy,  <span class=\"token number\">0.0</span> ni,  <span class=\"token number\">2.7</span> id,  <span class=\"token number\">0.1</span> wa,  <span class=\"token number\">0.0</span> hi,  <span class=\"token number\">0.0</span> si,  <span class=\"token number\">0.0</span> st\nKiB Mem:  <span class=\"token number\">25190241</span>+total, <span class=\"token number\">24921688</span> used, <span class=\"token number\">22698073</span>+free,    <span class=\"token number\">60448</span> buffers\nKiB Swap:        <span class=\"token number\">0</span> total,        <span class=\"token number\">0</span> used,        <span class=\"token number\">0</span> free.   <span class=\"token number\">554208</span> cached Mem\n\n   PID <span class=\"token environment constant\">USER</span>      PR  NI    VIRT    RES    SHR S  %CPU %MEM     TIME+ COMMAND\n <span class=\"token number\">20248</span> root      <span class=\"token number\">20</span>   <span class=\"token number\">0</span>  <span class=\"token number\">0</span>.227t <span class=\"token number\">0</span>.012t  <span class=\"token number\">18748</span> S  <span class=\"token number\">3090</span>  <span class=\"token number\">5.2</span>  <span class=\"token number\">29812</span>:58 java\n  <span class=\"token number\">4213</span> root      <span class=\"token number\">20</span>   <span class=\"token number\">0</span> <span class=\"token number\">2722544</span>  <span class=\"token number\">64640</span>  <span class=\"token number\">44232</span> S  <span class=\"token number\">23.5</span>  <span class=\"token number\">0.0</span> <span class=\"token number\">233</span>:35.37 mesos-slave\n <span class=\"token number\">66128</span> titancl+  <span class=\"token number\">20</span>   <span class=\"token number\">0</span>   <span class=\"token number\">24344</span>   <span class=\"token number\">2332</span>   <span class=\"token number\">1172</span> R   <span class=\"token number\">1.0</span>  <span class=\"token number\">0.0</span>   <span class=\"token number\">0</span>:00.07 <span class=\"token function\">top</span>\n  <span class=\"token number\">5235</span> root      <span class=\"token number\">20</span>   <span class=\"token number\">0</span> <span class=\"token number\">38</span>.227g <span class=\"token number\">547004</span>  <span class=\"token number\">49996</span> S   <span class=\"token number\">0.7</span>  <span class=\"token number\">0.2</span>   <span class=\"token number\">2</span>:02.74 java\n  <span class=\"token number\">4299</span> root      <span class=\"token number\">20</span>   <span class=\"token number\">0</span> <span class=\"token number\">20</span>.015g <span class=\"token number\">2</span>.682g  <span class=\"token number\">16836</span> S   <span class=\"token number\">0.3</span>  <span class=\"token number\">1.1</span>  <span class=\"token number\">33</span>:14.42 java\n     <span class=\"token number\">1</span> root      <span class=\"token number\">20</span>   <span class=\"token number\">0</span>   <span class=\"token number\">33620</span>   <span class=\"token number\">2920</span>   <span class=\"token number\">1496</span> S   <span class=\"token number\">0.0</span>  <span class=\"token number\">0.0</span>   <span class=\"token number\">0</span>:03.82 init\n     <span class=\"token number\">2</span> root      <span class=\"token number\">20</span>   <span class=\"token number\">0</span>       <span class=\"token number\">0</span>      <span class=\"token number\">0</span>      <span class=\"token number\">0</span> S   <span class=\"token number\">0.0</span>  <span class=\"token number\">0.0</span>   <span class=\"token number\">0</span>:00.02 kthreadd\n     <span class=\"token number\">3</span> root      <span class=\"token number\">20</span>   <span class=\"token number\">0</span>       <span class=\"token number\">0</span>      <span class=\"token number\">0</span>      <span class=\"token number\">0</span> S   <span class=\"token number\">0.0</span>  <span class=\"token number\">0.0</span>   <span class=\"token number\">0</span>:05.35 ksoftirqd/0\n     <span class=\"token number\">5</span> root       <span class=\"token number\">0</span> -20       <span class=\"token number\">0</span>      <span class=\"token number\">0</span>      <span class=\"token number\">0</span> S   <span class=\"token number\">0.0</span>  <span class=\"token number\">0.0</span>   <span class=\"token number\">0</span>:00.00 kworker/0:0H\n     <span class=\"token number\">6</span> root      <span class=\"token number\">20</span>   <span class=\"token number\">0</span>       <span class=\"token number\">0</span>      <span class=\"token number\">0</span>      <span class=\"token number\">0</span> S   <span class=\"token number\">0.0</span>  <span class=\"token number\">0.0</span>   <span class=\"token number\">0</span>:06.94 kworker/u256:0\n     <span class=\"token number\">8</span> root      <span class=\"token number\">20</span>   <span class=\"token number\">0</span>       <span class=\"token number\">0</span>      <span class=\"token number\">0</span>      <span class=\"token number\">0</span> S   <span class=\"token number\">0.0</span>  <span class=\"token number\">0.0</span>   <span class=\"token number\">2</span>:38.05 rcu_sched</code></pre></div>\n<ul>\n<li><code class=\"language-text\">top</code> ëª…ë ¹ì–´ëŠ” ì´ì „ì— ë‹¤ë£¬ ë‹¤ë¥¸ ëª…ë ¹ì–´ë¡œ í™•ì¸í•  ìˆ˜ ìˆëŠ” ìˆ˜ì¹˜ë¥¼ ì „ë°˜ì ìœ¼ë¡œ í¬í•¨í•œ ì§€í‘œë“¤ì„ ë³´ì—¬ì¤€ë‹¤. ë•Œë¬¸ì— í¸ë¦¬í•˜ê²Œ ì‚¬ìš©ëœë‹¤.</li>\n<li><code class=\"language-text\">top</code> ëª…ë ¹ì–´ì˜ ë‹¨ì ì€ ì‹œê°„ì˜ íë¦„ì— ë”°ë¥¸ íŒ¨í„´ í™•ì¸ì´ ì–´ë µê³  ë‹¹ì‹œ ì „ë°˜ì ì¸ ì„œë²„ì˜ ìƒíƒœë§Œì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤ëŠ” ê²ƒì´ë‹¤. ì‹œê°„ì˜ íë¦„ì— ë”°ë¥¸ íŒ¨í„´ì„ í™•ì¸í•˜ê³  ì‹¶ë‹¤ë©´ <code class=\"language-text\">vmstat</code> í˜¹ì€ <code class=\"language-text\">pidstat</code> ìœ¼ë¡œ í™•ì¸í•  ìˆ˜ ìˆë‹¤. (rolling outputì„ ë³´ì—¬ì¤€ë‹¤)</li>\n</ul>\n <br>\n <br>\n<h2 id=\"-ëŠë‚€-ì \" style=\"position:relative;\"><a href=\"#-%EB%8A%90%EB%82%80-%EC%A0%90\" aria-label=\" ëŠë‚€ ì  permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ğŸŒ© ëŠë‚€ ì </h2>\n<ul>\n<li>í™•ì‹¤íˆ os ì— ëŒ€í•œ ì§€ì‹ì´ í•„ìš”í•œ ê²ƒì„ ëŠê¼ˆë‹¤. osì™€ ë„¤íŠ¸ì›Œí¬ ê³µë¶€ì™€ ë³‘í–‰í•˜ë©° ì§€í‘œë¥¼ ì‚´í”¼ë‹ˆ ì˜ë¯¸í•˜ëŠ” ë°”ë¥¼ ì˜ ì´í•´í•  ìˆ˜ ìˆì—ˆë‹¤.</li>\n<li>ì„œë²„ì˜ ë¶€í•˜ë¥¼ ì‚´í´ë³´ë ¤ë©´ í¬ê²Œ CPUë¶€í•˜, I/O ë””ë°”ì´ìŠ¤ ë¶€í•˜, ë„¤íŠ¸ì›Œí¬ ë¶€í•˜ë¥¼ í™•ì¸í•´ì•¼í•œë‹¤.</li>\n<li>ì–´í”Œë¦¬ì¼€ì´ì…˜ì„ êµ¬í˜„í•˜ê³  ì œëŒ€ë¡œ ì„œë¹„ìŠ¤ í•˜ê¸° ìœ„í•´ì„œëŠ” ì„œë²„ë¥¼ ì œëŒ€ë¡œ ëª¨ë‹ˆí„°ë§í•˜ê³  ë¯¸ë¦¬ ì–´ëŠ ì •ë„ë¥¼ ê°ë‹¹í•  ìˆ˜ ìˆëŠ”ì§€ í™•ì¸í•  ìˆ˜ ìˆì–´ì•¼ í•œë‹¤.</li>\n<li>ë˜í•œ ì§€í‘œë¥¼ ë³´ê³  ì–´ëŠ ë¶€ë¶„ì„ ê°œì„ í•˜ì—¬ ì„±ëŠ¥ì„ ê°œì„ ì‹œí‚¬ ìˆ˜ ìˆì„ì§€ë„ íŒë‹¨í•  ìˆ˜ ìˆì–´ì•¼ í•œë‹¤.</li>\n<li>ê²°êµ­ ê²½í—˜ì´ ë‹µì´ë‹¤â€¦!!</li>\n</ul>\n<br>\n<br>\n<p><strong>[ì°¸ê³ ìë£Œ]</strong></p>\n<ul>\n<li><a href=\"%5Bhttps://netflixtechblog.com/linux-performance-analysis-in-60-000-milliseconds-accc10403c55%5D(https://netflixtechblog.com/linux-performance-analysis-in-60-000-milliseconds-accc10403c55)\">[https://netflixtechblog.com/linux-performance-analysis-in-60-000-milliseconds-accc10403c55](https://netflixtechblog.com/linux-performance-analysis-in-60-000-milliseconds-accc10403c55)</a></li>\n</ul>\n<div class=\"table-of-contents\">\n<ul>\n<li><a href=\"#-intro\">ğŸ’¡ Intro</a></li>\n<li><a href=\"#1-uptime\">1. uptime</a></li>\n<li><a href=\"#2-dmesg--tail\">2. dmesg | tail</a></li>\n<li>\n<p><a href=\"#3-vmstat-1\">3. vmstat 1</a></p>\n<ul>\n<li><a href=\"#%EC%A4%91%EC%9A%94%ED%95%9C-%EC%B9%BC%EB%9F%BC\">ì¤‘ìš”í•œ ì¹¼ëŸ¼</a></li>\n</ul>\n</li>\n<li><a href=\"#4-mpstat--p-all-1\">4. mpstat -P ALL 1</a></li>\n<li><a href=\"#5-pidstat-1\">5. pidstat 1</a></li>\n<li><a href=\"#6-iostat--xz-1\">6. iostat -xz 1</a></li>\n<li><a href=\"#7-free--m\">7. free -m</a></li>\n<li><a href=\"#8-sar--n-dev-1\">8. sar -n DEV 1</a></li>\n<li><a href=\"#9-sar--n-tcpetcp-1\">9. sar -n TCP,ETCP 1</a></li>\n<li><a href=\"#10-top\">10. top</a></li>\n<li><a href=\"#-%EB%8A%90%EB%82%80-%EC%A0%90\">ğŸŒ© ëŠë‚€ ì </a></li>\n</ul>\n</div>","frontmatter":{"date":"October 15, 2021","title":"ë„·í”Œë¦­ìŠ¤ì—ì„œ 60000ms ë§Œì— ë¦¬ëˆ…ìŠ¤ ì„œë²„ ì„±ëŠ¥ì„ ì§„ë‹¨í•˜ëŠ” ë°©ë²• 10ê°€ì§€","categories":"ì›¹ ì„±ëŠ¥í…ŒìŠ¤íŠ¸","author":"ì½”ë‹¤","emoji":"ğŸ“ˆ"},"fields":{"slug":"/netflix-performance-analysis/"}},"prev":null,"site":{"siteMetadata":{"siteUrl":"https://yjksw.github.io","comments":{"utterances":{"repo":"yjksw/yjksw.github.io"}}}}},"pageContext":{"slug":"/jpa-default-batch-fetch-size-not-working/","nextSlug":"/netflix-performance-analysis/","prevSlug":""}},"staticQueryHashes":["1073350324","2938748437"]}