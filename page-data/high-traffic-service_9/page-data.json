{"componentChunkName":"component---src-templates-blog-template-js","path":"/high-traffic-service_9/","result":{"data":{"cur":{"id":"1b21dafe-9b1a-5544-819f-a2ccf487206e","html":"<blockquote>\n<p>다음은 웹 개발자를 위한 대규모 서비스를 지탱하는 기술을 읽고 정리한 내용입니다 🙌</p>\n</blockquote>\n<br>\n<h2 id=\"강의31-계층과-확장성\" style=\"position:relative;\"><a href=\"#%EA%B0%95%EC%9D%9831-%EA%B3%84%EC%B8%B5%EA%B3%BC-%ED%99%95%EC%9E%A5%EC%84%B1\" aria-label=\"강의31 계층과 확장성 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>[강의31] 계층과 확장성</h2>\n<h2 id=\"확장성에-대한-요구---서버-1대에서-처리할-수-있는-트래픽-한계\" style=\"position:relative;\"><a href=\"#%ED%99%95%EC%9E%A5%EC%84%B1%EC%97%90-%EB%8C%80%ED%95%9C-%EC%9A%94%EA%B5%AC---%EC%84%9C%EB%B2%84-1%EB%8C%80%EC%97%90%EC%84%9C-%EC%B2%98%EB%A6%AC%ED%95%A0-%EC%88%98-%EC%9E%88%EB%8A%94-%ED%8A%B8%EB%9E%98%ED%94%BD-%ED%95%9C%EA%B3%84\" aria-label=\"확장성에 대한 요구   서버 1대에서 처리할 수 있는 트래픽 한계 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>확장성에 대한 요구 - 서버 1대에서 처리할 수 있는 트래픽 한계</h2>\n<blockquote>\n<p>(업데이트가 필요한 정보이다)</p>\n</blockquote>\n<ul>\n<li>이 때 당시에 서버 한대로 처리할 수 있는 트래픽은 월 100만 PV 정도, 최고사양으로 100만 ~200만 까지도 감당할 수 있었다.</li>\n<li>수천 ~1만 건/분 정도의 요청을 처리할 수 있는 정도이다.</li>\n<li>더 대규모는 서버1대로 동작할 수 없다.</li>\n</ul>\n<h2 id=\"계층별-확장성\" style=\"position:relative;\"><a href=\"#%EA%B3%84%EC%B8%B5%EB%B3%84-%ED%99%95%EC%9E%A5%EC%84%B1\" aria-label=\"계층별 확장성 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>계층별 확장성</h2>\n<ul>\n<li>WAS는 상태를 가지고 있지 않으므로 단순히 대수를 늘리는 것으로 요청을 확장할 수 있다.</li>\n<li>로드밸런서에 새로운 서버를 추가하면 된다.</li>\n<li>DB는 다른 방법으로 (쓰기, 읽기가 나뉘어져 있으므로) 더 많은 요소들을 고려하면서 확장해야한다.</li>\n</ul>\n<br>\n<h2 id=\"강의32부하-파악-튜닝\" style=\"position:relative;\"><a href=\"#%EA%B0%95%EC%9D%9832%EB%B6%80%ED%95%98-%ED%8C%8C%EC%95%85-%ED%8A%9C%EB%8B%9D\" aria-label=\"강의32부하 파악 튜닝 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>[강의32]부하 파악, 튜닝</h2>\n<h2 id=\"부하-파악---관리화면-시각화의-중요성\" style=\"position:relative;\"><a href=\"#%EB%B6%80%ED%95%98-%ED%8C%8C%EC%95%85---%EA%B4%80%EB%A6%AC%ED%99%94%EB%A9%B4-%EC%8B%9C%EA%B0%81%ED%99%94%EC%9D%98-%EC%A4%91%EC%9A%94%EC%84%B1\" aria-label=\"부하 파악   관리화면 시각화의 중요성 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>부하 파악 - 관리화면 시각화의 중요성</h2>\n<ul>\n<li>각각의 서버에 관해서 그래프화 하는 것이 중요하다.</li>\n</ul>\n<h2 id=\"부하-측정을-위한-항목\" style=\"position:relative;\"><a href=\"#%EB%B6%80%ED%95%98-%EC%B8%A1%EC%A0%95%EC%9D%84-%EC%9C%84%ED%95%9C-%ED%95%AD%EB%AA%A9\" aria-label=\"부하 측정을 위한 항목 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>부하 측정을 위한 항목</h2>\n<ul>\n<li>Load Average, 메모리, CPU</li>\n<li>\n<p>Load Average</p>\n<ul>\n<li>대기중인 프로세스의 평균수치</li>\n<li>수치가 0에 가까울 수록 좋은 것이며, CPU 코어 수보다 작으면 양호한 것이다.</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"용도에-맞는-튜닝\" style=\"position:relative;\"><a href=\"#%EC%9A%A9%EB%8F%84%EC%97%90-%EB%A7%9E%EB%8A%94-%ED%8A%9C%EB%8B%9D\" aria-label=\"용도에 맞는 튜닝 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>용도에 맞는 튜닝</h2>\n<ul>\n<li>\n<p>책에서 나온 예시의 경우</p>\n<ul>\n<li>봇에게 응답하는 것은 응답시간보다 처리량이 중요하므로 처리량에 서버 리소스를 대부분을 쏟고 load average가 평균적으로 높다.</li>\n<li>사용자 응답은 응답 시간이 중요하므로 load average를 낮게 유지하고 프로세스를 쌓아두지 않고 잘 응답하는 것을 중요하게 여긴다.</li>\n</ul>\n</li>\n<li>어떤 상황에 어떤 튜닝을 하는지가 운영을 할 때 굉장히 중요하다.</li>\n</ul>\n<h2 id=\"ap-서버db-서버의-튜닝-정책과-서버-대수\" style=\"position:relative;\"><a href=\"#ap-%EC%84%9C%EB%B2%84db-%EC%84%9C%EB%B2%84%EC%9D%98-%ED%8A%9C%EB%8B%9D-%EC%A0%95%EC%B1%85%EA%B3%BC-%EC%84%9C%EB%B2%84-%EB%8C%80%EC%88%98\" aria-label=\"ap 서버db 서버의 튜닝 정책과 서버 대수 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>AP 서버/DB 서버의 튜닝 정책과 서버 대수</h2>\n<ul>\n<li>사용자용 DB 또한 전체적으로 부하를 낮게 유지함으로 응답을 빠르게 하는 것을 중요하게 생각한다.</li>\n<li>\n<p>상황마다 응답을 중요시할 지, 리소스를 소진하는 것을 중요하시 할지 결정하는 것이 중요하다.</p>\n<ul>\n<li>\n<p>리소스 소진이 정확히 뭘까?</p>\n<ul>\n<li>CPU utilization을 높게 유지 ?</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"서비스-규모와-튜닝\" style=\"position:relative;\"><a href=\"#%EC%84%9C%EB%B9%84%EC%8A%A4-%EA%B7%9C%EB%AA%A8%EC%99%80-%ED%8A%9C%EB%8B%9D\" aria-label=\"서비스 규모와 튜닝 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>서비스 규모와 튜닝</h2>\n<ul>\n<li>부하를 가시화하고 그래프를 겹쳐서 병목이나 이상현상을 파악할 수 있도록 하는 것이 중요하다.</li>\n</ul>\n<h2 id=\"확장성-확보\" style=\"position:relative;\"><a href=\"#%ED%99%95%EC%9E%A5%EC%84%B1-%ED%99%95%EB%B3%B4\" aria-label=\"확장성 확보 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>확장성 확보</h2>\n<ul>\n<li>로드밸러선나 파티셔닝(DB 분할)을 이용한다.</li>\n</ul>\n<div class=\"table-of-contents\">\n<ul>\n<li><a href=\"#%EA%B0%95%EC%9D%9831-%EA%B3%84%EC%B8%B5%EA%B3%BC-%ED%99%95%EC%9E%A5%EC%84%B1\">강의31 계층과 확장성</a></li>\n<li><a href=\"#%ED%99%95%EC%9E%A5%EC%84%B1%EC%97%90-%EB%8C%80%ED%95%9C-%EC%9A%94%EA%B5%AC---%EC%84%9C%EB%B2%84-1%EB%8C%80%EC%97%90%EC%84%9C-%EC%B2%98%EB%A6%AC%ED%95%A0-%EC%88%98-%EC%9E%88%EB%8A%94-%ED%8A%B8%EB%9E%98%ED%94%BD-%ED%95%9C%EA%B3%84\">확장성에 대한 요구 - 서버 1대에서 처리할 수 있는 트래픽 한계</a></li>\n<li><a href=\"#%EA%B3%84%EC%B8%B5%EB%B3%84-%ED%99%95%EC%9E%A5%EC%84%B1\">계층별 확장성</a></li>\n<li><a href=\"#%EA%B0%95%EC%9D%9832%EB%B6%80%ED%95%98-%ED%8C%8C%EC%95%85-%ED%8A%9C%EB%8B%9D\">강의32부하 파악, 튜닝</a></li>\n<li><a href=\"#%EB%B6%80%ED%95%98-%ED%8C%8C%EC%95%85---%EA%B4%80%EB%A6%AC%ED%99%94%EB%A9%B4-%EC%8B%9C%EA%B0%81%ED%99%94%EC%9D%98-%EC%A4%91%EC%9A%94%EC%84%B1\">부하 파악 - 관리화면 시각화의 중요성</a></li>\n<li><a href=\"#%EB%B6%80%ED%95%98-%EC%B8%A1%EC%A0%95%EC%9D%84-%EC%9C%84%ED%95%9C-%ED%95%AD%EB%AA%A9\">부하 측정을 위한 항목</a></li>\n<li><a href=\"#%EC%9A%A9%EB%8F%84%EC%97%90-%EB%A7%9E%EB%8A%94-%ED%8A%9C%EB%8B%9D\">용도에 맞는 튜닝</a></li>\n<li><a href=\"#ap-%EC%84%9C%EB%B2%84db-%EC%84%9C%EB%B2%84%EC%9D%98-%ED%8A%9C%EB%8B%9D-%EC%A0%95%EC%B1%85%EA%B3%BC-%EC%84%9C%EB%B2%84-%EB%8C%80%EC%88%98\">AP 서버/DB 서버의 튜닝 정책과 서버 대수</a></li>\n<li><a href=\"#%EC%84%9C%EB%B9%84%EC%8A%A4-%EA%B7%9C%EB%AA%A8%EC%99%80-%ED%8A%9C%EB%8B%9D\">서비스 규모와 튜닝</a></li>\n<li><a href=\"#%ED%99%95%EC%9E%A5%EC%84%B1-%ED%99%95%EB%B3%B4\">확장성 확보</a></li>\n</ul>\n</div>","excerpt":"다음은 웹 개발자를 위한 대규모 서비스를 지탱하는 기술을 읽고 정리한 내용입니다 🙌 강의31 계층과 확장성 확장성에 대한 요구 - 서버 1대에서 처리할 수 있는 트래픽 한계 (업데이트가 필요한 정보이다) 이 때 당시에 서버 한대로 처리할 수 있는 트래픽은 월 100만 PV 정도, 최고사양으로 100만 ~200만 까지도 감당할 수 있었다. 수천 ~1만 건/분 정도의 요청을 처리할 수 있는 정도이다. 더 대규모는 서버1대로 동작할 수 없다. 계층별 확장성 WAS는 상태를 가지고 있지 않으므로 단순히 대수를 늘리는 것으로 요청을 확장할 수 있다. 로드밸런서에 새로운 서버를 추가하면 된다. DB는 다른 방법으로 (쓰기, 읽기가 나뉘어져 있으므로) 더 많은 요소들을 고려하면서 확장해야한다. 강의32부하 파악, 튜닝 부하 파악 - 관리화면 시각화의 중요성 각각의 서버에 관해서 그래프화 하는 것이 중요하다. 부하 측정을 위한 항목 Load Average, 메모리, CPU Load Average…","frontmatter":{"date":"September 28, 2021","title":"대규모 서비스를 지탱하는 기술 - 확장성 확보에 필요한 사고방식","categories":"웹 인프라 책 성능테스트","author":"코다","emoji":"📚"},"fields":{"slug":"/high-traffic-service_9/"}},"next":{"id":"dd4edf24-d044-5bc5-9894-ec3e942fa726","html":"<blockquote>\n<p>다음은 웹 개발자를 위한 대규모 서비스를 지탱하는 기술을 읽고 정리한 내용입니다 🙌</p>\n</blockquote>\n<br>\n<h2 id=\"강의29-엔터프라이즈-vs-웹-서비스\" style=\"position:relative;\"><a href=\"#%EA%B0%95%EC%9D%9829-%EC%97%94%ED%84%B0%ED%94%84%EB%9D%BC%EC%9D%B4%EC%A6%88-vs-%EC%9B%B9-%EC%84%9C%EB%B9%84%EC%8A%A4\" aria-label=\"강의29 엔터프라이즈 vs 웹 서비스 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>[강의29] 엔터프라이즈 vs. 웹 서비스</h2>\n<h2 id=\"엔터프라이즈-vs-웹-서비스---응용범위로-보는-차이\" style=\"position:relative;\"><a href=\"#%EC%97%94%ED%84%B0%ED%94%84%EB%9D%BC%EC%9D%B4%EC%A6%88-vs-%EC%9B%B9-%EC%84%9C%EB%B9%84%EC%8A%A4---%EC%9D%91%EC%9A%A9%EB%B2%94%EC%9C%84%EB%A1%9C-%EB%B3%B4%EB%8A%94-%EC%B0%A8%EC%9D%B4\" aria-label=\"엔터프라이즈 vs 웹 서비스   응용범위로 보는 차이 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>엔터프라이즈 vs. 웹 서비스 - 응용범위로 보는 차이</h2>\n<h3 id=\"웹-서비스의-특징---엔터프라이즈와-비교\" style=\"position:relative;\"><a href=\"#%EC%9B%B9-%EC%84%9C%EB%B9%84%EC%8A%A4%EC%9D%98-%ED%8A%B9%EC%A7%95---%EC%97%94%ED%84%B0%ED%94%84%EB%9D%BC%EC%9D%B4%EC%A6%88%EC%99%80-%EB%B9%84%EA%B5%90\" aria-label=\"웹 서비스의 특징   엔터프라이즈와 비교 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>웹 서비스의 특징 - 엔터프라이즈와 비교</h3>\n<ul>\n<li>트래픽 - 엔터프라이즈에 대규모 트래픽이 일어날 일은 많이 없지만 웹 서비스에서는 대규모 트래픽이 일어나고는 한다.</li>\n<li>성장성 - 비즈니스와 연관된 엔터프라이즈는 급격히 성장하지는 않는다. 웹 서비스와 같은 경우는 폭팔적 성장이 가능하다.</li>\n<li>신뢰성 - 사람의 목숨이나 돈에 관련된 일이 많기 때문에 높은 신뢰성이 요구된다. 웹 서비스는 인명이나 돈과 깊게 관련 없는 경우가 더 많기 때문에 그정도의 신뢰성이 중요하지는 않다.</li>\n<li>\n<p>트랜잭션 - 신뢰성과 비슷한 맥락의 이야기지만 더 DB에 한정되서 이야기 한다.</p>\n<ul>\n<li>엔터프라이즈는 데이터의 정합성이 매우 중요하다. (은행에서 돈 예시)</li>\n<li>웹 서비스는 (블로그와 같이) 정합성이 일치하지 않아도 큰 문제가 생기지 않는다.</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"웹-서비스의-인프라---중요-3-포인트\" style=\"position:relative;\"><a href=\"#%EC%9B%B9-%EC%84%9C%EB%B9%84%EC%8A%A4%EC%9D%98-%EC%9D%B8%ED%94%84%EB%9D%BC---%EC%A4%91%EC%9A%94-3-%ED%8F%AC%EC%9D%B8%ED%8A%B8\" aria-label=\"웹 서비스의 인프라   중요 3 포인트 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>웹 서비스의 인프라 - 중요 3 포인트</h2>\n<ol>\n<li>\n<p>저비용 고효율 </p>\n<ul>\n<li>항상 trade-off가 있기 때문에 저비용을 고수하기 위해서는 희생되는 무언가가 있다.</li>\n<li>이때 100% 신뢰성을 위해 많은 비용을 치루기보다 비용을 낮춰서 효율을 추구하는 방향을 택한다.</li>\n</ul>\n</li>\n<li>\n<p>확장성이나 응답성 등의 설계를 중요시</p>\n<ul>\n<li>성장속도를 모르거나 서비스의 응답성이 중요한 경우가 많다.</li>\n<li>이때 신뢰성보다 장래를 위한 확장을 고려한 설계를 한다.</li>\n<li>즉, 대부분의 시간에 양호한 상태의 응답이 이루어질 수 있도록 하는 것</li>\n</ul>\n</li>\n<li>\n<p>바뀌는 서비스 사양에 유연하게 대응할 수 있어야한다. </p>\n<ul>\n<li>빠르게 바뀐 사양에 대해서 적용하고 배포할 수 있어야한다. 빠르게 변하는 시장이기 때문에 타이밍이 중요하다.</li>\n<li>또한 배포를 간편하고 빠르게, 처리중인 요청에 영향이 안가도록 하는 것도 중요하다. 문제가 생기면 바로 이전코드로 돌아갈 수 있어야한다.</li>\n</ul>\n</li>\n</ol>\n<br>\n<h2 id=\"강의30-클라우드-vs-자체구축-인프라\" style=\"position:relative;\"><a href=\"#%EA%B0%95%EC%9D%9830-%ED%81%B4%EB%9D%BC%EC%9A%B0%EB%93%9C-vs-%EC%9E%90%EC%B2%B4%EA%B5%AC%EC%B6%95-%EC%9D%B8%ED%94%84%EB%9D%BC\" aria-label=\"강의30 클라우드 vs 자체구축 인프라 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>[강의30] 클라우드 vs. 자체구축 인프라</h2>\n<h2 id=\"클라우드-컴퓨팅\" style=\"position:relative;\"><a href=\"#%ED%81%B4%EB%9D%BC%EC%9A%B0%EB%93%9C-%EC%BB%B4%ED%93%A8%ED%8C%85\" aria-label=\"클라우드 컴퓨팅 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>클라우드 컴퓨팅</h2>\n<ul>\n<li>Amazon EC2 같은 것들을 말한다.</li>\n<li>자체구축 인프라 vs. 클라우드 컴퓨터가 대두이다.</li>\n</ul>\n<h2 id=\"클라우드의-장단점\" style=\"position:relative;\"><a href=\"#%ED%81%B4%EB%9D%BC%EC%9A%B0%EB%93%9C%EC%9D%98-%EC%9E%A5%EB%8B%A8%EC%A0%90\" aria-label=\"클라우드의 장단점 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>클라우드의 장단점</h2>\n<ul>\n<li><strong>저가로 사용하면서 확장해갈 수 있다. 즉 확장성이 가장 큰 장점이다.</strong></li>\n<li>\n<p>단점</p>\n<ul>\n<li>각 클라우드 서비스마다의 독자적인 사양에 대응해야한다.</li>\n<li>각 클라우드 서비스에서 지원하고 있는 알고리즘 사양에 대해서 더 자세히 알아가야하며, 마음대로 커스텀하지 못하는 부분이 있을 수 있다.</li>\n<li>그냥 노드가 죽어버릴 수도 있다 (?옛날 이야기?)</li>\n</ul>\n</li>\n<li>소규모 프로젝트나 학생 사용하는 용도는 클라우드 컴퓨팅이 좋은 분야라고 하는데 현재는 거의 대세가 되어 버린 것 같다.</li>\n</ul>\n<h2 id=\"자체구축-인프라의-장점\" style=\"position:relative;\"><a href=\"#%EC%9E%90%EC%B2%B4%EA%B5%AC%EC%B6%95-%EC%9D%B8%ED%94%84%EB%9D%BC%EC%9D%98-%EC%9E%A5%EC%A0%90\" aria-label=\"자체구축 인프라의 장점 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>자체구축 인프라의 장점</h2>\n<ul>\n<li>\n<p>하드웨어 구성을 유연하게</p>\n<ul>\n<li>클라우드 컴퓨팅의 경우 사양에 상한선이 있는데 자체 구축인 경우 ssd를 도입하는 등 커스텀할 수 있다.</li>\n</ul>\n</li>\n<li>\n<p>서비스로부터 요청에 유연하게 대응</p>\n<ul>\n<li>대수를 늘릴 뿐만 아니라 네트워크적으로 가까운 구성을 갖추는 등등을 할 수 있다.</li>\n</ul>\n</li>\n<li>\n<p>병목현상을 제어할 수 있음</p>\n<ul>\n<li>병목 현상이 있을때 클라우드 컴퓨팅 회사의 사양이나 알고리즘에 의존적을 수 밖에 없지만 자체구축이면 자체적으로 제어가 가능하다.</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"자체구축-인프라와-수직통합-모델\" style=\"position:relative;\"><a href=\"#%EC%9E%90%EC%B2%B4%EA%B5%AC%EC%B6%95-%EC%9D%B8%ED%94%84%EB%9D%BC%EC%99%80-%EC%88%98%EC%A7%81%ED%86%B5%ED%95%A9-%EB%AA%A8%EB%8D%B8\" aria-label=\"자체구축 인프라와 수직통합 모델 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>자체구축 인프라와 수직통합 모델</h2>\n<ul>\n<li>\n<p>수직통합 모델이란?</p>\n<ul>\n<li>물리적 계층부터 서비스 설계까지 모든 것을 한 회사에세 구축하는 모델</li>\n</ul>\n</li>\n<li>\n<p>수평분산 모델이란?</p>\n<ul>\n<li>각 계층을 다른 기업이 시스템으로 제공하는 것</li>\n</ul>\n</li>\n</ul>\n<div class=\"table-of-contents\">\n<ul>\n<li><a href=\"#%EA%B0%95%EC%9D%9829-%EC%97%94%ED%84%B0%ED%94%84%EB%9D%BC%EC%9D%B4%EC%A6%88-vs-%EC%9B%B9-%EC%84%9C%EB%B9%84%EC%8A%A4\">강의29 엔터프라이즈 vs. 웹 서비스</a></li>\n<li>\n<p><a href=\"#%EC%97%94%ED%84%B0%ED%94%84%EB%9D%BC%EC%9D%B4%EC%A6%88-vs-%EC%9B%B9-%EC%84%9C%EB%B9%84%EC%8A%A4---%EC%9D%91%EC%9A%A9%EB%B2%94%EC%9C%84%EB%A1%9C-%EB%B3%B4%EB%8A%94-%EC%B0%A8%EC%9D%B4\">엔터프라이즈 vs. 웹 서비스 - 응용범위로 보는 차이</a></p>\n<ul>\n<li><a href=\"#%EC%9B%B9-%EC%84%9C%EB%B9%84%EC%8A%A4%EC%9D%98-%ED%8A%B9%EC%A7%95---%EC%97%94%ED%84%B0%ED%94%84%EB%9D%BC%EC%9D%B4%EC%A6%88%EC%99%80-%EB%B9%84%EA%B5%90\">웹 서비스의 특징 - 엔터프라이즈와 비교</a></li>\n</ul>\n</li>\n<li><a href=\"#%EC%9B%B9-%EC%84%9C%EB%B9%84%EC%8A%A4%EC%9D%98-%EC%9D%B8%ED%94%84%EB%9D%BC---%EC%A4%91%EC%9A%94-3-%ED%8F%AC%EC%9D%B8%ED%8A%B8\">웹 서비스의 인프라 - 중요 3 포인트</a></li>\n<li><a href=\"#%EA%B0%95%EC%9D%9830-%ED%81%B4%EB%9D%BC%EC%9A%B0%EB%93%9C-vs-%EC%9E%90%EC%B2%B4%EA%B5%AC%EC%B6%95-%EC%9D%B8%ED%94%84%EB%9D%BC\">강의30 클라우드 vs. 자체구축 인프라</a></li>\n<li><a href=\"#%ED%81%B4%EB%9D%BC%EC%9A%B0%EB%93%9C-%EC%BB%B4%ED%93%A8%ED%8C%85\">클라우드 컴퓨팅</a></li>\n<li><a href=\"#%ED%81%B4%EB%9D%BC%EC%9A%B0%EB%93%9C%EC%9D%98-%EC%9E%A5%EB%8B%A8%EC%A0%90\">클라우드의 장단점</a></li>\n<li><a href=\"#%EC%9E%90%EC%B2%B4%EA%B5%AC%EC%B6%95-%EC%9D%B8%ED%94%84%EB%9D%BC%EC%9D%98-%EC%9E%A5%EC%A0%90\">자체구축 인프라의 장점</a></li>\n<li><a href=\"#%EC%9E%90%EC%B2%B4%EA%B5%AC%EC%B6%95-%EC%9D%B8%ED%94%84%EB%9D%BC%EC%99%80-%EC%88%98%EC%A7%81%ED%86%B5%ED%95%A9-%EB%AA%A8%EB%8D%B8\">자체구축 인프라와 수직통합 모델</a></li>\n</ul>\n</div>","frontmatter":{"date":"September 28, 2021","title":"대규모 서비스를 지탱하는 기술 - 대규모 데이터 처리를 지탱하는 서버/인프라 입문","categories":"웹 인프라 책 성능테스트","author":"코다","emoji":"📚"},"fields":{"slug":"/high-traffic-service_8/"}},"prev":{"id":"d9ad1f0d-7dee-51fd-94d0-7a9efed85277","html":"<blockquote>\n<p>다음은 웹 개발자를 위한 대규모 서비스를 지탱하는 기술을 읽고 정리한 내용입니다 🙌</p>\n</blockquote>\n<br>\n<ul>\n<li>가동률을 100%로 끌어올려 시스템이 멈추지 않도록 하는 것</li>\n<li>여기서 중요한 것은 SPOF (Single Point of Failure) 단일장애점을 제거하는 것이다.</li>\n</ul>\n<h2 id=\"강의33-다중성-확보\" style=\"position:relative;\"><a href=\"#%EA%B0%95%EC%9D%9833-%EB%8B%A4%EC%A4%91%EC%84%B1-%ED%99%95%EB%B3%B4\" aria-label=\"강의33 다중성 확보 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>[강의33] 다중성 확보</h2>\n<h2 id=\"다중성-확보---was-서버\" style=\"position:relative;\"><a href=\"#%EB%8B%A4%EC%A4%91%EC%84%B1-%ED%99%95%EB%B3%B4---was-%EC%84%9C%EB%B2%84\" aria-label=\"다중성 확보   was 서버 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>다중성 확보 - WAS 서버</h2>\n<ul>\n<li>중요한 것은 여러대의 서버가 있을 때 몇대의 서버가 정지하더라도 서비스가 정상적으로 처리될 수 있는 상태를 만드는 것이다.</li>\n<li>\n<p>로드밸런서에서 failover를 처리할 수 있다.</p>\n<ul>\n<li>고장난 서버를 분리시키고 정상적인 서버로 요청을 보내는 것</li>\n<li>연결된 서버들에 대한 주기적인 헬스체크</li>\n</ul>\n</li>\n<li>\n<p>failback</p>\n<ul>\n<li>고장난 서버를 복구하고 다시 복귀시키는 것</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"다중성-확보---db-서버\" style=\"position:relative;\"><a href=\"#%EB%8B%A4%EC%A4%91%EC%84%B1-%ED%99%95%EB%B3%B4---db-%EC%84%9C%EB%B2%84\" aria-label=\"다중성 확보   db 서버 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>다중성 확보 - DB 서버</h2>\n<ul>\n<li>마찬가지로 여러대의 DB 서버가 있을 때 몇대가 고장나더라도 요청을 정상적으로 처리할 수 있어야 한다.</li>\n<li>\n<p>Master도 다중화 하면 좋다 → 하지만 어렵다.</p>\n<ul>\n<li>\n<p>책의 예시에서는 멀티 마스터를 사용하고 있다.</p>\n<ul>\n<li>양쪽이 서로 slave 관계이기 때문에 한쪽이 쓰기작업을 하면 다른 한쪽으로 전달 (양쪽이 서로 그렇게 작용)</li>\n</ul>\n</li>\n<li>\n<p>MySQL에서는 데이터가 전달되기 까지 몇 밀리초만큼의 딜레이가 있을 수 있다.</p>\n<ul>\n<li>엔터프라이즈에서는 이 부분이 굉장히 중요하게 작용하기 때문에 동기적으로 replication을 수행하여 슬레이브까지 쓰여진 이후에 클라이언트에게 결과를 반환한다.</li>\n</ul>\n</li>\n<li><strong>동기가 맞지 않은 리스크에 대해서는 어느정도 받아드리고 더 중요시하고 싶은 성능을 향상시키는 태도가 중요하다.</strong></li>\n</ul>\n</li>\n</ul>\n<h3 id=\"멀티-마스터\" style=\"position:relative;\"><a href=\"#%EB%A9%80%ED%8B%B0-%EB%A7%88%EC%8A%A4%ED%84%B0\" aria-label=\"멀티 마스터 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>멀티 마스터</h3>\n<ul>\n<li>\n<p>상호 간에 VRRP (Virtual Redundancy protocol) 로 감시하고 있으며 한쪽이 분리하면 본인을 Active 마스터로 승격시킨다.</p>\n<p align=\"center\"><img width=\"85%\" src=\"https://user-images.githubusercontent.com/63405904/136986115-6e607a5b-eafb-4ab3-997b-cf2010535ace.png\"><br>이미지 출처: 대용량 서비스를 지탱하는 기술</p>\n</li>\n<li>2대의 Master서버가 하나는 Active 하나는 Standby로 구성되어 있다.</li>\n<li>한쪽 서버가 다운되면 다른 쪽이 Master로 승격된다. 다운된 서버가 복구되면 다시 원래 역할로 돌아온다.</li>\n<li>\n<p>외부에서 Active 마스터 서버를 알고 있기 위해서 가장 IP를 부여한다.</p>\n<ul>\n<li>즉 2대의 서버에 부여된 IP 이외에 Active 한 서버에 부여되는 추가 가상 IP가 있는 것이다.</li>\n<li>따라서 동일한 IP 주소로 계속 요청을 보내기 때문에 마스터 서버간의 전환이 외부에서는 보이지 않는다.</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"다중성-확보---스토리지-서버\" style=\"position:relative;\"><a href=\"#%EB%8B%A4%EC%A4%91%EC%84%B1-%ED%99%95%EB%B3%B4---%EC%8A%A4%ED%86%A0%EB%A6%AC%EC%A7%80-%EC%84%9C%EB%B2%84\" aria-label=\"다중성 확보   스토리지 서버 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>다중성 확보 - 스토리지 서버</h2>\n<ul>\n<li>분산 파일 시스템을 활용할 수 있다.</li>\n<li>큰 파일을 분할하여 저장하기도 하고, 하나의 파일을 하나로 취급하여 여러 곳에 분산하여 저장한 메타 데이터를 관리하는 형태로 분산하기도 한다.</li>\n</ul>\n<br>\n<h2 id=\"강의34-시스템-안정화\" style=\"position:relative;\"><a href=\"#%EA%B0%95%EC%9D%9834-%EC%8B%9C%EC%8A%A4%ED%85%9C-%EC%95%88%EC%A0%95%ED%99%94\" aria-label=\"강의34 시스템 안정화 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>[강의34] 시스템 안정화</h2>\n<h2 id=\"시스템-안정화를-위한-상반관계\" style=\"position:relative;\"><a href=\"#%EC%8B%9C%EC%8A%A4%ED%85%9C-%EC%95%88%EC%A0%95%ED%99%94%EB%A5%BC-%EC%9C%84%ED%95%9C-%EC%83%81%EB%B0%98%EA%B4%80%EA%B3%84\" aria-label=\"시스템 안정화를 위한 상반관계 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>시스템 안정화를 위한 상반관계</h2>\n<ul>\n<li>\n<p>시스템 안정화는 자원효율과 상반관계이다.</p>\n<ul>\n<li>메모리를 빠듯하게 튜닝했을 때 장애가 일어날 수 있다.</li>\n<li>\n<p>CPU를 한계에 다다를 정도로 사용하면 장애가 발생할 수 있다.</p>\n<ul>\n<li>서버의 대수를 줄일 수 있지만, 서버 중 1대가 장애가 나면 나머지 CPU에 여유공간이 없어서 처리능력이 부족해져서 요청을 처리하지 못하게 된다.</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>시스템 안정화는 속도와 상반관계이다.</li>\n<li>안정성을 확보하기 위해 CPU와 메모리에 여유공간을 주고 사용해야한다.</li>\n</ul>\n<h2 id=\"시스템-불안정-요인\" style=\"position:relative;\"><a href=\"#%EC%8B%9C%EC%8A%A4%ED%85%9C-%EB%B6%88%EC%95%88%EC%A0%95-%EC%9A%94%EC%9D%B8\" aria-label=\"시스템 불안정 요인 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>시스템 불안정 요인</h2>\n<h3 id=\"기능추가-메모리-누수\" style=\"position:relative;\"><a href=\"#%EA%B8%B0%EB%8A%A5%EC%B6%94%EA%B0%80-%EB%A9%94%EB%AA%A8%EB%A6%AC-%EB%88%84%EC%88%98\" aria-label=\"기능추가 메모리 누수 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>기능추가, 메모리 누수</h3>\n<ul>\n<li>새로운 기능이 무거워서 부하가 일어나 서버 다운</li>\n<li>메모리 누수가 시간이 지날수록 쌓여서 스왑을 사용하며 부하가 증가</li>\n</ul>\n<h3 id=\"지뢰\" style=\"position:relative;\"><a href=\"#%EC%A7%80%EB%A2%B0\" aria-label=\"지뢰 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>지뢰</h3>\n<ul>\n<li>특정 url을 읽으면 응답이 오지 않아서 장애의 요인이 되는 것</li>\n<li>무한루프나 메모리 누수인 경우가 많다 → 비정상적으로 메모리를 소비하는 것</li>\n<li>애초에 지뢰를 없애는 것도 중요하지만 그것을 어렵기 때문에 밟더라도 치명적인 문제가 되지 않도록 설계하는 것이 중요하다.</li>\n</ul>\n<h3 id=\"사용자-액세스-패턴\" style=\"position:relative;\"><a href=\"#%EC%82%AC%EC%9A%A9%EC%9E%90-%EC%95%A1%EC%84%B8%EC%8A%A4-%ED%8C%A8%ED%84%B4\" aria-label=\"사용자 액세스 패턴 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>사용자 액세스 패턴</h3>\n<ul>\n<li>어떤 특정 사이트에 집중적으로 사용자 접속이 일어나서 다운되는 경우</li>\n</ul>\n<h3 id=\"데이터량-증가\" style=\"position:relative;\"><a href=\"#%EB%8D%B0%EC%9D%B4%ED%84%B0%EB%9F%89-%EC%A6%9D%EA%B0%80\" aria-label=\"데이터량 증가 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>데이터량 증가</h3>\n<ul>\n<li>데이터 증가로 부하가 일어나는 경우</li>\n</ul>\n<h3 id=\"외부연계-추가\" style=\"position:relative;\"><a href=\"#%EC%99%B8%EB%B6%80%EC%97%B0%EA%B3%84-%EC%B6%94%EA%B0%80\" aria-label=\"외부연계 추가 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>외부연계 추가</h3>\n<ul>\n<li>외부 모듈이 다운되는 경우</li>\n<li>그렇더라도 서비스가 영향을 받지않고 충분히 동작하도록 설계하는 것이 중요</li>\n</ul>\n<h3 id=\"메모리-hdd-장애-nic-장애\" style=\"position:relative;\"><a href=\"#%EB%A9%94%EB%AA%A8%EB%A6%AC-hdd-%EC%9E%A5%EC%95%A0-nic-%EC%9E%A5%EC%95%A0\" aria-label=\"메모리 hdd 장애 nic 장애 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>메모리, HDD 장애, NIC 장애</h3>\n<ul>\n<li>하드웨어가 능력의 저하의 원인이 될 수 있지만 치명적인 문제가 되지 않도록 하는 것이 중요하다.</li>\n<li>헬스체크로 미리 체크하여 문제가 생긴 경우 요청을 우회하는 것이 중요하다.</li>\n</ul>\n<br>\n<h2 id=\"강의35-시스템-안정화-대책\" style=\"position:relative;\"><a href=\"#%EA%B0%95%EC%9D%9835-%EC%8B%9C%EC%8A%A4%ED%85%9C-%EC%95%88%EC%A0%95%ED%99%94-%EB%8C%80%EC%B1%85\" aria-label=\"강의35 시스템 안정화 대책 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>[강의35] 시스템 안정화 대책</h2>\n<h2 id=\"실제-안정화-대책---적절한-버퍼-유지와-불안정-요인-제거\" style=\"position:relative;\"><a href=\"#%EC%8B%A4%EC%A0%9C-%EC%95%88%EC%A0%95%ED%99%94-%EB%8C%80%EC%B1%85---%EC%A0%81%EC%A0%88%ED%95%9C-%EB%B2%84%ED%8D%BC-%EC%9C%A0%EC%A7%80%EC%99%80-%EB%B6%88%EC%95%88%EC%A0%95-%EC%9A%94%EC%9D%B8-%EC%A0%9C%EA%B1%B0\" aria-label=\"실제 안정화 대책   적절한 버퍼 유지와 불안정 요인 제거 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>실제 안정화 대책 - 적절한 버퍼 유지와 불안정 요인 제거</h2>\n<ul>\n<li>적잘한 버퍼 유지를 위해 7할 정도로 운용을 한다. 즉 70%를 상한선으로 정하여 넘어가는 경우 서버를 추가하거나 메모리를 추가하는 것</li>\n<li>불안정 요인을 제거하기 위해 SQL 부하대책, 메모리 누수 줄이기, 비정작 동식 자율제어 등을 한다.</li>\n</ul>\n<h3 id=\"sql-부하-대책\" style=\"position:relative;\"><a href=\"#sql-%EB%B6%80%ED%95%98-%EB%8C%80%EC%B1%85\" aria-label=\"sql 부하 대책 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>SQL 부하 대책</h3>\n<ul>\n<li>부하나 높아지는 쿼리를 날리지 않도록 하는 것이 중요하다.</li>\n<li>개발자는 본인이 보내는 쿼리를 파악하여 부하가 높은 쿼리를 발행할 경우 그 용도의 DB를 따로 준비하여 그곳으로 SQL를 날리도록 한다.</li>\n</ul>\n<h3 id=\"이상-동작-시-자율제어\" style=\"position:relative;\"><a href=\"#%EC%9D%B4%EC%83%81-%EB%8F%99%EC%9E%91-%EC%8B%9C-%EC%9E%90%EC%9C%A8%EC%A0%9C%EC%96%B4\" aria-label=\"이상 동작 시 자율제어 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>이상 동작 시 자율제어</h3>\n<ul>\n<li>\n<p>자동 DoS 판정</p>\n<ul>\n<li>다수의 요청이 오는 경우 에러 처리</li>\n</ul>\n</li>\n<li>\n<p>자동 재시작</p>\n<ul>\n<li>리소시를 지나치게 사용했다면 서버를 재시작한다.</li>\n</ul>\n</li>\n<li>\n<p>자동 쿼리제거</p>\n<ul>\n<li>소요시간이 긴 SQL을 Kill 하도록 함</li>\n<li>특정 시간마다 체크하여 소요시간이 긴 쿼리를 kill 한다.</li>\n</ul>\n</li>\n<li>자율제어를 지나치게 잘 해놓으면 문제가 있어도 어플리케이션이 어느정도 잘 동작하게 된다. 이러면 문제를 알아채지 못해서 본질적인 문제가 해결되지 않을수도 있다는 것을 기억해야한다.</li>\n<li>자율제어는 잠정적인 해법이다.</li>\n</ul>\n<div class=\"table-of-contents\">\n<ul>\n<li><a href=\"#%EA%B0%95%EC%9D%9833-%EB%8B%A4%EC%A4%91%EC%84%B1-%ED%99%95%EB%B3%B4\">강의33 다중성 확보</a></li>\n<li><a href=\"#%EB%8B%A4%EC%A4%91%EC%84%B1-%ED%99%95%EB%B3%B4---was-%EC%84%9C%EB%B2%84\">다중성 확보 - WAS 서버</a></li>\n<li>\n<p><a href=\"#%EB%8B%A4%EC%A4%91%EC%84%B1-%ED%99%95%EB%B3%B4---db-%EC%84%9C%EB%B2%84\">다중성 확보 - DB 서버</a></p>\n<ul>\n<li><a href=\"#%EB%A9%80%ED%8B%B0-%EB%A7%88%EC%8A%A4%ED%84%B0\">멀티 마스터</a></li>\n</ul>\n</li>\n<li><a href=\"#%EB%8B%A4%EC%A4%91%EC%84%B1-%ED%99%95%EB%B3%B4---%EC%8A%A4%ED%86%A0%EB%A6%AC%EC%A7%80-%EC%84%9C%EB%B2%84\">다중성 확보 - 스토리지 서버</a></li>\n<li><a href=\"#%EA%B0%95%EC%9D%9834-%EC%8B%9C%EC%8A%A4%ED%85%9C-%EC%95%88%EC%A0%95%ED%99%94\">강의34 시스템 안정화</a></li>\n<li><a href=\"#%EC%8B%9C%EC%8A%A4%ED%85%9C-%EC%95%88%EC%A0%95%ED%99%94%EB%A5%BC-%EC%9C%84%ED%95%9C-%EC%83%81%EB%B0%98%EA%B4%80%EA%B3%84\">시스템 안정화를 위한 상반관계</a></li>\n<li>\n<p><a href=\"#%EC%8B%9C%EC%8A%A4%ED%85%9C-%EB%B6%88%EC%95%88%EC%A0%95-%EC%9A%94%EC%9D%B8\">시스템 불안정 요인</a></p>\n<ul>\n<li><a href=\"#%EA%B8%B0%EB%8A%A5%EC%B6%94%EA%B0%80-%EB%A9%94%EB%AA%A8%EB%A6%AC-%EB%88%84%EC%88%98\">기능추가, 메모리 누수</a></li>\n<li><a href=\"#%EC%A7%80%EB%A2%B0\">지뢰</a></li>\n<li><a href=\"#%EC%82%AC%EC%9A%A9%EC%9E%90-%EC%95%A1%EC%84%B8%EC%8A%A4-%ED%8C%A8%ED%84%B4\">사용자 액세스 패턴</a></li>\n<li><a href=\"#%EB%8D%B0%EC%9D%B4%ED%84%B0%EB%9F%89-%EC%A6%9D%EA%B0%80\">데이터량 증가</a></li>\n<li><a href=\"#%EC%99%B8%EB%B6%80%EC%97%B0%EA%B3%84-%EC%B6%94%EA%B0%80\">외부연계 추가</a></li>\n<li><a href=\"#%EB%A9%94%EB%AA%A8%EB%A6%AC-hdd-%EC%9E%A5%EC%95%A0-nic-%EC%9E%A5%EC%95%A0\">메모리, HDD 장애, NIC 장애</a></li>\n</ul>\n</li>\n<li><a href=\"#%EA%B0%95%EC%9D%9835-%EC%8B%9C%EC%8A%A4%ED%85%9C-%EC%95%88%EC%A0%95%ED%99%94-%EB%8C%80%EC%B1%85\">강의35 시스템 안정화 대책</a></li>\n<li>\n<p><a href=\"#%EC%8B%A4%EC%A0%9C-%EC%95%88%EC%A0%95%ED%99%94-%EB%8C%80%EC%B1%85---%EC%A0%81%EC%A0%88%ED%95%9C-%EB%B2%84%ED%8D%BC-%EC%9C%A0%EC%A7%80%EC%99%80-%EB%B6%88%EC%95%88%EC%A0%95-%EC%9A%94%EC%9D%B8-%EC%A0%9C%EA%B1%B0\">실제 안정화 대책 - 적절한 버퍼 유지와 불안정 요인 제거</a></p>\n<ul>\n<li><a href=\"#sql-%EB%B6%80%ED%95%98-%EB%8C%80%EC%B1%85\">SQL 부하 대책</a></li>\n<li><a href=\"#%EC%9D%B4%EC%83%81-%EB%8F%99%EC%9E%91-%EC%8B%9C-%EC%9E%90%EC%9C%A8%EC%A0%9C%EC%96%B4\">이상 동작 시 자율제어</a></li>\n</ul>\n</li>\n</ul>\n</div>","frontmatter":{"date":"September 28, 2021","title":"대규모 서비스를 지탱하는 기술 - 다중성 확보, 시스템 안정화","categories":"웹 인프라 책 성능테스트","author":"코다","emoji":"📚"},"fields":{"slug":"/high-traffic-service_10/"}},"site":{"siteMetadata":{"siteUrl":"https://yjksw.github.io","comments":{"utterances":{"repo":"yjksw/yjksw.github.io"}}}}},"pageContext":{"slug":"/high-traffic-service_9/","nextSlug":"/high-traffic-service_8/","prevSlug":"/high-traffic-service_10/"}},"staticQueryHashes":["1073350324","2938748437"]}