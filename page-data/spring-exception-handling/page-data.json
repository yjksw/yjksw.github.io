{
    "componentChunkName": "component---src-templates-blog-template-js",
    "path": "/spring-exception-handling/",
    "result": {"data":{"cur":{"id":"debf7ec4-ca5a-5118-ab72-01b5b73f51e7","html":"<h2 id=\"spring-boot\" style=\"position:relative;\"><a href=\"#spring-boot\" aria-label=\"spring boot permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Spring Boot</h2>\n<p>Spring boot ìì²´ì—ì„œ í•¸ë“¤ë§ ë˜ì§€ ì•Šì€ error ì— ëŒ€í•œ ëŒ€ë¹„ì±…ì„ ë§ˆë ¨í•´ ë‘ì—ˆë‹¤.</p>\n<ul>\n<li>\n<p>ë¨¼ì €, Spring boot ìì²´ì—ì„œ <code class=\"language-text\">/error</code> ì— ëŒ€í•œ ë§¤í•‘ì„ ì°¾ì•„ì„œ í•´ë‹¹ URLì— ëŒ€í•´ì„œ ë™ì¼í•œ ì´ë¦„ì„ ê°€ì§„ <code class=\"language-text\">error</code> ë·°ë¥¼ ë§¤í•‘ í•œë‹¤. í•´ë‹¹ ë·°ëŠ” <code class=\"language-text\">error.html</code> ì„ ë°˜í™˜í•œë‹¤. (í•´ë‹¹ ë·°ëŠ”  Thymeleaf templateì¸ë°, ë§Œì¼ JSPë¥¼ ì‚¬ìš©í•œë‹¤ë©´ <code class=\"language-text\">error.jsp</code>ë¥¼ ë°˜í™˜í•˜ë„ë¡ <code class=\"language-text\">InternalResourceViewResolver</code>ì—ì„œ ë³€ê²½í•  ìˆ˜ ìˆë‹¤) ì‹¤ì§ˆì ì¸ ë§¤í•‘ì€ ViewResolverì—ì„œ ë‹´ë‹¹í•œë‹¤.</p>\n</li>\n<li>\n<p>ë§Œì¼ <code class=\"language-text\">/error</code>ì— ëŒ€í•´ ê·¸ ì–´ë– í•œ view-resolverë„ ë§¤í•‘ì´ ë˜ì–´ ìˆì§€ ì•Šë‹¤ë©´ spring bootëŠ” ë‚´ë¶€ì ìœ¼ë¡œ ê°€ì§€ê³  ìˆëŠ” ëŒ€ì²´ ì—ëŸ¬ í˜ì´ì§€ì¸ â€œWhitelabel Error Pageâ€ë¥¼ ê°€ì§€ê³  ìˆë‹¤.</p>\n<p>ì´ë•Œ ë§Œì¼ RESTful requestì— ëŒ€í•œ ì‘ë‹µì´ë¼ë©´ Spring bootëŠ” ìì²´ì ì¸ JSON í˜•íƒœë¡œ â€œWhitelabel Error Pageâ€ì˜ ì‘ë‹µì„ ë°›ì€ error ì •ë³´ë¥¼ ë°˜í™˜í•œë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token punctuation\">{</span><span class=\"token string\">\"timestamp\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"2018-04-11T05:56:03.845+0000\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"status\"</span><span class=\"token operator\">:</span><span class=\"token number\">404</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"error\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"Not Found\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"message\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"No message available\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"path\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"/no-such-page\"</span><span class=\"token punctuation\">}</span></code></pre></div>\n</li>\n<li>\n<p>Spring bootëŠ” ì»¨í…Œì´ë„ˆì— ëŒ€í•œ ë””í´íŠ¸ error-page ë˜í•œ êµ¬ì¶•í•´ë†“ì•˜ë‹¤. ë§Œì¼ ì˜ˆì™¸ê°€ Spring MVC ë°–ì—ì„œ ë°œìƒí–ˆë”ë¼ë„(ex. servlet Filter) ì—¬ì „íˆ Spring Bootì— ëŒ€ë¹„ë˜ì–´ ìˆëŠ” error pageì— ë¦¬í¬íŠ¸ ë˜ì–´ ë°˜í™˜ëœë‹¤.</p>\n</li>\n</ul>\n<br>\n<h2 id=\"exception-handling-ë™ì‘ì›ë¦¬\" style=\"position:relative;\"><a href=\"#exception-handling-%EB%8F%99%EC%9E%91%EC%9B%90%EB%A6%AC\" aria-label=\"exception handling ë™ì‘ì›ë¦¬ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Exception Handling ë™ì‘ì›ë¦¬</h2>\n<br>\n<h3 id=\"handlerexceptionresolverinterface\" style=\"position:relative;\"><a href=\"#handlerexceptionresolverinterface\" aria-label=\"handlerexceptionresolverinterface permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>HandlerExceptionResolver(interface)</h3>\n<p><code class=\"language-text\">DispatcherServlet</code>ì˜ application contextì— ì„ ì–¸ë˜ì–´ ìˆëŠ” Spring beanì˜ ì˜ˆì™¸ë“¤ì€(Spring MVC system ë‚´ì—ì„œ ë°œìƒí•œ ê²½ìš°ë“¤) <code class=\"language-text\">HandlerExceptionResolver</code>ì„ êµ¬í˜„í•˜ì—¬ interceptë¥¼ í†µí•´ í•¸ë“¤ë§ ëœë‹¤. ì¦‰, Controllerì—ì„œ ì—ì™¸ë¥¼ í•¸ë“¤ë§í•˜ì§€ ì•ŠëŠ”ë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token keyword\">public</span> <span class=\"token keyword\">interface</span> <span class=\"token class-name\">HandlerExceptionResolver</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token class-name\">ModelAndView</span> <span class=\"token function\">resolveException</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">HttpServletRequest</span> request<span class=\"token punctuation\">,</span> \n            <span class=\"token class-name\">HttpServletResponse</span> response<span class=\"token punctuation\">,</span> <span class=\"token class-name\">Object</span> handler<span class=\"token punctuation\">,</span> <span class=\"token class-name\">Exception</span> ex<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>ìœ„ ì½”ë“œì—ì„œ <code class=\"language-text\">handler</code> ëŠ” í•´ë‹¹ ì˜ˆì™¸ê°€ ë°œìƒí•œ controllerë¥¼ ë§í•œë‹¤.</p>\n<p>MVCëŠ” ê¸°ë³¸ì ì€ 3ê°€ì§€ resolversë¥¼ ìƒì„±í•œë‹¤.</p>\n<ol>\n<li>\n<p><code class=\"language-text\">ExceptionHandlerExceptionResolver</code></p>\n<p>ì˜ˆì™¸ë“¤ì„ ì í•©í•œ <code class=\"language-text\">@ExceptionHander</code> ì–´ë…¸í…Œì´ì…˜ì´ ë¶™ì€ ë©”ì†Œë“œì— ë§¤ì¹­í•œë‹¤. handler(controller)ì™€ controller-advice ë‘ê°€ì§€ ëª¨ë‘ ê³ ë ¤í•œë‹¤.</p>\n</li>\n<li>\n<p><code class=\"language-text\">ResponseStatusExceptionResolver</code></p>\n<p>ì²˜ë¦¬ë˜ì§€ ì•Šì€ ì˜ˆì™¸ë“¤ ì¤‘ <code class=\"language-text\">@ResponseStatus</code>ê°€ ë¶™ì€ ê²ƒë“¤ì„ í™•ì¸í•œë‹¤.</p>\n</li>\n<li>\n<p><code class=\"language-text\">DefaultHandlerExceptionResolver</code></p>\n<p>ê¸°ë³¸ Spring Exceptionsë¥¼ Http Status Codesë¡œ ë³€ê²½í•˜ëŠ” ì‘ì—…ì„ í•œë‹¤.(MVC ë‚´ë¶€ì ì¸ ë¶€ë¶„)</p>\n</li>\n</ol>\n<p>ìœ„ 3ê°€ì§€ resolversë“¤ì€ ì²´ì´ë‹ ë˜ì–´ ìœ„ ìˆœì„œëŒ€ë¡œ ì²˜ë¦¬ë˜ëŠ”ë° Springì´ ë‚´ë¶€ì ìœ¼ë¡œ í•´ë‹¹ ì¼ì„ ì²˜ë¦¬í•˜ëŠ” <code class=\"language-text\">HandlerExceptionResolverComposite</code> ë¹ˆì„ ìƒì„±í•˜ì—¬ ì²˜ë¦¬í•˜ë„ë¡ í•œë‹¤.</p>\n<br>\n<h3 id=\"simplemappingexceptionresolver\" style=\"position:relative;\"><a href=\"#simplemappingexceptionresolver\" aria-label=\"simplemappingexceptionresolver permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>SimpleMappingExceptionResolver</h3>\n<p>Springì€ ìì²´ì ìœ¼ë¡œ ìœ„ <code class=\"language-text\">HandlerExceptionResolver</code> êµ¬í˜„ì²´ì¸ <code class=\"language-text\">SimpleMappingExceptionResolver</code>ë¥¼ ì œê³µí•˜ê³  ëŒ€ë¶€ë¶„ì˜ ì–´í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ ì‚¬ìš©ë˜ê³  ìˆë‹¤. í•´ë‹¹ ë¦¬ì¡¸ë²„ì—ì„œëŠ” ë‹¤ìŒê³¼ ê°™ì€ ê²ƒë“¤ì„ ê²°ì •í•˜ì—¬ ì²˜ë¦¬í•  ìˆ˜ ìˆë‹¤.</p>\n<ul>\n<li>Exception í´ë˜ìŠ¤ë¥¼ ë·°ì— ë§¤í•‘</li>\n<li>ì•„ë¬´ ê³³ì—ì„œë„ ì²˜ë¦¬ë˜ì§€ ì•Šì€ ì˜ˆì™¸ì— ëŒ€í•œ ê¸°ë³¸(default) error pageë¥¼ ì„¤ì •</li>\n<li>Modelì— ì¶”ê°€ë˜ëŠ” <code class=\"language-text\">exception</code> ì†ì„±ì˜ ì´ë¦„ì„ ì„¤ì •í•œë‹¤.(Viewì—ì„œ ì¶”í›„ ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡) ê¸°ë³¸ê°’ì€ â€œexceptionâ€ ì´ë‹¤. <code class=\"language-text\">@ExceptionHandler</code>ì—ì„œ ë°˜í™˜ë˜ëŠ” ë·°ëŠ” exception ìì²´ì— ëŒ€í•œ ì ‘ê·¼ ê¶Œí•œì´ ì—†ì§€ë§Œ <code class=\"language-text\">SimpleMappingExceptionResolver</code>ì— ì •ì˜ë˜ì–´ ìˆëŠ” ë·°ëŠ” ì ‘ê·¼ ê¶Œí•œì´ ìˆìœ¼ë¯€ë¡œ ì—¬ê¸°ì„œ ì„¤ì •í•˜ë„ë¡ ë˜ì–´ìˆë‹¤.</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@Configuration</span>\n<span class=\"token annotation punctuation\">@EnableWebMvc</span>  <span class=\"token comment\">// Optionally setup Spring MVC defaults (if you aren't using</span>\n               <span class=\"token comment\">// Spring Boot &amp; haven't specified @EnableWebMvc elsewhere)</span>\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">MvcConfiguration</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">WebMvcConfigurerAdapter</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token annotation punctuation\">@Bean</span><span class=\"token punctuation\">(</span>name<span class=\"token operator\">=</span><span class=\"token string\">\"simpleMappingExceptionResolver\"</span><span class=\"token punctuation\">)</span>\n  <span class=\"token keyword\">public</span> <span class=\"token class-name\">SimpleMappingExceptionResolver</span>\n                  <span class=\"token function\">createSimpleMappingExceptionResolver</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token class-name\">SimpleMappingExceptionResolver</span> r <span class=\"token operator\">=</span>\n                <span class=\"token keyword\">new</span> <span class=\"token class-name\">SimpleMappingExceptionResolver</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token class-name\">Properties</span> mappings <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Properties</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    mappings<span class=\"token punctuation\">.</span><span class=\"token function\">setProperty</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"DatabaseException\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"databaseError\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    mappings<span class=\"token punctuation\">.</span><span class=\"token function\">setProperty</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"InvalidCreditCardException\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"creditCardError\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    r<span class=\"token punctuation\">.</span><span class=\"token function\">setExceptionMappings</span><span class=\"token punctuation\">(</span>mappings<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>  <span class=\"token comment\">// None by default</span>\n    r<span class=\"token punctuation\">.</span><span class=\"token function\">setDefaultErrorView</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"error\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>    <span class=\"token comment\">// No default</span>\n    r<span class=\"token punctuation\">.</span><span class=\"token function\">setExceptionAttribute</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"ex\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>     <span class=\"token comment\">// Default is \"exception\"</span>\n    r<span class=\"token punctuation\">.</span><span class=\"token function\">setWarnLogCategory</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"example.MvcLogger\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>     <span class=\"token comment\">// No default</span>\n    <span class=\"token keyword\">return</span> r<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>ìœ„ì—ì„œ <code class=\"language-text\">defaultErrorView</code> ì†ì„±ìœ¼ë¡œ ì²˜ë¦¬ë˜ì§€ ì•Šì€ ì˜ˆì™¸ë“¤ì— ëŒ€í•œ ì í•©í•œ error í˜ì´ì§€ë¥¼ ì„¤ì •í•  ìˆ˜ ìˆìœ¼ë¯€ë¡œ ìœ ìš©í•˜ë‹¤. í˜„ì¬ ëŒ€ë¶€ë¶„ì˜ ì–´í”Œë¦¬ì¼€ì´ì…˜ì— ê¸°ë³¸ê°’ì€ java stack-traceë¥¼ ë…¸ì¶œí•˜ëŠ” ê²ƒì¸ë° ìœ ì €ë“¤ì€ stack-traceì— ê´€ì‹¬ì´ ì—†ë‹¤. ë”°ë¼ì„œ Spring bootëŠ” í•´ë‹¹ ë¶€ë¶„ì„ â€œwhite-labelâ€ ì—ëŸ¬ í˜ì´ì§€ë¡œ ì²˜ë¦¬í•œë‹¤.</p>\n<br>\n<h3 id=\"extending-simplemappingexceptionresolver\" style=\"position:relative;\"><a href=\"#extending-simplemappingexceptionresolver\" aria-label=\"extending simplemappingexceptionresolver permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Extending SimpleMappingExceptionResolver</h3>\n<p>ë‹¤ìŒê³¼ ê°™ì€ ì´ìœ ë¡œ <code class=\"language-text\">SimpleMappingExceptionResolver</code>ë¥¼ í™•ì¥í•˜ì—¬ ì‚¬ìš©í•œë‹¤.</p>\n<ul>\n<li>\n<p>Constructorë¥¼ ì‚¬ìš©í•˜ì—¬ ì†ì„±ë“¤ ì§ì ‘ ì§€ì •í•˜ëŠ” ê²½ìš°</p>\n<p>ì˜ˆë¥¼ ë“¤ì–´ì„œ exception ê´€ë ¨ ë¡œê¹… ë° ë¡œê±°ë¥¼ ì„¤ì •</p>\n</li>\n<li>\n<p>default log messageë¥¼ ì˜¤ë²„ë¼ì´ë”©í•˜ì—¬ ë³€ê²½í•˜ëŠ” ê²½ìš° (<code class=\"language-text\">buildLogMessage</code>ë¥¼ ë³€ê²½)</p>\n<p>í˜„ì¬ ê¸°ë³¸ ë©”ì„¸ì§€ëŠ” <em>Handler execution resulted in exception</em> ì´ë‹¤.</p>\n</li>\n<li>\n<p>ì—ëŸ¬ viewì— ì¶”ê°€ ì •ë³´ë¥¼ ì„¤ì •í•˜ê³  ì‹¶ì€ ê²½ìš°</p>\n<p><code class=\"language-text\">doResolverException</code>ì„ ì˜¤ë²„ë¼ì´ë”© í•˜ì—¬ ì„¤ì •</p>\n</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">MyMappingExceptionResolver</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">SimpleMappingExceptionResolver</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">public</span> <span class=\"token class-name\">MyMappingExceptionResolver</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// Enable logging by providing the name of the logger to use</span>\n    <span class=\"token function\">setWarnLogCategory</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">MyMappingExceptionResolver</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">.</span><span class=\"token function\">getName</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token annotation punctuation\">@Override</span>\n  <span class=\"token keyword\">public</span> <span class=\"token class-name\">String</span> <span class=\"token function\">buildLogMessage</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Exception</span> e<span class=\"token punctuation\">,</span> <span class=\"token class-name\">HttpServletRequest</span> req<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token string\">\"MVC exception: \"</span> <span class=\"token operator\">+</span> e<span class=\"token punctuation\">.</span><span class=\"token function\">getLocalizedMessage</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n    \n  <span class=\"token annotation punctuation\">@Override</span>\n  <span class=\"token keyword\">protected</span> <span class=\"token class-name\">ModelAndView</span> <span class=\"token function\">doResolveException</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">HttpServletRequest</span> req<span class=\"token punctuation\">,</span>\n        <span class=\"token class-name\">HttpServletResponse</span> resp<span class=\"token punctuation\">,</span> <span class=\"token class-name\">Object</span> handler<span class=\"token punctuation\">,</span> <span class=\"token class-name\">Exception</span> ex<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// Call super method to get the ModelAndView</span>\n    <span class=\"token class-name\">ModelAndView</span> mav <span class=\"token operator\">=</span> <span class=\"token keyword\">super</span><span class=\"token punctuation\">.</span><span class=\"token function\">doResolveException</span><span class=\"token punctuation\">(</span>req<span class=\"token punctuation\">,</span> resp<span class=\"token punctuation\">,</span> handler<span class=\"token punctuation\">,</span> ex<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        \n    <span class=\"token comment\">// Make the full URL available to the view - note ModelAndView uses</span>\n    <span class=\"token comment\">// addObject() but Model uses addAttribute(). They work the same. </span>\n    mav<span class=\"token punctuation\">.</span><span class=\"token function\">addObject</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"url\"</span><span class=\"token punctuation\">,</span> request<span class=\"token punctuation\">.</span><span class=\"token function\">getRequestURL</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">return</span> mav<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<br>\n<br>\n<p><strong>[ì°¸ê³ ìë£Œ]</strong></p>\n<ul>\n<li><a href=\"https://spring.io/blog/2013/11/01/exception-handling-in-spring-mvc#errors-and-rest\">https://spring.io/blog/2013/11/01/exception-handling-in-spring-mvc#errors-and-rest</a></li>\n</ul>\n<div class=\"table-of-contents\">\n<ul>\n<li>\n<p><a href=\"#spring-boot\">Spring Boot</a></p>\n</li>\n<li>\n<p><a href=\"#exception-handling-%EB%8F%99%EC%9E%91%EC%9B%90%EB%A6%AC\">Exception Handling ë™ì‘ì›ë¦¬</a></p>\n<ul>\n<li><a href=\"#handlerexceptionresolverinterface\">HandlerExceptionResolver(interface)</a></li>\n<li><a href=\"#simplemappingexceptionresolver\">SimpleMappingExceptionResolver</a></li>\n<li><a href=\"#extending-simplemappingexceptionresolver\">Extending SimpleMappingExceptionResolver</a></li>\n</ul>\n</li>\n</ul>\n</div>","excerpt":"Spring Boot Spring boot ìì²´ì—ì„œ í•¸ë“¤ë§ ë˜ì§€ ì•Šì€ error ì— ëŒ€í•œ ëŒ€ë¹„ì±…ì„ ë§ˆë ¨í•´ ë‘ì—ˆë‹¤. ë¨¼ì €, Spring boot ìì²´ì—ì„œ  ì— ëŒ€í•œ ë§¤í•‘ì„ ì°¾ì•„ì„œ í•´ë‹¹ URLì— ëŒ€í•´ì„œ ë™ì¼í•œ ì´ë¦„ì„ ê°€ì§„  ë·°ë¥¼ ë§¤í•‘ í•œë‹¤. í•´ë‹¹ ë·°ëŠ”  ì„ ë°˜í™˜í•œë‹¤. (í•´ë‹¹ ë·°ëŠ”  Thymeleaf templateì¸ë°, ë§Œì¼ JSPë¥¼ ì‚¬ìš©í•œë‹¤ë©´ ë¥¼ ë°˜í™˜í•˜ë„ë¡ ì—ì„œ ë³€ê²½í•  ìˆ˜ ìˆë‹¤) ì‹¤ì§ˆì ì¸ ë§¤í•‘ì€ ViewResolverì—ì„œ ë‹´ë‹¹í•œë‹¤. ë§Œì¼ ì— ëŒ€í•´ ê·¸ ì–´ë– í•œ view-resolverë„ ë§¤í•‘ì´ ë˜ì–´ ìˆì§€ ì•Šë‹¤ë©´ spring bootëŠ” ë‚´ë¶€ì ìœ¼ë¡œ ê°€ì§€ê³  ìˆëŠ” ëŒ€ì²´ ì—ëŸ¬ í˜ì´ì§€ì¸ â€œWhitelabel Error Pageâ€ë¥¼ ê°€ì§€ê³  ìˆë‹¤. ì´ë•Œ ë§Œì¼ RESTful requestì— ëŒ€í•œ ì‘ë‹µì´ë¼ë©´ Spring bootëŠ” ìì²´ì ì¸ JSON í˜•íƒœë¡œ â€œWhitelabel Error Pageâ€ì˜ ì‘ë‹µì„ ë°›ì€ error ì •ë³´ë¥¼ ë°˜í™˜í•œë‹¤. Spring bootëŠ” ì»¨í…Œì´ë„ˆì— ëŒ€í•œ ë””í´íŠ¸ error-pageâ€¦","frontmatter":{"date":"June 19, 2021","title":"ìŠ¤í”„ë§ë¶€íŠ¸ì˜ Exception handling","categories":"ìŠ¤í”„ë§ë¶€íŠ¸ ìŠ¤í”„ë§ ì›¹","author":"ì½”ë‹¤","emoji":"ğŸ–¥"},"fields":{"slug":"/spring-exception-handling/"}},"next":{"id":"38ae2cc9-d468-5d33-af6e-18533bf42cae","html":"<h2 id=\"jwtjson-web-token-ë°°ê²½\" style=\"position:relative;\"><a href=\"#jwtjson-web-token-%EB%B0%B0%EA%B2%BD\" aria-label=\"jwtjson web token ë°°ê²½ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>JWT(JSON Web Token) ë°°ê²½</h2>\n<p>ì´ì „ì— ì¸ì¦ ì ˆì°¨ë¥¼ ê±°ì¹˜ë ¤ë©´ ì‚¬ìš©ìì˜ í•´ì‹±ê°’ì„ DBì— ì €ì¥í•˜ê³  ë§¤ë²ˆ ìš”ì²­ì´ ìˆì„ ë•Œë§ˆë‹¤ í•´ë‹¹ í•´ì‹±ê°’ì„ ê²€ì¦í•´ì•¼í•œë‹¤. ê²€ì¦ì‹œ DBì— ì ‘ê·¼í•˜ëŠ” ì¿¼ë¦¬ê°€ ì‹¤í–‰ë˜ì–´ì•¼í•˜ëŠ”ë° ì„±ëŠ¥ë©´ì—ì„œ ì¢‹ì§€ ì•Šë‹¤. ë”°ë¼ì„œ JWTê°€ ë“±ì¥í•˜ê²Œ ë˜ê³  ìœ„ì™€ ê°™ì€ ì ˆì°¨ë¥¼ ê±°ì¹˜ì§€ë§Œ DB ì ‘ê·¼ ì¿¼ë¦¬ê°€ í•„ìš”í•˜ì§€ ì•Šê²Œ ëœë‹¤.</p>\n<ul>\n<li>\n<p><em>JWT ì •ì˜: A string that is sent in the HTTP request (from client or server) to validate the authenticity of the client. It is saved on the client-side only.</em></p>\n<p><a href=\"%5Bhttps://medium.com/jspoint/so-what-the-heck-is-jwt-or-json-web-token-dca8bcb719a6%5D(https://medium.com/jspoint/so-what-the-heck-is-jwt-or-json-web-token-dca8bcb719a6)\">ì¶œì²˜</a></p>\n</li>\n</ul>\n<br>\n<h2 id=\"jwt-íŠ¹ì§•\" style=\"position:relative;\"><a href=\"#jwt-%ED%8A%B9%EC%A7%95\" aria-label=\"jwt íŠ¹ì§• permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>JWT íŠ¹ì§•</h2>\n<ul>\n<li>compact</li>\n<li>self-contained</li>\n<li>digitally signed : it is signed using a secret key(<strong>HMAC</strong> algorithm) or public/private key pair using (<strong>RSA</strong> or <strong>ECDSA</strong>)\n<ul>\n<li>sgined í† í° ì´ë¼ë©´ claimì˜ ë¬´ê²°ì„±(integrity)ë¥¼ ê²€ì¦í•  ìˆ˜ ìˆë‹¤.</li>\n<li>ë§Œì¼ í† í°ì´ public/private keyë¡œ signed ë˜ì—ˆë‹¤ë©´, ì‹œê·¸ë‹ˆì²˜ëŠ” private keyë¥¼ ë“¤ê³ ìˆëŠ” ìª½ì´ signed í•œ ê²ƒì´ë¼ëŠ” ê²ƒì„ ë³´ì¥í•œë‹¤.</li>\n</ul>\n</li>\n</ul>\n<br>\n<h2 id=\"jwt-ì–¸ì œ-ì‚¬ìš©í•˜ë©´-ì¢‹ì„ê¹Œ\" style=\"position:relative;\"><a href=\"#jwt-%EC%96%B8%EC%A0%9C-%EC%82%AC%EC%9A%A9%ED%95%98%EB%A9%B4-%EC%A2%8B%EC%9D%84%EA%B9%8C\" aria-label=\"jwt ì–¸ì œ ì‚¬ìš©í•˜ë©´ ì¢‹ì„ê¹Œ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>JWT ì–¸ì œ ì‚¬ìš©í•˜ë©´ ì¢‹ì„ê¹Œ</h2>\n<ul>\n<li><strong>Authorization</strong>: ìœ ì €ê°€ ë¡œê·¸ì¸í•˜ì—¬ ì–´ë– í•œ ìš”ì²­ë“¤ì„ ë³´ë‚¼ ë•Œ, JWTë¥¼ í†µí•´ì„œ ì¸ì¦ì„ í•œë‹¤. JWTê°€ ì‚¬ìš©ë˜ëŠ” ê°€ì¥ ëŒ€í‘œì ì¸ ì‹œë‚˜ë¦¬ì˜¤ë‹¤. <code class=\"language-text\">Single Sign On</code> ì´ë¼ê³  í•˜ëŠ”ë°, ì´ ë•Œ JWTë¥¼ ì‚¬ìš©í•˜ë©´ ë¶€í•˜ë„ ì ê³  ì—¬ëŸ¬ ë‹¤ë¥¸ ë„ë©”ì¸ì—ì„œ ì‰½ê²Œ ì‚¬ìš©ë  ìˆ˜ ìˆë‹¤. (cross-originì¼ ë•Œ ìš©ì´)</li>\n<li><strong>Information Exchange</strong>: ì •ë³´ë“¤ì„ ì•ˆì „í•˜ê²Œ ì „ë‹¬í•˜ë ¤ê³  í•  ë•Œ JWTë¥¼ ì‚¬ìš©í•˜ê¸°ë„ í•œë‹¤. JWTë¥¼ signed í•  ìˆ˜ ìˆìœ¼ë‹ˆ ì†¡ì‹ ìê°€ ëˆ„êµ°ì§€ ë³´ì¥í•  ìˆ˜ ìˆë‹¤. ë˜í•œ ì‹œê·¸ë‹ˆì²˜ë¥¼ í†µí•´ì„œ headerì™€ payloadë¥¼ ê³„ì‚°í•˜ê¸° ë•Œë¬¸ì— í•´ë‹¹ ì»¨í…ì¸ ê°€ ë¬´ê²°í•¨ì„ ë³´ì¥í•  ìˆ˜ ìˆë‹¤.</li>\n</ul>\n<br>\n<h2 id=\"jwt-ìƒì„±\" style=\"position:relative;\"><a href=\"#jwt-%EC%83%9D%EC%84%B1\" aria-label=\"jwt ìƒì„± permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>JWT ìƒì„±</h2>\n<p>secret keyë¥¼ ì‚¬ìš©í•´ì„œ JWTë¥¼ ìƒì„±í•˜ë©°, í•´ë‹¹ secret keyëŠ” privateí•˜ì—¬ ì™¸ë¶€ì— ê³µê°œë˜ê±°ë‚˜ JWT í† í°ì— ì£¼ì…ë  ê²½ìš°ê°€ ì—†ë‹¤. ë˜í•œ JWTë¥¼ í´ë¼ì´ì–¸íŠ¸ì—ê²Œ ë°›ì•˜ì„ ë•Œ ì„œë²„ì— ì €ì¥ë˜ì–´ ìˆëŠ” secret keyë¥¼ í†µí•´ì„œ ê²€ì¦í•œë‹¤. <br></p>\n<p>JWT ìƒì„±í•˜ê¸° ìœ„í•´ì„œ <a href=\"%5Bhttps://jwt.io/%5D(https://jwt.io/)\">ì—¬ê¸°</a> ì—ì„œ ì›í•˜ëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ë‹¤ìš´ ë°›ì•„ì„œ ì‚¬ìš©í•œë‹¤.</p>\n<br>\n<h2 id=\"jwt-êµ¬ì¡°\" style=\"position:relative;\"><a href=\"#jwt-%EA%B5%AC%EC%A1%B0\" aria-label=\"jwt êµ¬ì¡° permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>JWT êµ¬ì¡°</h2>\n<p><code class=\"language-text\">xxxx.yyyy.zzzz</code> ìœ¼ë¡œ header, payload, signatureê°€ (<code class=\"language-text\">.</code>)ë¡œ ì—°ê²°ë˜ì–´ ìˆë‹¤.</p>\n<ul>\n<li>Header\n<ul>\n<li>type of token (ex. JWT)</li>\n<li>signing algorithm</li>\n<li>JSON íƒ€ì…, <code class=\"language-text\">Base64Url</code>ë¡œ ì¸ì½”ë”©</li>\n</ul>\n</li>\n<li>Payload\n<ul>\n<li>claims - entity(ìœ ì €) ì •ë³´ë‚˜ ì´ì™¸ì˜ ì¶”ê°€ ì •ë³´ ë“±ë“±</li>\n<li>registered - ë“±ë¡ë˜ì–´ ìˆëŠ” claimsë¡œ í•­ìƒ ì¶”ê°€í•˜ê¸°ë¥¼ ê¶Œì¥í•˜ëŠ” ìœ ìš©í•œ claims\n<ul>\n<li>iss(issuer), exp(expiration time), sub(subject), aud(audience) ë“±ë“±</li>\n<li>JWTì€ compact í•˜ê¸° ë•Œë¬¸ì— 3ê¸€ìë¡œ ì œí•œí•˜ì—¬ ì •ì˜í•¨</li>\n</ul>\n</li>\n<li>public -  JWT ì‚¬ìš©í•˜ëŠ” ì…ì¥ì—ì„œ ì •ì˜í•  ìˆ˜ ìˆëŠ” claims\n<ul>\n<li>ì¶©ëŒì„ í”¼í•˜ê¸° ìœ„í•´ì„œ JWT Registryì— ì •ì˜ëœ ê²ƒë“¤ë§Œ ì‚¬ìš©í•˜ê±°ë‚˜, ì¶©ëŒë°©ì§€í•  ìˆ˜ ìˆëŠ” URI í˜•íƒœ</li>\n</ul>\n</li>\n<li>private - ì»¤ìŠ¤í…€ claimsë¡œ ì–‘ìª½ì—ì„œ í•©ì˜í•˜ì—¬ ê³µìœ í•˜ê¸°ë¡œ í•œ ì •ë³´ì— ëŒ€í•´ì„œ ì„œìˆ í•œ claims</li>\n<li>JSON íƒ€ì…, <code class=\"language-text\">Base64Url</code>ë¡œ ì¸ì½”ë”©, ë•Œë¬¸ì— ì–´ëŠ ëˆ„êµ¬ë‚˜ ë””ì½”ë”©í•˜ì—¬ ì ‘ê·¼í•  ìˆ˜ ìˆëŠ” ì •ë³´ì´ê¸° ë•Œë¬¸ì— ë¯¼ê°í•œ ì •ë³´ëŠ” ë‹´ì§€ ì•Šë„ë¡ í•œë‹¤.</li>\n</ul>\n</li>\n<li>Signature\n<ul>\n<li>ì¸ì½”ë”© ëœ header, payload, secreteì„ ì¡°í•©í•˜ì—¬ headerì— ìˆëŠ” ì•Œê³ ë¦¬ì¦˜ìœ¼ë¡œ ì‹œê·¸ë‹ˆì²˜ë¥¼ ìƒì„±</li>\n<li>ì´ ì‹œê·¸ë‹ˆì²˜ë¥¼ í†µí•´ì„œ ë‹´ê¸´ ì •ë³´ì˜ ë¬´ê²°ì„±ì„ ë³´ì¥</li>\n<li>private keyë¡œ signed ë˜ì—ˆì„ ê²½ìš° JWT sender ë˜í•œ ë³´ì¥ ê°€ëŠ¥</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"jwt-signature\" style=\"position:relative;\"><a href=\"#jwt-signature\" aria-label=\"jwt signature permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>JWT Signature</h3>\n<p>ìœ„ headerì™€ payloadëŠ” ì‰½ê²Œ ë””ì½”ë”©í•´ ë‚´ìš©ì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤. ë”°ë¼ì„œ í•´ë‹¹ tokenì„ ë³´ì•ˆì— ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ í•˜ëŠ” ìš”ì†ŒëŠ” signatureì´ë‹¤. <br></p>\n<p>ì œ 3ìê°€ í† í°ì˜ headerë‚˜ payloadë¥¼ ë³€ê²½í•˜ì§€ ì•Šì•˜ìŒì„ ë³´ì¥í•˜ê¸° ìœ„í•´ì„œ secret keyì™€ í•´ë‹¹ í‚¤ë¡œ ìƒì„±ëœ signaturerë¥¼ ì‚¬ìš©í•œë‹¤. <br></p>\n<p>Token ê²€ì¦ì„ í•  ë•Œ, ì „ì†¡ëœ JWTì— ìˆëŠ” header, payloadë¥¼ ê°€ì§€ê³  ì„œë²„ì— ì €ì¥ë˜ì–´ ìˆëŠ” secretì„ í†µí•´ì„œ test signatureë¥¼ ìƒì„±í•œë‹¤. test signatureì™€ tokenì— ìˆëŠ” ì²˜ìŒ token ìƒì„±ì‹œ ì¶”ê°€ëœ original signatureì™€ ë™ì¼í•œì§€ ë¹„êµí•˜ì—¬ ë°ì´í„° ë³€ê²½ ì—¬ë¶€ë¥¼ ì²´í¬í•œë‹¤. ì´ ë°©ë²•ì„ í†µí•´ì„œ tokenì€ ë°ì´í„° ë¬´ê²°ì„±ì„ ë³´ì¥í•œë‹¤. <br></p>\n<br>\n<h2 id=\"ì™œ-jwt\" style=\"position:relative;\"><a href=\"#%EC%99%9C-jwt\" aria-label=\"ì™œ jwt permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ì™œ JWT?</h2>\n<p>Simple Web Tokens(<strong>SWT</strong>)ì™€ Security Assertion Markup Language Tokens(<strong>SAML</strong>) ë¹„êµí–ˆì„ ë•Œ ì¥ì ë“¤ì´ë‹¤. <br></p>\n<p>JSONì€ ìš°ì„  XMLë³´ë‹¤ ê°„ë‹¨(ëœ ì¥í™©í•¨)í•˜ì—¬ ì¸ì½”ë”© í–ˆì„ ë•Œ, ê·¸ ì‚¬ì´ì¦ˆê°€ í›¨ì”¬ ì‘ê³  <strong>SAML</strong>ë³´ë‹¤ compact í•˜ë‹¤. <br></p>\n<p align=\"center\"><img width=\"85%\" src=\"https://user-images.githubusercontent.com/63405904/135121193-926e8de5-411d-49dc-873c-09cfb0a552df.png\"></p>\n<p align=\"center\"><img width=\"85%\" src=\"https://user-images.githubusercontent.com/63405904/135121388-68caa14c-464b-449e-8901-70491a30b765.png\"></p>\n<p>ë³´ì•ˆì  ì¸¡ë©´ì—ì„œëŠ” <strong>SWT</strong>ëŠ” ëŒ€ì¹­í‚¤ë¥¼ í™œìš©í•˜ëŠ” HMAC ì•Œê³ ë¦¬ì¦˜ë§Œ ì‚¬ìš©ì´ ê°€ëŠ¥í•œë°, <strong>JWT</strong>, <strong>SAML</strong>ì€ public/private key í˜ì–´ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. ë”í•´ì„œ XML signingë³´ë‹¤ JSON signingì´ í›¨ì”¬ ì‰½ë‹¤. <br></p>\n<p>ë˜í•œ ì˜ êµ¬ì¶•ë˜ì–´ ìˆëŠ” ì—¬ëŸ¬ JSON íŒŒì„œë“¤ì„ í™œìš©í•  ìˆ˜ ìˆë‹¤. <br></p>\n<p>ë§ˆì§€ë§‰ìœ¼ë¡œ í™œìš© ì¸¡ë©´ì—ì„œ <strong>JWT</strong>ëŠ” ì¸í„°ë„· í™˜ê²½ì—ì„œ ë§ì´ ì“°ì¸ë‹¤. ê·¸ë ‡ê¸° ë•Œë¬¸ì— í´ë¼ì´ì–¸íŠ¸ì˜ ì…ì¥ì—ì„œ <strong>JWT</strong>ë¥¼ ì—¬ëŸ¬ í™˜ê²½(íŠ¹íˆ, ëª¨ë°”ì¼ í™˜ê²½ì—ì„œë„)ì—ì„œ í™œìš©í•˜ê¸° ìš©ì´í•˜ë‹¤ëŠ” ì¥ì ì´ ìˆë‹¤.  <br></p>\n<br>\n<br>\n<p><strong>[ì°¸ê³ ìë£Œ]</strong></p>\n<ul>\n<li><a href=\"https://jwt.io/introduction\">https://jwt.io/introduction</a></li>\n<li><a href=\"https://stackoverflow.com/questions/31309759/what-is-secret-key-for-jwt-based-authentication-and-how-to-generate-it\">https://stackoverflow.com/questions/31309759/what-is-secret-key-for-jwt-based-authentication-and-how-to-generate-it</a></li>\n</ul>\n<div class=\"table-of-contents\">\n<ul>\n<li>\n<p><a href=\"#jwtjson-web-token-%EB%B0%B0%EA%B2%BD\">JWT(JSON Web Token) ë°°ê²½</a></p>\n</li>\n<li>\n<p><a href=\"#jwt-%ED%8A%B9%EC%A7%95\">JWT íŠ¹ì§•</a></p>\n</li>\n<li>\n<p><a href=\"#jwt-%EC%96%B8%EC%A0%9C-%EC%82%AC%EC%9A%A9%ED%95%98%EB%A9%B4-%EC%A2%8B%EC%9D%84%EA%B9%8C\">JWT ì–¸ì œ ì‚¬ìš©í•˜ë©´ ì¢‹ì„ê¹Œ</a></p>\n</li>\n<li>\n<p><a href=\"#jwt-%EC%83%9D%EC%84%B1\">JWT ìƒì„±</a></p>\n</li>\n<li>\n<p><a href=\"#jwt-%EA%B5%AC%EC%A1%B0\">JWT êµ¬ì¡°</a></p>\n<ul>\n<li><a href=\"#jwt-signature\">JWT Signature</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#%EC%99%9C-jwt\">ì™œ JWT?</a></p>\n</li>\n</ul>\n</div>","frontmatter":{"date":"June 13, 2021","title":"JWT (JSON Web Token) ì•Œì•„ë³´ê¸°","categories":"ì›¹","author":"ì½”ë‹¤","emoji":"ğŸ–¥"},"fields":{"slug":"/jwt-token/"}},"prev":{"id":"2696e70c-e746-5fb0-96cc-3b651a5c3483","html":"<h2 id=\"requestbody\" style=\"position:relative;\"><a href=\"#requestbody\" aria-label=\"requestbody permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>@RequestBody</h2>\n<p>request bodyë¥¼ method argumentë¡œ ë°”ê¿€ ë•Œ <code class=\"language-text\">HttpMessageConverter</code>ë¥¼ ì‚¬ìš©í•œë‹¤.</p>\n<ul>\n<li><code class=\"language-text\">HttpMessageConverter</code> ëŠ” ë‘ê°€ì§€ë¥¼ ë‹´ë‹¹í•œë‹¤. ì²«ë²ˆì§¸ëŠ” Http request messageë¥¼ ê°ì²´ë¡œ ë³€í™˜í•˜ëŠ” ê²ƒ, ë‘ë²ˆì§¸ëŠ” ê°ì²´ë¥¼ Http response bodyë¡œ ë³€í™˜í•˜ëŠ” ì‘ì—…ì´ë‹¤.</li>\n</ul>\n<h3 id=\"ë™ì‘ì›ë¦¬\" style=\"position:relative;\"><a href=\"#%EB%8F%99%EC%9E%91%EC%9B%90%EB%A6%AC\" aria-label=\"ë™ì‘ì›ë¦¬ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ë™ì‘ì›ë¦¬</h3>\n<p><code class=\"language-text\">DispatcherServlet</code>ì— ì˜í•´ì„œ í˜¸ì¶œë˜ëŠ” handlerì˜ method parametersì€ ìŠ¤í”„ë§ì˜ <code class=\"language-text\">HandlerMethodArgumentResolver</code>ì— ì˜í•´ ìƒì„±ì´ ë˜ê³ , handlerì˜ return valueëŠ” <code class=\"language-text\">HandlerMethodReturnValueHandler</code>ì— ì˜í•´ì„œ ì²˜ë¦¬ëœë‹¤. <code class=\"language-text\">@ResponseBody</code>ì™€ <code class=\"language-text\">@RequestBody</code>ë¥¼ ë‹¤ë£¨ëŠ” êµ¬í˜„ì²´ëŠ” <code class=\"language-text\">RequestResponseBodyMethodProcess</code>ì´ë‹¤.</p>\n<ul>\n<li>\n<p>DispatcherServletì˜ handleì—ì„œë¶€í„° Argument resolve í•˜ëŠ” ê³¼ì •</p>\n<p><code class=\"language-text\">DispatcherServlet#handle()</code> â†’ <code class=\"language-text\">AbstractHandlerMethodAdapter#handle()</code> â†’ <code class=\"language-text\">RequestMappingHandlerAdapter#handleInternal()</code> â†’ <code class=\"language-text\">RequestMappingHandlerAdapter#invokeHandlerMethod()</code> â†’ <code class=\"language-text\">ServletInvocableHandlerMethod#invokeAndHandle()</code> â†’ <code class=\"language-text\">InvocableHandlerMethod#invokeForRequest()</code> â†’ <code class=\"language-text\">InvocableHandlerMethod #getMethodArgumentValues()</code> â†’ <em>(Interface)</em><code class=\"language-text\">HandlerMethodArgumentResolver#resolveArgument()</code> â†’ <em>(Imp)</em><code class=\"language-text\">RequestResponseBodyMethodProcessor#resolveArgument()</code></p>\n</li>\n<li>\n<p><code class=\"language-text\">RequestResponseBodyMethodProcessor#resolveArgument()</code> ë‚´ë¶€ì—ì„œ HttpMessageConverterë¥¼ ì‚¬ìš©í•´ì„œ ë³€í™˜ì‹œí‚¤ëŠ” ê³¼ì •</p>\n<p><code class=\"language-text\">RequestResponseBodyMethodProcessor#resolveArgument()</code> â†’ (e<em>xtends  AbstractMessageConverterMethodArgumentResolver</em>)<code class=\"language-text\">RequestResponseBodyMethodProcessor#readWithMessageConverters()</code> â†’ (<em>Imp HandlerMethodArgumentResolver</em>)<code class=\"language-text\">AbstractMessageConverterMethodArgumentResolver#readWithMessageConverters()</code> ì—ì„œ ë³€í™˜ ë¡œì§ì„ ì‹œí–‰í•œë‹¤.</p>\n</li>\n</ul>\n<p>ì´ë•Œ HttpMessageConverter default ì¸ìŠ¤í„´ìŠ¤ë“¤ì€ <code class=\"language-text\">WebMvcConfigurationSupport#addDefaultHttpMessageConverters()</code> ë¥¼ í†µí•´ ë“±ë¡ëœë‹¤.</p>\n<h3 id=\"httpmessageconverter-ë¡œì§\" style=\"position:relative;\"><a href=\"#httpmessageconverter-%EB%A1%9C%EC%A7%81\" aria-label=\"httpmessageconverter ë¡œì§ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>HttpMessageConverter ë¡œì§</h3>\n<ul>\n<li>\n<p><code class=\"language-text\">@RequestBody</code> ì¼ë•Œ</p>\n<p><code class=\"language-text\">HttpMessageConverter#canRead()</code> ë¡œ converterê°€ í•´ë‹¹ contentì˜ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ì½ê³  ìƒì„±í•  ìˆ˜ ìˆëŠ”ì§€ í™•ì¸í•œë‹¤. ì´í›„ì— argumentë¥¼ ìƒì„±í•˜ì—¬ ë°˜í™˜í•œë‹¤.</p>\n</li>\n<li>\n<p><code class=\"language-text\">@ResponseBody</code> ì¼ë•Œ</p>\n<p><code class=\"language-text\">HttpMessageConverter#canWrite()</code> ë¥¼ í†µí•´ì„œ <code class=\"language-text\">HttpMessageConverter</code>ê°€ í•´ë‹¹ ë°˜í™˜ê°’ì„ serialize í•  ìˆ˜ ìˆëŠ”ì§€ í™•ì¸í•˜ê³  response contentë¥¼ ìƒì„±í•˜ê³ , <code class=\"language-text\">Accept</code> í—¤ë”ê°€ ìˆë‹¤ë©´ í•´ë‹¹ content-typeì— ë§¤ì¹­ë˜ëŠ”ì§€ë„ í™•ì¸í•œë‹¤.</p>\n</li>\n</ul>\n<p><code class=\"language-text\">MessagConverter</code>ë¥¼ ì‚¬ìš©í•˜ëŠ” <code class=\"language-text\">@RequestBody</code>ëŠ” ê°’ì„ ë°”ì¸ë”©í•˜ëŠ” ê²ƒì´ ì•„ë‹ˆë¼, í•´ë‹¹ ë‚´ìš©ì„ Java Objectë¡œ ë³€í™˜í•œë‹¤. ê·¸ë ‡ê¸° ë•Œë¬¸ì— Bodyê°€ ì¡´ì¬í•˜ì§€ ì•Šì€ <code class=\"language-text\">GET</code> ë©”ì„œë“œì— <code class=\"language-text\">@RequestBody</code>ë¥¼ ì ìš©í•˜ë ¤ê³  í•˜ë©´ ì˜ˆì™¸ê°€ ë°œìƒí•œë‹¤.</p>\n<h3 id=\"4ê°€ì§€-default-messageconverters\" style=\"position:relative;\"><a href=\"#4%EA%B0%80%EC%A7%80-default-messageconverters\" aria-label=\"4ê°€ì§€ default messageconverters permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>4ê°€ì§€ Default MessageConverters</h3>\n<ol>\n<li>\n<p><code class=\"language-text\">ByteArrayHttpMessageConverter</code></p>\n<p><code class=\"language-text\">byte[]</code> ì˜¤ë¸Œì íŠ¸ íƒ€ì…ì„ ì§€ì›í•˜ì—¬ ë“¤ì–´ì˜¤ëŠ” ìš”ì²­ì„ ëª¨ë‘ ë°”ì´íŠ¸ ë°°ì—´ë¡œ ë°›ì„ ìˆ˜ ìˆë‹¤. ë˜í•œ ë¦¬í„´ íƒ€ì…ì´ <code class=\"language-text\">byte[]</code> ì¼ ê²½ìš° <code class=\"language-text\">Content-type</code>ì´ <code class=\"language-text\">applcation/octet-stream</code>ìœ¼ë¡œ ì„¤ì •ëœë‹¤.</p>\n</li>\n<li>\n<p><code class=\"language-text\">StringHttpMessageConverter</code></p>\n<p><code class=\"language-text\">String</code> ì˜¤ë¸Œì íŠ¸ íƒ€ì…ì„ ì§€ì›í•˜ì—¬ HTTP ë³¸ë¬¸ì„ ê·¸ëŒ€ë¡œ <code class=\"language-text\">String</code>ìœ¼ë¡œ ê°€ì ¸ì˜¤ê³ , ê·¸ëŒ€ë¡œ ë¦¬í„´í•  ê²½ìš° <code class=\"language-text\">Content-type</code>ì€ <code class=\"language-text\">text/plain</code>ìœ¼ë¡œ ì „ë‹¬ëœë‹¤.</p>\n</li>\n<li>\n<p><code class=\"language-text\">FormHttpMessageConverter</code></p>\n<p>MultiValueMap&#x3C;String, String>ì„ ì§€ì›í•˜ëŠ”ë°, ì§€ì›í•˜ëŠ” ë¯¸ë””ì–´ íƒ€ì…ì€ <code class=\"language-text\">application/x-www-form-urlencoded</code>ì´ë‹¤. í•˜ì§€ë§Œ form ë°ì´í„°ì˜ ê²½ìš° <code class=\"language-text\">@ModelAttribute</code>ê°€ ë” ìœ ìš©í•˜ë‹¤.</p>\n</li>\n<li>\n<p><code class=\"language-text\">SourceHttpMessageConverter</code></p>\n<p>XML ë¬¸ì„œë¥¼ Source íƒ€ì… ê°ì²´ë¡œ ë³€í™˜í•˜ê³  ì‹¶ì„ ë•Œ ì‚¬ìš©í•˜ì§€ë§Œ ìš”ì¦˜ì—ëŠ” ì˜ ì“°ì´ì§€ ì•ŠëŠ”ë‹¤.</p>\n</li>\n</ol>\n<h3 id=\"ìì£¼-ì“°ì´ëŠ”-messageconverters-3ê°€ì§€\" style=\"position:relative;\"><a href=\"#%EC%9E%90%EC%A3%BC-%EC%93%B0%EC%9D%B4%EB%8A%94-messageconverters-3%EA%B0%80%EC%A7%80\" aria-label=\"ìì£¼ ì“°ì´ëŠ” messageconverters 3ê°€ì§€ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ìì£¼ ì“°ì´ëŠ” MessageConverters 3ê°€ì§€</h3>\n<ol>\n<li>\n<p><code class=\"language-text\">Jaxb2RootElementHttpMessageConverter</code></p>\n<p>JAXBì˜ @XmlRootElementì™€ @XmlTypeì´ ë¶™ì€ í´ë˜ìŠ¤ë¡œ XMLê³¼ ì˜¤ë¸Œì íŠ¸ ì‚¬ì´ì˜ ë³€í™˜ì„ í•´ì¤€ë‹¤.</p>\n</li>\n<li>\n<p><code class=\"language-text\">MashallingHttpMessageConverter</code></p>\n<p>ìŠ¤í”„ë§ OXM ì¶”ìƒí™” <code class=\"language-text\">Mashaller</code>ì™€ <code class=\"language-text\">Unmarshaller</code>ë¥¼ ì´ìš©í•´ì„œ <code class=\"language-text\">XML</code>ê³¼ ì˜¤ë¸Œì íŠ¸ ì‚¬ì´ì˜ ë³€í™˜ì„ í•´ì¤€ë‹¤.</p>\n</li>\n<li>\n<p><code class=\"language-text\">MappingJacksonHttpMessageConverter</code></p>\n<p><code class=\"language-text\">Jackson</code>ì˜ <code class=\"language-text\">ObjectMapper</code>ë¥¼ ì‚¬ìš©í•´ì„œ <code class=\"language-text\">JSON</code>ê³¼ ì˜¤ë¸Œì íŠ¸ ì‚¬ì´ì˜ ë³€í™˜ì„ í•´ì£¼ê³  ì§€ì›í•˜ëŠ” ë¯¸ë””ì–´íƒ€ì…ì€ <code class=\"language-text\">application/json</code>ì´ë‹¤.</p>\n</li>\n</ol>\n<ul>\n<li>ì°¸ê³ ë§í¬: <a href=\"https://joont92.github.io/spring/MessageConverter/\">https://joont92.github.io/spring/MessageConverter/</a></li>\n</ul>\n<br>\n<h2 id=\"modelattribute\" style=\"position:relative;\"><a href=\"#modelattribute\" aria-label=\"modelattribute permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>@ModelAttribute</h2>\n<p>í”íˆ <code class=\"language-text\">@ModelAttribute</code>ë¥¼ ë“¤ì–´ì˜¨ ìš”ì²­ì— ëŒ€í•´ì„œ method parameterë¥¼ ë§¤í•‘ì‹œí‚¤ëŠ” ìš©ë„ë¡œë§Œ ì•Œê³  ìˆëŠ”ë°, ì´ì™¸ì— return valueë¥¼ ì§€ì •ëœ model attributeë¡œ ë°”ì¸ë”©í•˜ê³  ì›¹ ë·°ì— í‘œí˜„í•˜ëŠ” ì‘ì—…ë„ ë‹´ë‹¹í•œë‹¤. <br></p>\n<p>ë”°ë¼ì„œ <code class=\"language-text\">@ModelAttribute</code>ëŠ” ë‘ ê°€ì§€ levelì—ì„œ ì‚¬ìš©ë˜ëŠ”ë° <strong>1) method parameter</strong>ì™€ <strong>2) method level</strong>ì´ë‹¤. <br></p>\n<p>ì¼ë°˜ì ìœ¼ë¡œ <code class=\"language-text\">@ModelAttribute</code>ëŠ” form dataì— ì‚¬ìš©ì´ ë˜ëŠ”ë°, ì´ë•Œ value ì†ì„±ì˜ ê°’ì„ í•¨ê»˜ ë„˜ê²¨ì¤€ë‹¤. <br></p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token namespace\">form:</span>form</span> <span class=\"token attr-name\">method</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>POST<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">action</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>/spring-mvc-basics/addEmployee<span class=\"token punctuation\">\"</span></span> \n  <span class=\"token attr-name\">modelAttribute</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>employee<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token namespace\">form:</span>label</span> <span class=\"token attr-name\">path</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>name<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>Name<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span><span class=\"token namespace\">form:</span>label</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token namespace\">form:</span>input</span> <span class=\"token attr-name\">path</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>name<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span>\n    \n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token namespace\">form:</span>label</span> <span class=\"token attr-name\">path</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>id<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>Id<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span><span class=\"token namespace\">form:</span>label</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token namespace\">form:</span>input</span> <span class=\"token attr-name\">path</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>id<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span>\n    \n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>input</span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>submit<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">value</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>Submit<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span><span class=\"token namespace\">form:</span>form</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<p>í•˜ì§€ë§Œ ë§Œì¼ <code class=\"language-text\">value</code> ì†ì„±ì´ í•¨ê»˜ ì œê³µë˜ì§€ ì•Šì•˜ë‹¤ë©´ defaultë¡œ Method levelì— ì ìš©ë˜ëŠ” <code class=\"language-text\">@ModelAttribute</code>ì—ê²ŒëŠ” ë°˜í™˜ íƒ€ì…ì´, Method-argumentì—ëŠ” parameter íƒ€ì…ì´  ì§€ì •ëœë‹¤.</p>\n<h3 id=\"at-method-level\" style=\"position:relative;\"><a href=\"#at-method-level\" aria-label=\"at method level permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>At Method Level</h3>\n<p>Method levelì—ì„œ <code class=\"language-text\">@ModelAttribute</code>ì´ ì¶”ê°€ë˜ì–´ ìˆë‹¤ë©´ í•´ë‹¹ ë©”ì„œë“œëŠ” Modelì— í•˜ë‚˜ ë˜ëŠ” ì—¬ëŸ¬ê°œì˜ ì†ì„±(attribute)ì„ ì¶”ê°€í•œë‹¤ëŠ” ê²ƒì„ ì˜ë¯¸í•œë‹¤. <code class=\"language-text\">@RequestMapping</code> ì–´ë…¸í…Œì´ì…˜ì´ ë¶™ì–´ìˆëŠ” ë©”ì„œë“œì™€ ë§ˆì°¬ê°€ì§€ë¡œ ê°™ì€ argument(Model mode)ì„ ì œê³µí•˜ëŠ”ê²ƒì€ ë™ì¼í•˜ì§€ë§Œ, ë“¤ì–´ì˜¤ëŠ” requestì— ì§ì ‘ì ìœ¼ë¡œ ë§¤í•‘ë˜ì§€ëŠ” ì•ŠëŠ”ë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token comment\">//í•˜ë‚˜ì˜ model attributeë¥¼ ì¶”ê°€í•  ë•Œ</span>\n<span class=\"token annotation punctuation\">@ModelAttribute</span>\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">addAccount</span><span class=\"token punctuation\">(</span><span class=\"token annotation punctuation\">@RequestParam</span> <span class=\"token class-name\">String</span> number<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\t<span class=\"token keyword\">return</span> accountManager<span class=\"token punctuation\">.</span><span class=\"token function\">findAccount</span><span class=\"token punctuation\">(</span>number<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">//í•˜ë‚˜ ì´ìƒì˜ model attributesë¥¼ ì¶”ê°€í•  ë•Œ </span>\n<span class=\"token annotation punctuation\">@ModelAttribute</span>\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">addAttributes</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Model</span> model<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\tmodel<span class=\"token punctuation\">.</span><span class=\"token function\">addAttribute</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"msg\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"Welcome to the Netherlands\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\tmodel<span class=\"token punctuation\">.</span><span class=\"token function\">addAttribute</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"name\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"This is name\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>ì¼ë°˜ì ìœ¼ë¡œ Spring MVCëŠ” ìœ„ ë©”ì„œë“œë¥¼ request handlerë¥¼ í˜¸ì¶œí•˜ê¸° ì´ì „ì— ìš°ì„ ì ìœ¼ë¡œ í˜¸ì¶œí•œë‹¤.  <br></p>\n<p><strong>!!! <code class=\"language-text\">@ModelAttribute</code> ë©”ì„œë“œë“¤ì´ controllerì—ì„œ <code class=\"language-text\">@RequestMapping</code>ìœ¼ë¡œ ì§€ì •ëœ ë©”ì„œë“œë“¤ ë³´ë‹¤ ë¨¼ì € ì‹¤í–‰ëœë‹¤ëŠ” ê²ƒì´ë‹¤. (ê°™ì€ controllerì— ìˆëŠ” ê²½ìš°)</strong> <br></p>\n<p>ë§Œì¼ globalí•˜ê²Œ ë“¤ì–´ì˜¤ëŠ” ëª¨ë“  ìš”ì²­ì— ëŒ€í•´ì„œ íŠ¹ì • model attributeì„ ì¶”ê°€í•˜ê³  ì‹¶ë‹¤ë©´, í•´ë‹¹ controllerë¥¼ <code class=\"language-text\">@ControllerAdvice</code>ì„ ì§€ì •í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤. <br></p>\n<p>ì¼ë°˜ì ìœ¼ë¡œ method levelì˜ <code class=\"language-text\">@ModelAttribute</code>ì˜ ëª©ì ì€ í•˜ë‚˜ ë˜ëŠ” í•˜ë‚˜ ì´ìƒì˜ model attributesë¥¼ ì¶”ê°€í•˜ê¸° ìœ„í•´ì„œì´ë‹¤. ControllerëŠ” ì—¬ëŸ¬ê°œì˜ <code class=\"language-text\">@MethodAttribute</code> ë©”ì†Œë“œë“¤ì„ ê°€ì§€ê³  ìˆì„ ìˆ˜ ìˆëŠ”ë°, ê·¸ ì–´ë–¤ ìš”ì²­ì´ ë“¤ì–´ì˜¤ë©´ ê°™ì€ controller ì•ˆì— ìˆëŠ” ê·¸ ëª¨ë“  ë©”ì†Œë“œë“¤ì´ ì‹¤í–‰ëœë‹¤. ì „ì—­ì ìœ¼ë¡œ ì‹¤í–‰í•˜ê³  ì‹¶ë‹¤ë©´ <code class=\"language-text\">@ControllerAdvice</code> ì–´ë…¸í…Œì´ì…˜ì„ ì¶”ê°€í•˜ë©´ ëœë‹¤. <br></p>\n<h3 id=\"at-method-argument\" style=\"position:relative;\"><a href=\"#at-method-argument\" aria-label=\"at method argument permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>At Method Argument</h3>\n<p>ë§Œì¼ method argument ë ˆë²¨ì—ì„œ <code class=\"language-text\">@ModelAttribute</code>ê°€ ì‚¬ìš©ëœë‹¤ë©´ model ì—ì„œ ì¸ìê°€ ì¶”ì¶œë˜ì–´ì•¼ í•œë‹¤ëŠ” ê²ƒì„ ì˜ë¯¸í•œë‹¤.</p>\n<blockquote>\n<p>â€œAn @ModelAttribute on a method argument indicates the argument should be retrieved from the model. If not present in the model, the argument should be instantiated first and then added to the model.â€</p>\n</blockquote>\n<p>ì¦‰, Method Argument ë ˆë²¨ì—ì„œ <code class=\"language-text\">@ModelAttribute</code>ë¥¼ ì‚¬ìš©í•˜ë©´, ìš°ì„  modelì— í•´ë‹¹ attributeê°€ ìˆëŠ”ì§€ í™•ì¸í•˜ì—¬ ë°˜í™˜í•˜ê³ , ì—†ë‹¤ë©´ <strong>1) argumentsë¥¼ ì´ˆê¸°í™”</strong> <strong>2)modelì— ì¶”ê°€</strong>í•œë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@RequestMapping</span><span class=\"token punctuation\">(</span>value<span class=\"token operator\">=</span><span class=\"token string\">\"/owners/{ownerId}/pets/{petId}/edit\"</span><span class=\"token punctuation\">,</span> method <span class=\"token operator\">=</span> <span class=\"token class-name\">RequestMethod</span><span class=\"token punctuation\">.</span>POST<span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">public</span> <span class=\"token class-name\">String</span> <span class=\"token function\">processSubmit</span><span class=\"token punctuation\">(</span><span class=\"token annotation punctuation\">@ModelAttribute</span> <span class=\"token class-name\">Pet</span> pet<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\t<span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>ìœ„ì™€ ê°™ì´ Method Argumentì—ì„œ <code class=\"language-text\">@ModelAttribute</code>ê°€ ì‚¬ìš©ë˜ì—ˆì„ ê²½ìš° ì¸ìì¸ Pet instanceì˜ ì¶œì²˜ëŠ” ë‹¤ìŒ 4ê°€ì§€ ì¤‘ í•˜ë‚˜ì¼ ìˆ˜ ìˆë‹¤.</p>\n<ol>\n<li><code class=\"language-text\">@SessionAttributes</code> ì— ì˜í•´ ì´ë¯¸ ì¡´ì¬í•˜ëŠ” model attribute</li>\n<li><code class=\"language-text\">@ModelAttribute</code> ë©”ì†Œë“œì— ì˜í•´ ì´ë¯¸ ì¡´ì¬í•˜ëŠ” model attribute</li>\n<li>URI templateì™€ type converterì— ì˜í•´ ì¶”ì¶œëœ instance</li>\n<li>default constructorì— ì˜í•´ ì´ˆê¸°í™”ëœ instance</li>\n</ol>\n<br>\n<br>\n<p><strong>[ì°¸ê³ ìë£Œ]</strong></p>\n<ul>\n<li><a href=\"https://docs.spring.io/spring-framework/docs/3.2.x/spring-framework-reference/html/remoting.html#rest-message-conversion\">https://docs.spring.io/spring-framework/docs/3.2.x/spring-framework-reference/html/remoting.html#rest-message-conversion</a></li>\n<li><a href=\"https://mangkyu.tistory.com/72\">https://mangkyu.tistory.com/72</a></li>\n<li><a href=\"https://stackoverflow.com/questions/29517613/how-exactly-works-requestbody-annotation-and-how-it-is-related-to-the-httpmessa\">https://stackoverflow.com/questions/29517613/how-exactly-works-requestbody-annotation-and-how-it-is-related-to-the-httpmessa</a></li>\n<li><a href=\"https://stackoverflow.com/questions/17362177/how-does-the-modelattribute-annotation-work-why-cant-i-got-the-value\">https://stackoverflow.com/questions/17362177/how-does-the-modelattribute-annotation-work-why-cant-i-got-the-value</a></li>\n<li><a href=\"https://docs.spring.io/spring-framework/docs/3.2.x/spring-framework-reference/html/mvc.html#mvc-ann-modelattrib-methods\">https://docs.spring.io/spring-framework/docs/3.2.x/spring-framework-reference/html/mvc.html#mvc-ann-modelattrib-methods</a></li>\n</ul>\n<br>\n<br>\n<p><strong>[MORE]</strong></p>\n<ul>\n<li>\n<p>HttpMessageConverters ë‚´ë¶€ë™ì‘ì›ë¦¬</p>\n<p><a href=\"https://www.baeldung.com/spring-httpmessageconverter-rest\">https://www.baeldung.com/spring-httpmessageconverter-rest</a></p>\n</li>\n<li>\n<p>ì–¸ì œ ë¬´ì—‡? ì¥ë‹¨ì </p>\n</li>\n<li>\n<p>URI templateì™€ type converterì— ì˜í•´ ì¶”ì¶œëœ instance ë™ì‘ì›ë¦¬</p>\n</li>\n</ul>\n<div class=\"table-of-contents\">\n<ul>\n<li>\n<p><a href=\"#requestbody\">@RequestBody</a></p>\n<ul>\n<li><a href=\"#%EB%8F%99%EC%9E%91%EC%9B%90%EB%A6%AC\">ë™ì‘ì›ë¦¬</a></li>\n<li><a href=\"#httpmessageconverter-%EB%A1%9C%EC%A7%81\">HttpMessageConverter ë¡œì§</a></li>\n<li><a href=\"#4%EA%B0%80%EC%A7%80-default-messageconverters\">4ê°€ì§€ Default MessageConverters</a></li>\n<li><a href=\"#%EC%9E%90%EC%A3%BC-%EC%93%B0%EC%9D%B4%EB%8A%94-messageconverters-3%EA%B0%80%EC%A7%80\">ìì£¼ ì“°ì´ëŠ” MessageConverters 3ê°€ì§€</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#modelattribute\">@ModelAttribute</a></p>\n<ul>\n<li><a href=\"#at-method-level\">At Method Level</a></li>\n<li><a href=\"#at-method-argument\">At Method Argument</a></li>\n</ul>\n</li>\n</ul>\n</div>","frontmatter":{"date":"June 19, 2021","title":"@ModelAttribute vs. @RequestBody ë” ê¹Šì´ íŒŒí—¤ì¹˜ê¸°","categories":"ìŠ¤í”„ë§ë¶€íŠ¸","author":"ì½”ë‹¤","emoji":"ğŸ–¥"},"fields":{"slug":"/request-body-model-attribute-advanced/"}},"site":{"siteMetadata":{"siteUrl":"https://yjksw.github.io","comments":{"utterances":{"repo":"yjksw/yjksw.github.io"}}}}},"pageContext":{"slug":"/spring-exception-handling/","nextSlug":"/jwt-token/","prevSlug":"/request-body-model-attribute-advanced/"}},
    "staticQueryHashes": ["1073350324","1956554647","2938748437"]}